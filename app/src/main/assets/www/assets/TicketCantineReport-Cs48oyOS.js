import{_ as g,B as h,a4 as d,S as f,a8 as e,R as b,ab as i,aS as v,aW as _,ac as y}from"./index-Bl2lQPd7.js";const D={class:"billet-excuse-report-wrapper"},S={class:"report-header"},x=["src"],w={class:"school-name"},C={class:"billet-info"},k={class:"info-grid"},I={class:"info-item"},N={class:"value student-name"},O={class:"info-item"},T={class:"value"},H={class:"info-item full-width"},R={class:"value"},A={class:"info-item full-width"},B={class:"value"},j={class:"info-item full-width observation-section"},q={class:"observation-box",style:{display:"flex","justify-content":"center",padding:"20px"}},U=["src"],z={class:"report-footer"},F={class:"date-issued"},L={class:"value"},P={__name:"TicketCantineReport",props:{billet:{type:Object,required:!0,default:()=>({studentName:"N/A Prénom Nom (CODE)",studentClass:"N/A Classe",date_billet:new Date().toISOString(),observation:"Motif non spécifié."})},repas:{type:Object,required:!1,default:()=>({type:"Repas",date_repas:new Date().toISOString(),observation:"Motif non spécifié."})},schoolInfo:{type:Object,required:!0,default:()=>({name:"Nom de l'École",logoUrl:null})},currentDate:{type:String,default:()=>new Date().toISOString()},reportWidth:{type:String,default:"76mm"},reportHeight:{type:String,default:"auto"}},setup(s){const n=s,u=h(()=>({width:n.reportWidth,minHeight:n.reportHeight==="auto"?"90mm":n.reportHeight,padding:"4mm",boxSizing:"border-box",fontFamily:'"Arial", "Helvetica", sans-serif',fontSize:"9pt",lineHeight:"1.3",color:"#000000",backgroundColor:"#ffffff",border:"0.5px solid #b0b0b0",margin:"0 auto",pageBreakAfter:"always",display:"flex",flexDirection:"column"})),r=(o,t=!1)=>{if(!o)return"N/A";try{const l=new Date(o),p={day:"2-digit",month:"2-digit",year:"numeric"};let c=l.toLocaleDateString("fr-FR",p);if(t){const m={hour:"2-digit",minute:"2-digit"},a=o.split("T")[1];a&&a!=="00:00:00.000Z"&&a!=="00:00:00.000000Z"&&a!=="00:00:00"&&(c+=` à ${l.toLocaleTimeString("fr-FR",m)}`)}return c}catch{return typeof o=="string"&&o.includes("T")?o.replace("T"," ").substring(0,16):String(o)}};return(o,t)=>(f(),d("div",D,[e("div",{class:"billet-excuse-report",style:y(u.value)},[e("header",S,[s.schoolInfo.logoUrl?(f(),d("img",{key:0,src:s.schoolInfo.logoUrl,alt:"School Logo",class:"logo",crossorigin:"anonymous"},null,8,x)):b("",!0),e("h1",w,i(s.schoolInfo.name),1),t[0]||(t[0]=e("h2",{class:"report-title"},"Ticket Cantine",-1))]),e("section",C,[e("div",k,[e("div",I,[t[1]||(t[1]=e("span",{class:"label"},"Élève:",-1)),e("span",N,i(s.billet.studentName),1)]),e("div",O,[t[2]||(t[2]=e("span",{class:"label"},"Classe:",-1)),e("span",T,i(s.billet.studentClass),1)]),e("div",H,[t[3]||(t[3]=e("span",{class:"label"},"Date du ticket:",-1)),e("span",R,i(r(s.repas?.date_cantine,!1)),1)]),e("div",A,[t[4]||(t[4]=e("span",{class:"label"},"Programme:",-1)),e("span",B,i(s.repas?.description),1)])]),e("div",j,[e("div",q,[e("img",{src:v(_)("api/qr-sortie?eleve="+s.billet.studentId+"&_="+new Date().getTime()),style:{width:"100%"}},null,8,U)])])]),e("footer",z,[e("div",F,[t[5]||(t[5]=e("span",{class:"label"},"Délivré le:",-1)),e("span",L,i(r(s.currentDate,!1)),1)])])],4)]))}},E=g(P,[["__scopeId","data-v-1aedbd26"]]);export{E as default};
