import{_ as D,B as f,a4 as i,S as r,a8 as e,R as y,ab as l,ad as s,a9 as v,aa as h}from"./index-Bl2lQPd7.js";const A={class:"invoice-container"},N={class:"pdf-page page-1"},I={class:"invoice-header"},E={class:"logo-section"},S={class:"logo-placeholder"},T=["src"],C={class:"school-info"},k={key:0,class:"partner-logo-section"},q=["src"],L={class:"school-year"},M={class:"invoice-meta"},x={class:"meta-left"},U={class:"meta-right"},F={class:"summary-table"},B={class:"amount"},R={class:"amount"},P={class:"invoice-items"},Y={class:"items-table"},O={colspan:"3",style:{"background-color":"#F8F8F8"}},w={style:{"font-weight":"bold"}},j={style:{"font-size":"85%"}},z={class:"amount"},V={key:0},Z={class:"amount"},Q={colspan:"2",class:"footer-label total"},G={class:"amount total"},K={class:"pdf-page page-2"},W={class:"payment-details"},H={class:"payment-methods"},J={class:"method method-card"},X={class:"method method-online-box"},$={class:"qr-code-placeholder"},_=["src"],ee={class:"method method-transfer"},te={class:"bank-details"},ne={class:"method method-cheque"},le={__name:"Recouvrement",props:{invoiceData:{type:Object,required:!0,default:()=>({schoolYear:"YYYY/ZZZZ",documentNumber:"S0000000",documentDate:new Date().toISOString().split("T")[0],dueDate:new Date().toISOString().split("T")[0],recipient:{name:"Nom Destinataire",address:"Adresse Destinataire"},currency:"MAD",items:[]})},schoolInfo:{type:Object,default:()=>({name:"LYCEE FRANÇAIS GUY DE MAUPASSANT",addressLine1:"Quartier Almaz, Rocade Sud-Ouest",city:"Casablanca",contactEmail:"encaissements@lfmaupassant.com",paymentEmail:"encaissements@lfmaupassant.com",phone:"(+212) 522 65 43 00",logoUrl:"placeholder-logo-lycee.png"})},partnerInfo:{type:Object,default:()=>({logoUrl:"placeholder-logo-aefe.png",nameLine1:"Agence pour",nameLine2:"l'enseignement français",nameLine3:"à l'étranger"})},paymentDetails:{type:Object,required:!0,default:()=>({fatouratiId:"00000-00000-000",pinCode:"000000",onlinePaymentUrl:"https://ieg.eduka.school/finance/simplepay",qrCodeUrl:"placeholder-qr-code.png",bank:{accountName:"LYCEE FRANÇAIS GUY DE MAUPASSANT-PRIVE",bankName:"BMCE BANK - Agence Casa BVD TANTAN",iban:"011.793.0000.32.210.00.04160.83",swiftCode:"BMCE MA64"}})}},setup(n){const d=n,c=f(()=>!d.invoiceData.items||d.invoiceData.items.length===0?0:d.invoiceData.items.flatMap(t=>t.items&&Array.isArray(t.items)?t.items:[]).reduce((t,a)=>{const m=Number(a.solde)||0;return t+m},0)),g=f(()=>c.value),b=o=>{if(!o)return"";try{const t=new Date(o);return isNaN(t.getTime())?o:t.toLocaleDateString("fr-MA",{day:"2-digit",month:"2-digit",year:"numeric"})}catch(t){return console.error("Error formatting date:",o,t),o}},u=(o,t)=>{typeof o!="number"&&(o=Number(o)||0);try{return new Intl.NumberFormat("fr-MA",{minimumFractionDigits:2,maximumFractionDigits:2}).format(o)}catch(a){return console.error("Error formatting currency:",o,t,a),o.toFixed(2)}};return(o,t)=>(r(),i("div",A,[e("div",N,[e("header",I,[e("div",E,[e("div",S,[e("img",{src:n.schoolInfo.logoUrl||"placeholder-logo-lycee.png",style:{height:"60px"}},null,8,T)]),e("div",C,[e("h1",null,l(n.schoolInfo.name),1),e("p",null,[s(l(n.schoolInfo.addressLine1),1),t[0]||(t[0]=e("br",null,null,-1)),s(l(n.schoolInfo.city),1)]),e("p",null,"Email : "+l(n.schoolInfo.contactEmail),1),e("p",null,"Tél: "+l(n.schoolInfo.phone),1)])]),n.partnerInfo&&n.partnerInfo.logoUrl?(r(),i("div",k,[t[1]||(t[1]=e("div",{class:"etablissement-partenaire"},"ÉTABLISSEMENT PARTENAIRE",-1)),e("img",{src:n.partnerInfo.logoUrl||"placeholder-logo-aefe.png",class:"aefe-logo"},null,8,q)])):y("",!0)]),e("section",L,[e("h2",null,"Année scolaire / School year : "+l(n.invoiceData.schoolYear),1)]),t[9]||(t[9]=e("section",null,[e("h4",null,[e("span",{style:{"text-decoration":"underline"}},"Objet:"),s(" Rappel de paiement des frais de scolarité & services impayés")])],-1)),e("section",M,[e("div",x,[e("p",null,[t[2]||(t[2]=e("strong",null,"Numéro de relevé #:",-1)),s(" "+l(n.invoiceData.documentNumber),1)]),e("p",null,[t[3]||(t[3]=e("strong",null,"Date document / Document date:",-1)),s(" "+l(b(n.invoiceData.documentDate)),1)])]),e("div",U,[e("table",F,[e("tbody",null,[e("tr",null,[e("td",null,"Sous-total: ("+l(n.invoiceData.currency)+")",1),e("td",B,l(u(c.value,n.invoiceData.currency)),1)]),e("tr",null,[e("td",null,[e("strong",null,"Net à payer: ("+l(n.invoiceData.currency)+")",1)]),e("td",R,[e("strong",null,l(u(g.value,n.invoiceData.currency)),1)])])])])])]),e("section",P,[t[7]||(t[7]=e("p",null,"Madame, Monsieur,",-1)),t[8]||(t[8]=e("p",null," Nous nous permettons de vous adresser ce présent courrier pour vous rappeler que les frais de scolarité et services de votre enfant demeurent impayés à ce jour malgré nos multiples relances conformément aux détails ci-dessous : ",-1)),e("table",Y,[t[6]||(t[6]=e("thead",null,[e("tr",null,[e("th",null,"Frais"),e("th",null,"Période"),e("th",{class:"amount"},"TTC")])],-1)),e("tbody",null,[(r(!0),i(v,null,h(n.invoiceData.items,(a,m)=>(r(),i(v,{key:m},[e("tr",null,[e("td",O,[e("span",w,l(a.eleve_nom),1),e("span",j," ("+l(a.classe)+")",1)])]),(r(!0),i(v,null,h(a.items,(p,oe)=>(r(),i("tr",null,[e("td",null,l(p.service_nom),1),e("td",null,l(p.periode),1),e("td",z,l(u(p.solde,n.invoiceData.currency)),1)]))),256))],64))),128)),!n.invoiceData.items||n.invoiceData.items.length===0?(r(),i("tr",V,t[4]||(t[4]=[e("td",{colspan:"3",style:{"text-align":"center"}},"Aucun élément de facturation.",-1)]))):y("",!0)]),e("tfoot",null,[e("tr",null,[t[5]||(t[5]=e("td",{colspan:"2",class:"footer-label"},"Sous-total",-1)),e("td",Z,l(u(c.value,n.invoiceData.currency)),1)]),e("tr",null,[e("td",Q,[e("strong",null,"TOTAL: ("+l(n.invoiceData.currency)+")",1)]),e("td",G,[e("strong",null,l(u(g.value,n.invoiceData.currency)),1)])])])])]),t[10]||(t[10]=e("section",null,[e("p",null," Ces frais de scolarité et services auraient dû être réglés en début de période. Nous vous invitons donc à procéder au règlement des impayés dans les plus brefs délais en utilisant les informations ci-dessous. "),e("p",null," Dans le cas où vous auriez déjà effectué ce règlement, nous vous prions de bien vouloir ignorer ce courrier. "),e("p",null," Dans l'attente de votre régularisation, nous vous prions d'agréer, Madame, Monsieur, l'expression de nos salutations distinguées. "),e("p",null," Le Service Comptabilité ")],-1))]),e("div",K,[e("section",W,[t[26]||(t[26]=e("h3",null,"Détail paiement / payment details",-1)),e("div",H,[e("div",J,[t[11]||(t[11]=e("h4",null,"1. Paiement par carte bancaire / en ligne / Fatourati:",-1)),e("p",null,"Le paiement par carte bancaire ainsi que le paiement en ligne ("+l(n.invoiceData.currency)+" Uniquement) sont fonctionnels.",1)]),e("div",X,[t[12]||(t[12]=e("p",null,[e("strong",null,"Pour consulter et payer vos factures en ligne :")],-1)),t[13]||(t[13]=e("p",null,"Afin de régler votre facture par carte bancaire, veuillez scanner le code QR pour accéder à l'application mobile, puis vous connecter à l'aide de votre identifiant et de votre mot de passe. ",-1)),e("div",$,[e("img",{src:n.paymentDetails.qrCodeUrl||"placeholder-qr-code.png",alt:"QR Code",style:{width:"100px",height:"100px"}},null,8,_)])]),e("div",ee,[t[20]||(t[20]=e("h4",null,"2. Paiement par virement :",-1)),t[21]||(t[21]=e("p",null,"merci de nous en informer.",-1)),e("ul",null,[t[15]||(t[15]=e("li",null,"mentionner le nom et le prénom de l'élève avec la classe pour l'identification du virement.",-1)),e("li",null,[t[14]||(t[14]=s("envoyer à l'établissement une copie de l'accusé de réception ou de l'avis de débit à l'adresse suivante : ")),e("strong",null,l(n.schoolInfo.paymentEmail||n.schoolInfo.contactEmail),1)])]),e("div",te,[e("p",null,[t[16]||(t[16]=e("strong",null,"Account Name / Titulaire du compte:",-1)),s(" "+l(n.paymentDetails.bank.accountName),1)]),e("p",null,[t[17]||(t[17]=e("strong",null,"Bank Name/Nom Banque:",-1)),s(" "+l(n.paymentDetails.bank.bankName),1)]),e("p",null,[t[18]||(t[18]=e("strong",null,"IBAN:",-1)),s(" "+l(n.paymentDetails.bank.iban),1)]),e("p",null,[t[19]||(t[19]=e("strong",null,"SWIFT Code:",-1)),s(" "+l(n.paymentDetails.bank.swiftCode),1)])])]),e("div",ne,[e("h4",null,"3-Paiement par chèque "+l(n.invoiceData.currency)+":",1),e("p",null,[t[22]||(t[22]=s("Le chèque devra être libellé à l'ordre de : ")),e("strong",null,l(n.paymentDetails.bank.accountName),1)]),t[23]||(t[23]=e("p",null,"Merci de regrouper en un seul chèque le paiement pour une même fratrie, en mentionnant au dos du chèque le nom et prénom des élèves avec la classe.",-1)),t[24]||(t[24]=e("p",null,"Les chèques peuvent être déposés chez les agents des encaissements à l'établissement.",-1))]),t[25]||(t[25]=e("div",{class:"method method-cash"},[e("h4",null,"4. Paiement en espèces :"),e("p",null," Les règlements en espèces peuvent être effectués auprès du service comptabilité durant les heures d’ouverture de l’école. Un reçu vous sera remis immédiatement après paiement. ")],-1))])])])]))}},ae=D(le,[["__scopeId","data-v-25dde671"]]);export{ae as default};
