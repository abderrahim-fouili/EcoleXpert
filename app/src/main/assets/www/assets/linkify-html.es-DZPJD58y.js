import{v as xe,B,y as D,cN as He}from"./index-Bl2lQPd7.js";const mi=xe({name:"QChatMessage",props:{sent:Boolean,label:String,bgColor:String,textColor:String,name:String,avatar:String,text:Array,stamp:String,size:String,labelHtml:Boolean,nameHtml:Boolean,textHtml:Boolean,stampHtml:Boolean},setup(t,{slots:n}){const i=B(()=>t.sent===!0?"sent":"received"),s=B(()=>`q-message-text-content q-message-text-content--${i.value}`+(t.textColor!==void 0?` text-${t.textColor}`:"")),e=B(()=>`q-message-text q-message-text--${i.value}`+(t.bgColor!==void 0?` text-${t.bgColor}`:"")),a=B(()=>"q-message-container row items-end no-wrap"+(t.sent===!0?" reverse":"")),r=B(()=>t.size!==void 0?`col-${t.size}`:""),c=B(()=>({msg:t.textHtml===!0?"innerHTML":"textContent",stamp:t.stampHtml===!0?"innerHTML":"textContent",name:t.nameHtml===!0?"innerHTML":"textContent",label:t.labelHtml===!0?"innerHTML":"textContent"}));function l(h){return n.stamp!==void 0?[h,D("div",{class:"q-message-stamp"},n.stamp())]:t.stamp?[h,D("div",{class:"q-message-stamp",[c.value.stamp]:t.stamp})]:[h]}function d(h,f){const m=f===!0?h.length>1?p=>p:p=>D("div",[p]):p=>D("div",{[c.value.msg]:p});return h.map((p,L)=>D("div",{key:L,class:e.value},[D("div",{class:s.value},l(m(p)))]))}return()=>{const h=[];n.avatar!==void 0?h.push(n.avatar()):t.avatar!==void 0&&h.push(D("img",{class:`q-message-avatar q-message-avatar--${i.value}`,src:t.avatar,"aria-hidden":"true"}));const f=[];n.name!==void 0?f.push(D("div",{class:`q-message-name q-message-name--${i.value}`},n.name())):t.name!==void 0&&f.push(D("div",{class:`q-message-name q-message-name--${i.value}`,[c.value.name]:t.name})),n.default!==void 0?f.push(d(He(n.default()),!0)):t.text!==void 0&&f.push(d(t.text)),h.push(D("div",{class:r.value},f));const m=[];return n.label!==void 0?m.push(D("div",{class:"q-message-label"},n.label())):t.label!==void 0&&m.push(D("div",{class:"q-message-label",[c.value.label]:t.label})),m.push(D("div",{class:a.value},h)),D("div",{class:`q-message q-message-${i.value}`},m)}}}),Pe="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2ntley5rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6logistics9properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3ncaster6d0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2psy3ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0america6xi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mögensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",we="ελ1υ2бг1ел3дети4ею2католик6ом3мкд2он1сква6онлайн5рг3рус2ф2сайт3рб3укр3қаз3հայ3ישראל5קום3ابوظبي5رامكو5لاردن4بحرين5جزائر5سعودية6عليان5مغرب5مارات5یران5بارت2زار4يتك3ھارت5تونس4سودان3رية5شبكة4عراق2ب2مان4فلسطين6قطر3كاثوليك6وم3مصر2ليسيا5وريتانيا7قع4همراه5پاکستان7ڀارت4कॉम3नेट3भारत0म्3ोत5संगठन5বাংলা5ভারত2ৰত4ਭਾਰਤ4ભારત4ଭାରତ4இந்தியா6லங்கை6சிங்கப்பூர்11భారత్5ಭಾರತ4ഭാരതം5ලංකා4คอม3ไทย3ລາວ3გე2みんな3アマゾン4クラウド4グーグル4コム2ストア3セール3ファッション6ポイント4世界2中信1国1國1文网3亚马逊3企业2佛山2信息2健康2八卦2公司1益2台湾1灣2商城1店1标2嘉里0大酒店5在线2大拿2天主教3娱乐2家電2广东2微博2慈善2我爱你3手机2招聘2政务1府2新加坡2闻2时尚2書籍2机构2淡马锡3游戏2澳門2点看2移动2组织机构4网址1店1站1络2联通2谷歌2购物2通販2集团2電訊盈科4飞利浦3食品2餐厅2香格里拉3港2닷넷1컴2삼성2한국2",V=(t,n)=>{for(const i in n)t[i]=n[i];return t},Kt="numeric",Qt="ascii",$t="alpha",q="asciinumeric",$="alphanumeric",qt="domain",Te="emoji",Ue="scheme",ze="slashscheme",zt="whitespace";function je(t,n){return t in n||(n[t]=[]),n[t]}function z(t,n,i){n[Kt]&&(n[q]=!0,n[$]=!0),n[Qt]&&(n[q]=!0,n[$t]=!0),n[q]&&(n[$]=!0),n[$t]&&(n[$]=!0),n[$]&&(n[qt]=!0),n[Te]&&(n[qt]=!0);for(const s in n){const e=je(s,i);e.indexOf(t)<0&&e.push(t)}}function Be(t,n){const i={};for(const s in n)n[s].indexOf(t)>=0&&(i[s]=!0);return i}function k(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}k.groups={};k.prototype={accepts(){return!!this.t},go(t){const n=this,i=n.j[t];if(i)return i;for(let s=0;s<n.jr.length;s++){const e=n.jr[s][0],a=n.jr[s][1];if(a&&e.test(t))return a}return n.jd},has(t,n=!1){return n?t in this.j:!!this.go(t)},ta(t,n,i,s){for(let e=0;e<t.length;e++)this.tt(t[e],n,i,s)},tr(t,n,i,s){s=s||k.groups;let e;return n&&n.j?e=n:(e=new k(n),i&&s&&z(n,i,s)),this.jr.push([t,e]),e},ts(t,n,i,s){let e=this;const a=t.length;if(!a)return e;for(let r=0;r<a-1;r++)e=e.tt(t[r]);return e.tt(t[a-1],n,i,s)},tt(t,n,i,s){s=s||k.groups;const e=this;if(n&&n.j)return e.j[t]=n,n;const a=n;let r,c=e.go(t);if(c?(r=new k,V(r.j,c.j),r.jr.push.apply(r.jr,c.jr),r.jd=c.jd,r.t=c.t):r=new k,a){if(s)if(r.t&&typeof r.t=="string"){const l=V(Be(r.t,s),i);z(a,l,s)}else i&&z(a,i,s);r.t=a}return e.j[t]=r,r}};const u=(t,n,i,s,e)=>t.ta(n,i,s,e),g=(t,n,i,s,e)=>t.tr(n,i,s,e),ue=(t,n,i,s,e)=>t.ts(n,i,s,e),o=(t,n,i,s,e)=>t.tt(n,i,s,e),x="WORD",Wt="UWORD",be="ASCIINUMERICAL",ye="ALPHANUMERICAL",X="LOCALHOST",Gt="TLD",_t="UTLD",st="SCHEME",M="SLASH_SCHEME",Zt="NUM",Yt="WS",te="NL",W="OPENBRACE",G="CLOSEBRACE",at="OPENBRACKET",ot="CLOSEBRACKET",rt="OPENPAREN",ct="CLOSEPAREN",lt="OPENANGLEBRACKET",ut="CLOSEANGLEBRACKET",ht="FULLWIDTHLEFTPAREN",ft="FULLWIDTHRIGHTPAREN",dt="LEFTCORNERBRACKET",mt="RIGHTCORNERBRACKET",pt="LEFTWHITECORNERBRACKET",gt="RIGHTWHITECORNERBRACKET",Tt="FULLWIDTHLESSTHAN",bt="FULLWIDTHGREATERTHAN",yt="AMPERSAND",ee="APOSTROPHE",Et="ASTERISK",w="AT",At="BACKSLASH",Ct="BACKTICK",Dt="CARET",U="COLON",ie="COMMA",kt="DOLLAR",N="DOT",St="EQUALS",ne="EXCLAMATION",v="HYPHEN",_="PERCENT",vt="PIPE",Lt="PLUS",Nt="POUND",Y="QUERY",se="QUOTE",Ee="FULLWIDTHMIDDLEDOT",ae="SEMI",I="SLASH",J="TILDE",It="UNDERSCORE",Ae="EMOJI",Rt="SYM";var Ce=Object.freeze({__proto__:null,WORD:x,UWORD:Wt,ASCIINUMERICAL:be,ALPHANUMERICAL:ye,LOCALHOST:X,TLD:Gt,UTLD:_t,SCHEME:st,SLASH_SCHEME:M,NUM:Zt,WS:Yt,NL:te,OPENBRACE:W,CLOSEBRACE:G,OPENBRACKET:at,CLOSEBRACKET:ot,OPENPAREN:rt,CLOSEPAREN:ct,OPENANGLEBRACKET:lt,CLOSEANGLEBRACKET:ut,FULLWIDTHLEFTPAREN:ht,FULLWIDTHRIGHTPAREN:ft,LEFTCORNERBRACKET:dt,RIGHTCORNERBRACKET:mt,LEFTWHITECORNERBRACKET:pt,RIGHTWHITECORNERBRACKET:gt,FULLWIDTHLESSTHAN:Tt,FULLWIDTHGREATERTHAN:bt,AMPERSAND:yt,APOSTROPHE:ee,ASTERISK:Et,AT:w,BACKSLASH:At,BACKTICK:Ct,CARET:Dt,COLON:U,COMMA:ie,DOLLAR:kt,DOT:N,EQUALS:St,EXCLAMATION:ne,HYPHEN:v,PERCENT:_,PIPE:vt,PLUS:Lt,POUND:Nt,QUERY:Y,QUOTE:se,FULLWIDTHMIDDLEDOT:Ee,SEMI:ae,SLASH:I,TILDE:J,UNDERSCORE:It,EMOJI:Ae,SYM:Rt});const R=/[a-z]/,Q=new RegExp("\\p{L}","u"),jt=new RegExp("\\p{Emoji}","u"),O=/\d/,Bt=/\s/,he="\r",Mt=`
`,Me="️",Ve="‍",Vt="￼";let et=null,it=null;function Fe(t=[]){const n={};k.groups=n;const i=new k;et==null&&(et=fe(Pe)),it==null&&(it=fe(we)),o(i,"'",ee),o(i,"{",W),o(i,"}",G),o(i,"[",at),o(i,"]",ot),o(i,"(",rt),o(i,")",ct),o(i,"<",lt),o(i,">",ut),o(i,"（",ht),o(i,"）",ft),o(i,"「",dt),o(i,"」",mt),o(i,"『",pt),o(i,"』",gt),o(i,"＜",Tt),o(i,"＞",bt),o(i,"&",yt),o(i,"*",Et),o(i,"@",w),o(i,"`",Ct),o(i,"^",Dt),o(i,":",U),o(i,",",ie),o(i,"$",kt),o(i,".",N),o(i,"=",St),o(i,"!",ne),o(i,"-",v),o(i,"%",_),o(i,"|",vt),o(i,"+",Lt),o(i,"#",Nt),o(i,"?",Y),o(i,'"',se),o(i,"/",I),o(i,";",ae),o(i,"~",J),o(i,"_",It),o(i,"\\",At),o(i,"・",Ee);const s=g(i,O,Zt,{[Kt]:!0});g(s,O,s);const e=g(s,R,be,{[q]:!0}),a=g(s,Q,ye,{[$]:!0}),r=g(i,R,x,{[Qt]:!0});g(r,O,e),g(r,R,r),g(e,O,e),g(e,R,e);const c=g(i,Q,Wt,{[$t]:!0});g(c,R),g(c,O,a),g(c,Q,c),g(a,O,a),g(a,R),g(a,Q,a);const l=o(i,Mt,te,{[zt]:!0}),d=o(i,he,Yt,{[zt]:!0}),h=g(i,Bt,Yt,{[zt]:!0});o(i,Vt,h),o(d,Mt,l),o(d,Vt,h),g(d,Bt,h),o(h,he),o(h,Mt),g(h,Bt,h),o(h,Vt,h);const f=g(i,jt,Ae,{[Te]:!0});o(f,"#"),g(f,jt,f),o(f,Me,f);const m=o(f,Ve);o(m,"#"),g(m,jt,f);const p=[[R,r],[O,e]],L=[[R,null],[Q,c],[O,a]];for(let T=0;T<et.length;T++)P(i,et[T],Gt,x,p);for(let T=0;T<it.length;T++)P(i,it[T],_t,Wt,L);z(Gt,{tld:!0,ascii:!0},n),z(_t,{utld:!0,alpha:!0},n),P(i,"file",st,x,p),P(i,"mailto",st,x,p),P(i,"http",M,x,p),P(i,"https",M,x,p),P(i,"ftp",M,x,p),P(i,"ftps",M,x,p),z(st,{scheme:!0,ascii:!0},n),z(M,{slashscheme:!0,ascii:!0},n),t=t.sort((T,C)=>T[0]>C[0]?1:-1);for(let T=0;T<t.length;T++){const C=t[T][0],b=t[T][1]?{[Ue]:!0}:{[ze]:!0};C.indexOf("-")>=0?b[qt]=!0:R.test(C)?O.test(C)?b[q]=!0:b[Qt]=!0:b[Kt]=!0,ue(i,C,C,b)}return ue(i,"localhost",X,{ascii:!0}),i.jd=new k(Rt),{start:i,tokens:V({groups:n},Ce)}}function De(t,n){const i=Ke(n.replace(/[A-Z]/g,c=>c.toLowerCase())),s=i.length,e=[];let a=0,r=0;for(;r<s;){let c=t,l=null,d=0,h=null,f=-1,m=-1;for(;r<s&&(l=c.go(i[r]));)c=l,c.accepts()?(f=0,m=0,h=c):f>=0&&(f+=i[r].length,m++),d+=i[r].length,a+=i[r].length,r++;a-=f,r-=m,d-=f,e.push({t:h.t,v:n.slice(a-d,a),s:a-d,e:a})}return e}function Ke(t){const n=[],i=t.length;let s=0;for(;s<i;){let e=t.charCodeAt(s),a,r=e<55296||e>56319||s+1===i||(a=t.charCodeAt(s+1))<56320||a>57343?t[s]:t.slice(s,s+2);n.push(r),s+=r.length}return n}function P(t,n,i,s,e){let a;const r=n.length;for(let c=0;c<r-1;c++){const l=n[c];t.j[l]?a=t.j[l]:(a=new k(s),a.jr=e.slice(),t.j[l]=a),t=a}return a=new k(i),a.jr=e.slice(),t.j[n[r-1]]=a,a}function fe(t){const n=[],i=[];let s=0,e="0123456789";for(;s<t.length;){let a=0;for(;e.indexOf(t[s+a])>=0;)a++;if(a>0){n.push(i.join(""));for(let r=parseInt(t.substring(s,s+a),10);r>0;r--)i.pop();s+=a}else i.push(t[s]),s++}return n}const Z={defaultProtocol:"http",events:null,format:de,formatHref:de,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function oe(t,n=null){let i=V({},Z);t&&(i=V(i,t instanceof oe?t.o:t));const s=i.ignoreTags,e=[];for(let a=0;a<s.length;a++)e.push(s[a].toUpperCase());this.o=i,n&&(this.defaultRender=n),this.ignoreTags=e}oe.prototype={o:Z,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,n,i){const s=n!=null;let e=this.o[t];return e&&(typeof e=="object"?(e=i.t in e?e[i.t]:Z[t],typeof e=="function"&&s&&(e=e(n,i))):typeof e=="function"&&s&&(e=e(n,i.t,i)),e)},getObj(t,n,i){let s=this.o[t];return typeof s=="function"&&n!=null&&(s=s(n,i.t,i)),s},render(t){const n=t.render(this);return(this.get("render",null,t)||this.defaultRender)(n,t.t,t)}};function de(t){return t}function ke(t,n){this.t="token",this.v=t,this.tk=n}ke.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const n=this.toString(),i=t.get("truncate",n,this),s=t.get("format",n,this);return i&&s.length>i?s.substring(0,i)+"…":s},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=Z.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const n=this,i=this.toHref(t.get("defaultProtocol")),s=t.get("formatHref",i,this),e=t.get("tagName",i,n),a=this.toFormattedString(t),r={},c=t.get("className",i,n),l=t.get("target",i,n),d=t.get("rel",i,n),h=t.getObj("attributes",i,n),f=t.getObj("events",i,n);return r.href=s,c&&(r.class=c),l&&(r.target=l),d&&(r.rel=d),h&&V(r,h),{tagName:e,attributes:r,content:a,eventListeners:f}}};function xt(t,n){class i extends ke{constructor(e,a){super(e,a),this.t=t}}for(const s in n)i.prototype[s]=n[s];return i.t=t,i}const me=xt("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),pe=xt("text"),Qe=xt("nl"),nt=xt("url",{isLink:!0,toHref(t=Z.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==X&&t[1].t===U}}),S=t=>new k(t);function $e({groups:t}){const n=t.domain.concat([yt,Et,w,At,Ct,Dt,kt,St,v,Zt,_,vt,Lt,Nt,I,Rt,J,It]),i=[U,ie,N,ne,_,Y,se,ae,lt,ut,W,G,ot,at,rt,ct,ht,ft,dt,mt,pt,gt,Tt,bt],s=[yt,ee,Et,At,Ct,Dt,kt,St,v,W,G,_,vt,Lt,Nt,Y,I,Rt,J,It],e=S(),a=o(e,J);u(a,s,a),u(a,t.domain,a);const r=S(),c=S(),l=S();u(e,t.domain,r),u(e,t.scheme,c),u(e,t.slashscheme,l),u(r,s,a),u(r,t.domain,r);const d=o(r,w);o(a,w,d),o(c,w,d),o(l,w,d);const h=o(a,N);u(h,s,a),u(h,t.domain,a);const f=S();u(d,t.domain,f),u(f,t.domain,f);const m=o(f,N);u(m,t.domain,f);const p=S(me);u(m,t.tld,p),u(m,t.utld,p),o(d,X,p);const L=o(f,v);o(L,v,L),u(L,t.domain,f),u(p,t.domain,f),o(p,N,m),o(p,v,L);const T=o(p,U);u(T,t.numeric,me);const C=o(r,v),H=o(r,N);o(C,v,C),u(C,t.domain,r),u(H,s,a),u(H,t.domain,r);const b=S(nt);u(H,t.tld,b),u(H,t.utld,b),u(b,t.domain,r),u(b,s,a),o(b,N,H),o(b,v,C),o(b,w,d);const Ie=o(b,U),re=S(nt);u(Ie,t.numeric,re);const y=S(nt),F=S();u(y,n,y),u(y,i,F),u(F,n,y),u(F,i,F),o(b,I,y),o(re,I,y);const Ht=o(c,U),Re=o(l,U),Oe=o(Re,I),Pt=o(Oe,I);u(c,t.domain,r),o(c,N,H),o(c,v,C),u(l,t.domain,r),o(l,N,H),o(l,v,C),u(Ht,t.domain,y),o(Ht,I,y),o(Ht,Y,y),u(Pt,t.domain,y),u(Pt,n,y),o(Pt,I,y);const ce=[[W,G],[at,ot],[rt,ct],[lt,ut],[ht,ft],[dt,mt],[pt,gt],[Tt,bt]];for(let wt=0;wt<ce.length;wt++){const[le,Ut]=ce[wt],tt=o(y,le);o(F,le,tt),o(tt,Ut,y);const j=S(nt);u(tt,n,j);const K=S();u(tt,i),u(j,n,j),u(j,i,K),u(K,n,j),u(K,i,K),o(j,Ut,y),o(K,Ut,y)}return o(e,X,b),o(e,te,Qe),{start:e,tokens:Ce}}function qe(t,n,i){let s=i.length,e=0,a=[],r=[];for(;e<s;){let c=t,l=null,d=null,h=0,f=null,m=-1;for(;e<s&&!(l=c.go(i[e].t));)r.push(i[e++]);for(;e<s&&(d=l||c.go(i[e].t));)l=null,c=d,c.accepts()?(m=0,f=c):m>=0&&m++,e++,h++;if(m<0)e-=h,e<s&&(r.push(i[e]),e++);else{r.length>0&&(a.push(Ft(pe,n,r)),r=[]),e-=m,h-=m;const p=f.t,L=i.slice(e-h,e);a.push(Ft(p,n,L))}}return r.length>0&&a.push(Ft(pe,n,r)),a}function Ft(t,n,i){const s=i[0].s,e=i[i.length-1].e,a=n.slice(s,e);return new t(a,i)}const A={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function We(){A.scanner=Fe(A.customSchemes);for(let t=0;t<A.tokenQueue.length;t++)A.tokenQueue[t][1]({scanner:A.scanner});A.parser=$e(A.scanner.tokens);for(let t=0;t<A.pluginQueue.length;t++)A.pluginQueue[t][1]({scanner:A.scanner,parser:A.parser});return A.initialized=!0,A}function Se(t){return A.initialized||We(),qe(A.parser.start,t,De(A.scanner.start,t))}Se.scan=De;var Ge={amp:"&",gt:">",lt:"<",nbsp:" ",quot:'"'},_e=/^#[xX]([A-Fa-f0-9]+)$/,Ye=/^#([0-9]+)$/,Je=/^([A-Za-z0-9]+)$/,Xe=function(){function t(n){this.named=n}return t.prototype.parse=function(n){if(n){var i=n.match(_e);if(i)return String.fromCharCode(parseInt(i[1],16));if(i=n.match(Ye),i)return String.fromCharCode(parseInt(i[1],10));if(i=n.match(Je),i)return this.named[i[1]]||"&"+i[1]+";"}},t}(),Ze=/[\t\n\f ]/,ti=/[A-Za-z]/,ei=/\r\n?/g;function E(t){return Ze.test(t)}function ge(t){return ti.test(t)}function ii(t){return t.replace(ei,`
`)}var ni=function(){function t(n,i,s){s===void 0&&(s="precompile"),this.delegate=n,this.entityParser=i,this.mode=s,this.state="beforeData",this.line=-1,this.column=-1,this.input="",this.index=-1,this.tagNameBuffer="",this.states={beforeData:function(){var e=this.peek();if(e==="<"&&!this.isIgnoredEndTag())this.transitionTo("tagOpen"),this.markTagStart(),this.consume();else{if(this.mode==="precompile"&&e===`
`){var a=this.tagNameBuffer.toLowerCase();(a==="pre"||a==="textarea")&&this.consume()}this.transitionTo("data"),this.delegate.beginData()}},data:function(){var e=this.peek(),a=this.tagNameBuffer;e==="<"&&!this.isIgnoredEndTag()?(this.delegate.finishData(),this.transitionTo("tagOpen"),this.markTagStart(),this.consume()):e==="&"&&a!=="script"&&a!=="style"?(this.consume(),this.delegate.appendToData(this.consumeCharRef()||"&")):(this.consume(),this.delegate.appendToData(e))},tagOpen:function(){var e=this.consume();e==="!"?this.transitionTo("markupDeclarationOpen"):e==="/"?this.transitionTo("endTagOpen"):(e==="@"||e===":"||ge(e))&&(this.transitionTo("tagName"),this.tagNameBuffer="",this.delegate.beginStartTag(),this.appendToTagName(e))},markupDeclarationOpen:function(){var e=this.consume();if(e==="-"&&this.peek()==="-")this.consume(),this.transitionTo("commentStart"),this.delegate.beginComment();else{var a=e.toUpperCase()+this.input.substring(this.index,this.index+6).toUpperCase();a==="DOCTYPE"&&(this.consume(),this.consume(),this.consume(),this.consume(),this.consume(),this.consume(),this.transitionTo("doctype"),this.delegate.beginDoctype&&this.delegate.beginDoctype())}},doctype:function(){var e=this.consume();E(e)&&this.transitionTo("beforeDoctypeName")},beforeDoctypeName:function(){var e=this.consume();E(e)||(this.transitionTo("doctypeName"),this.delegate.appendToDoctypeName&&this.delegate.appendToDoctypeName(e.toLowerCase()))},doctypeName:function(){var e=this.consume();E(e)?this.transitionTo("afterDoctypeName"):e===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypeName&&this.delegate.appendToDoctypeName(e.toLowerCase())},afterDoctypeName:function(){var e=this.consume();if(!E(e))if(e===">")this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData");else{var a=e.toUpperCase()+this.input.substring(this.index,this.index+5).toUpperCase(),r=a.toUpperCase()==="PUBLIC",c=a.toUpperCase()==="SYSTEM";(r||c)&&(this.consume(),this.consume(),this.consume(),this.consume(),this.consume(),this.consume()),r?this.transitionTo("afterDoctypePublicKeyword"):c&&this.transitionTo("afterDoctypeSystemKeyword")}},afterDoctypePublicKeyword:function(){var e=this.peek();E(e)?(this.transitionTo("beforeDoctypePublicIdentifier"),this.consume()):e==='"'?(this.transitionTo("doctypePublicIdentifierDoubleQuoted"),this.consume()):e==="'"?(this.transitionTo("doctypePublicIdentifierSingleQuoted"),this.consume()):e===">"&&(this.consume(),this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData"))},doctypePublicIdentifierDoubleQuoted:function(){var e=this.consume();e==='"'?this.transitionTo("afterDoctypePublicIdentifier"):e===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypePublicIdentifier&&this.delegate.appendToDoctypePublicIdentifier(e)},doctypePublicIdentifierSingleQuoted:function(){var e=this.consume();e==="'"?this.transitionTo("afterDoctypePublicIdentifier"):e===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypePublicIdentifier&&this.delegate.appendToDoctypePublicIdentifier(e)},afterDoctypePublicIdentifier:function(){var e=this.consume();E(e)?this.transitionTo("betweenDoctypePublicAndSystemIdentifiers"):e===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):e==='"'?this.transitionTo("doctypeSystemIdentifierDoubleQuoted"):e==="'"&&this.transitionTo("doctypeSystemIdentifierSingleQuoted")},betweenDoctypePublicAndSystemIdentifiers:function(){var e=this.consume();E(e)||(e===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):e==='"'?this.transitionTo("doctypeSystemIdentifierDoubleQuoted"):e==="'"&&this.transitionTo("doctypeSystemIdentifierSingleQuoted"))},doctypeSystemIdentifierDoubleQuoted:function(){var e=this.consume();e==='"'?this.transitionTo("afterDoctypeSystemIdentifier"):e===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypeSystemIdentifier&&this.delegate.appendToDoctypeSystemIdentifier(e)},doctypeSystemIdentifierSingleQuoted:function(){var e=this.consume();e==="'"?this.transitionTo("afterDoctypeSystemIdentifier"):e===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypeSystemIdentifier&&this.delegate.appendToDoctypeSystemIdentifier(e)},afterDoctypeSystemIdentifier:function(){var e=this.consume();E(e)||e===">"&&(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData"))},commentStart:function(){var e=this.consume();e==="-"?this.transitionTo("commentStartDash"):e===">"?(this.delegate.finishComment(),this.transitionTo("beforeData")):(this.delegate.appendToCommentData(e),this.transitionTo("comment"))},commentStartDash:function(){var e=this.consume();e==="-"?this.transitionTo("commentEnd"):e===">"?(this.delegate.finishComment(),this.transitionTo("beforeData")):(this.delegate.appendToCommentData("-"),this.transitionTo("comment"))},comment:function(){var e=this.consume();e==="-"?this.transitionTo("commentEndDash"):this.delegate.appendToCommentData(e)},commentEndDash:function(){var e=this.consume();e==="-"?this.transitionTo("commentEnd"):(this.delegate.appendToCommentData("-"+e),this.transitionTo("comment"))},commentEnd:function(){var e=this.consume();e===">"?(this.delegate.finishComment(),this.transitionTo("beforeData")):(this.delegate.appendToCommentData("--"+e),this.transitionTo("comment"))},tagName:function(){var e=this.consume();E(e)?this.transitionTo("beforeAttributeName"):e==="/"?this.transitionTo("selfClosingStartTag"):e===">"?(this.delegate.finishTag(),this.transitionTo("beforeData")):this.appendToTagName(e)},endTagName:function(){var e=this.consume();E(e)?(this.transitionTo("beforeAttributeName"),this.tagNameBuffer=""):e==="/"?(this.transitionTo("selfClosingStartTag"),this.tagNameBuffer=""):e===">"?(this.delegate.finishTag(),this.transitionTo("beforeData"),this.tagNameBuffer=""):this.appendToTagName(e)},beforeAttributeName:function(){var e=this.peek();if(E(e)){this.consume();return}else e==="/"?(this.transitionTo("selfClosingStartTag"),this.consume()):e===">"?(this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):e==="="?(this.delegate.reportSyntaxError("attribute name cannot start with equals sign"),this.transitionTo("attributeName"),this.delegate.beginAttribute(),this.consume(),this.delegate.appendToAttributeName(e)):(this.transitionTo("attributeName"),this.delegate.beginAttribute())},attributeName:function(){var e=this.peek();E(e)?(this.transitionTo("afterAttributeName"),this.consume()):e==="/"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("selfClosingStartTag")):e==="="?(this.transitionTo("beforeAttributeValue"),this.consume()):e===">"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):e==='"'||e==="'"||e==="<"?(this.delegate.reportSyntaxError(e+" is not a valid character within attribute names"),this.consume(),this.delegate.appendToAttributeName(e)):(this.consume(),this.delegate.appendToAttributeName(e))},afterAttributeName:function(){var e=this.peek();if(E(e)){this.consume();return}else e==="/"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("selfClosingStartTag")):e==="="?(this.consume(),this.transitionTo("beforeAttributeValue")):e===">"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.transitionTo("attributeName"),this.delegate.beginAttribute(),this.consume(),this.delegate.appendToAttributeName(e))},beforeAttributeValue:function(){var e=this.peek();E(e)?this.consume():e==='"'?(this.transitionTo("attributeValueDoubleQuoted"),this.delegate.beginAttributeValue(!0),this.consume()):e==="'"?(this.transitionTo("attributeValueSingleQuoted"),this.delegate.beginAttributeValue(!0),this.consume()):e===">"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):(this.transitionTo("attributeValueUnquoted"),this.delegate.beginAttributeValue(!1),this.consume(),this.delegate.appendToAttributeValue(e))},attributeValueDoubleQuoted:function(){var e=this.consume();e==='"'?(this.delegate.finishAttributeValue(),this.transitionTo("afterAttributeValueQuoted")):e==="&"?this.delegate.appendToAttributeValue(this.consumeCharRef()||"&"):this.delegate.appendToAttributeValue(e)},attributeValueSingleQuoted:function(){var e=this.consume();e==="'"?(this.delegate.finishAttributeValue(),this.transitionTo("afterAttributeValueQuoted")):e==="&"?this.delegate.appendToAttributeValue(this.consumeCharRef()||"&"):this.delegate.appendToAttributeValue(e)},attributeValueUnquoted:function(){var e=this.peek();E(e)?(this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("beforeAttributeName")):e==="/"?(this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("selfClosingStartTag")):e==="&"?(this.consume(),this.delegate.appendToAttributeValue(this.consumeCharRef()||"&")):e===">"?(this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):(this.consume(),this.delegate.appendToAttributeValue(e))},afterAttributeValueQuoted:function(){var e=this.peek();E(e)?(this.consume(),this.transitionTo("beforeAttributeName")):e==="/"?(this.consume(),this.transitionTo("selfClosingStartTag")):e===">"?(this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):this.transitionTo("beforeAttributeName")},selfClosingStartTag:function(){var e=this.peek();e===">"?(this.consume(),this.delegate.markTagAsSelfClosing(),this.delegate.finishTag(),this.transitionTo("beforeData")):this.transitionTo("beforeAttributeName")},endTagOpen:function(){var e=this.consume();(e==="@"||e===":"||ge(e))&&(this.transitionTo("endTagName"),this.tagNameBuffer="",this.delegate.beginEndTag(),this.appendToTagName(e))}},this.reset()}return t.prototype.reset=function(){this.transitionTo("beforeData"),this.input="",this.tagNameBuffer="",this.index=0,this.line=1,this.column=0,this.delegate.reset()},t.prototype.transitionTo=function(n){this.state=n},t.prototype.tokenize=function(n){this.reset(),this.tokenizePart(n),this.tokenizeEOF()},t.prototype.tokenizePart=function(n){for(this.input+=ii(n);this.index<this.input.length;){var i=this.states[this.state];if(i!==void 0)i.call(this);else throw new Error("unhandled state "+this.state)}},t.prototype.tokenizeEOF=function(){this.flushData()},t.prototype.flushData=function(){this.state==="data"&&(this.delegate.finishData(),this.transitionTo("beforeData"))},t.prototype.peek=function(){return this.input.charAt(this.index)},t.prototype.consume=function(){var n=this.peek();return this.index++,n===`
`?(this.line++,this.column=0):this.column++,n},t.prototype.consumeCharRef=function(){var n=this.input.indexOf(";",this.index);if(n!==-1){var i=this.input.slice(this.index,n),s=this.entityParser.parse(i);if(s){for(var e=i.length;e;)this.consume(),e--;return this.consume(),s}}},t.prototype.markTagStart=function(){this.delegate.tagOpen()},t.prototype.appendToTagName=function(n){this.tagNameBuffer+=n,this.delegate.appendToTagName(n)},t.prototype.isIgnoredEndTag=function(){var n=this.tagNameBuffer;return n==="title"&&this.input.substring(this.index,this.index+8)!=="</title>"||n==="style"&&this.input.substring(this.index,this.index+8)!=="</style>"||n==="script"&&this.input.substring(this.index,this.index+9)!=="<\/script>"},t}(),si=function(){function t(n,i){i===void 0&&(i={}),this.options=i,this.token=null,this.startLine=1,this.startColumn=0,this.tokens=[],this.tokenizer=new ni(this,n,i.mode),this._currentAttribute=void 0}return t.prototype.tokenize=function(n){return this.tokens=[],this.tokenizer.tokenize(n),this.tokens},t.prototype.tokenizePart=function(n){return this.tokens=[],this.tokenizer.tokenizePart(n),this.tokens},t.prototype.tokenizeEOF=function(){return this.tokens=[],this.tokenizer.tokenizeEOF(),this.tokens[0]},t.prototype.reset=function(){this.token=null,this.startLine=1,this.startColumn=0},t.prototype.current=function(){var n=this.token;if(n===null)throw new Error("token was unexpectedly null");if(arguments.length===0)return n;for(var i=0;i<arguments.length;i++)if(n.type===arguments[i])return n;throw new Error("token type was unexpectedly "+n.type)},t.prototype.push=function(n){this.token=n,this.tokens.push(n)},t.prototype.currentAttribute=function(){return this._currentAttribute},t.prototype.addLocInfo=function(){this.options.loc&&(this.current().loc={start:{line:this.startLine,column:this.startColumn},end:{line:this.tokenizer.line,column:this.tokenizer.column}}),this.startLine=this.tokenizer.line,this.startColumn=this.tokenizer.column},t.prototype.beginDoctype=function(){this.push({type:"Doctype",name:""})},t.prototype.appendToDoctypeName=function(n){this.current("Doctype").name+=n},t.prototype.appendToDoctypePublicIdentifier=function(n){var i=this.current("Doctype");i.publicIdentifier===void 0?i.publicIdentifier=n:i.publicIdentifier+=n},t.prototype.appendToDoctypeSystemIdentifier=function(n){var i=this.current("Doctype");i.systemIdentifier===void 0?i.systemIdentifier=n:i.systemIdentifier+=n},t.prototype.endDoctype=function(){this.addLocInfo()},t.prototype.beginData=function(){this.push({type:"Chars",chars:""})},t.prototype.appendToData=function(n){this.current("Chars").chars+=n},t.prototype.finishData=function(){this.addLocInfo()},t.prototype.beginComment=function(){this.push({type:"Comment",chars:""})},t.prototype.appendToCommentData=function(n){this.current("Comment").chars+=n},t.prototype.finishComment=function(){this.addLocInfo()},t.prototype.tagOpen=function(){},t.prototype.beginStartTag=function(){this.push({type:"StartTag",tagName:"",attributes:[],selfClosing:!1})},t.prototype.beginEndTag=function(){this.push({type:"EndTag",tagName:""})},t.prototype.finishTag=function(){this.addLocInfo()},t.prototype.markTagAsSelfClosing=function(){this.current("StartTag").selfClosing=!0},t.prototype.appendToTagName=function(n){this.current("StartTag","EndTag").tagName+=n},t.prototype.beginAttribute=function(){this._currentAttribute=["","",!1]},t.prototype.appendToAttributeName=function(n){this.currentAttribute()[0]+=n},t.prototype.beginAttributeValue=function(n){this.currentAttribute()[2]=n},t.prototype.appendToAttributeValue=function(n){this.currentAttribute()[1]+=n},t.prototype.finishAttributeValue=function(){this.current("StartTag").attributes.push(this._currentAttribute)},t.prototype.reportSyntaxError=function(n){this.current().syntaxError=n},t}();function ai(t,n){var i=new si(new Xe(Ge),n);return i.tokenize(t)}const ve="LinkifyResult",Ot="StartTag",Le="EndTag",Jt="Chars",oi="Comment",ri="Doctype";function pi(t,n={}){const i=ai(t),s=[],e=[],a=new oe(n,ui);for(let r=0;r<i.length;r++){const c=i[r];if(c.type===Ot){s.push(c);const l=c.tagName.toUpperCase();if(!(l==="A"||a.ignoreTags.indexOf(l)>=0))continue;let h=s.length;li(l,i,++r,s),r+=s.length-h-1}else if(c.type!==Jt)s.push(c);else{const l=ci(c.chars,a);s.push.apply(s,l)}}for(let r=0;r<s.length;r++){const c=s[r];switch(c.type){case ve:e.push(c.rendered);break;case Ot:{let l="<"+c.tagName;c.attributes.length>0&&(l+=" "+fi(c.attributes).join(" ")),c.selfClosing&&(l+=" /"),l+=">",e.push(l);break}case Le:e.push(`</${c.tagName}>`);break;case Jt:e.push(Xt(c.chars));break;case oi:e.push(`<!--${Xt(c.chars)}-->`);break;case ri:{let l=`<!DOCTYPE ${c.name}`;c.publicIdentifier&&(l+=` PUBLIC "${c.publicIdentifier}"`),c.systemIdentifier&&(l+=` "${c.systemIdentifier}"`),l+=">",e.push(l);break}}}return e.join("")}function ci(t,n){const i=Se(t),s=[];for(let e=0;e<i.length;e++){const a=i[e];a.t==="nl"&&n.get("nl2br")?s.push({type:Ot,tagName:"br",attributes:[],selfClosing:!0}):!a.isLink||!n.check(a)?s.push({type:Jt,chars:a.toString()}):s.push({type:ve,rendered:n.render(a)})}return s}function li(t,n,i,s){let e=1;for(;i<n.length&&e>0;){let a=n[i];a.type===Ot&&a.tagName.toUpperCase()===t?e++:a.type===Le&&a.tagName.toUpperCase()===t&&e--,s.push(a),i++}return s}function ui({tagName:t,attributes:n,content:i}){return`<${t} ${hi(n)}>${Xt(i)}</${t}>`}function Xt(t){return t.replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Ne(t){return t.replace(/"/g,"&quot;")}function hi(t){const n=[];for(const i in t){const s=t[i]+"";n.push(`${i}="${Ne(s)}"`)}return n.join(" ")}function fi(t){const n=[];for(let i=0;i<t.length;i++){const s=t[i][0],e=t[i][1]+"";n.push(`${s}="${Ne(e)}"`)}return n}export{mi as Q,pi as l};
