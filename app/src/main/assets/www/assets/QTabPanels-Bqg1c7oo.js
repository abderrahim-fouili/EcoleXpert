import{z as B,bm as R,A as W,B as o,Y as L,y as s,bo as M,cN as _,bp as x,cO as j,v as V,W as U,X,c4 as Y}from"./index-Bl2lQPd7.js";import{T as F}from"./TouchSwipe-jpsGI2FR.js";import{u as G}from"./use-render-cache-DLxPkVnQ.js";const H={name:{required:!0},disable:Boolean},N={setup(t,{slots:l}){return()=>s("div",{class:"q-panel scroll",role:"tabpanel"},x(l.default))}},J={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},Z=["update:modelValue","beforeTransition","transition"];function ee(){const{props:t,emit:l,proxy:d}=B(),{getCache:P}=G(),{registerTimeout:g}=R();let a,u;const p=W(null),i={value:null};function E(e){const n=t.vertical===!0?"up":"left";c((d.$q.lang.rtl===!0?-1:1)*(e.direction===n?1:-1))}const I=o(()=>[[F,E,void 0,{horizontal:t.vertical!==!0,vertical:t.vertical,mouse:!0}]]),Q=o(()=>t.transitionPrev||`slide-${t.vertical===!0?"down":"right"}`),$=o(()=>t.transitionNext||`slide-${t.vertical===!0?"up":"left"}`),h=o(()=>`--q-transition-duration: ${t.transitionDuration}ms`),v=o(()=>typeof t.modelValue=="string"||typeof t.modelValue=="number"?t.modelValue:String(t.modelValue)),k=o(()=>({include:t.keepAliveInclude,exclude:t.keepAliveExclude,max:t.keepAliveMax})),T=o(()=>t.keepAliveInclude!==void 0||t.keepAliveExclude!==void 0);L(()=>t.modelValue,(e,n)=>{const r=f(e)===!0?b(e):-1;u!==!0&&S(r===-1?0:r<b(n)?-1:1),i.value!==r&&(i.value=r,l("beforeTransition",e,n),g(()=>{l("transition",e,n)},t.transitionDuration))});function A(){c(1)}function y(){c(-1)}function q(e){l("update:modelValue",e)}function f(e){return e!=null&&e!==""}function b(e){return a.findIndex(n=>n.props.name===e&&n.props.disable!==""&&n.props.disable!==!0)}function w(){return a.filter(e=>e.props.disable!==""&&e.props.disable!==!0)}function S(e){const n=e!==0&&t.animated===!0&&i.value!==-1?"q-transition--"+(e===-1?Q.value:$.value):null;p.value!==n&&(p.value=n)}function c(e,n=i.value){let r=n+e;for(;r!==-1&&r<a.length;){const m=a[r];if(m!==void 0&&m.props.disable!==""&&m.props.disable!==!0){S(e),u=!0,l("update:modelValue",m.props.name),setTimeout(()=>{u=!1});return}r+=e}t.infinite===!0&&a.length!==0&&n!==-1&&n!==a.length&&c(e,e===-1?a.length:-1)}function C(){const e=b(t.modelValue);return i.value!==e&&(i.value=e),!0}function D(){const e=f(t.modelValue)===!0&&C()&&a[i.value];return t.keepAlive===!0?[s(j,k.value,[s(T.value===!0?P(v.value,()=>({...N,name:v.value})):N,{key:v.value,style:h.value},()=>e)])]:[s("div",{class:"q-panel scroll",style:h.value,key:v.value,role:"tabpanel"},[e])]}function z(){if(a.length!==0)return t.animated===!0?[s(M,{name:p.value},D)]:D()}function K(e){return a=_(x(e.default,[])).filter(n=>n.props!==null&&n.props.slot===void 0&&f(n.props.name)===!0),a.length}function O(){return a}return Object.assign(d,{next:A,previous:y,goTo:q}),{panelIndex:i,panelDirectives:I,updatePanelsList:K,updatePanelIndex:C,getPanelContent:z,getEnabledPanels:w,getPanels:O,isValidPanelName:f,keepAliveProps:k,needsUniqueKeepAliveWrapper:T,goToPanelByOffset:c,goToPanel:q,nextPanel:A,previousPanel:y}}const le=V({name:"QTabPanel",props:H,setup(t,{slots:l}){return()=>s("div",{class:"q-tab-panel",role:"tabpanel"},x(l.default))}}),re=V({name:"QTabPanels",props:{...J,...U},emits:Z,setup(t,{slots:l}){const d=B(),P=X(t,d.proxy.$q),{updatePanelsList:g,getPanelContent:a,panelDirectives:u}=ee(),p=o(()=>"q-tab-panels q-panel-parent"+(P.value===!0?" q-tab-panels--dark q-dark":""));return()=>(g(l),Y("div",{class:p.value},a(),"pan",t.swipeable,()=>u.value))}});export{re as Q,le as a};
