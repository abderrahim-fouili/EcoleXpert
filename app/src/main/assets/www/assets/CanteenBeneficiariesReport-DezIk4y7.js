import{_ as h,a4 as n,S as l,a8 as e,R as s,ab as o,B as g,ad as c,a9 as m,a5 as f,aa as p}from"./index-Bl2lQPd7.js";import{q as I}from"./date-C1Mon-Jj.js";import"./format-IcNrutKL.js";const b={class:"report-header q-mb-md"},v={class:"header-top-section"},x={class:"logo-section"},S={key:0,class:"logo-container"},k=["src"],T={key:1,class:"school-details"},D={class:"school-name"},$={key:0},N={key:1},L={key:2},B={key:3},A={key:0,class:"partner-section"},q={key:0,class:"etablissement-partenaire"},C={class:"partner-logo-container"},P=["src"],R={key:1,class:"partner-text"},w={class:"report-title-container text-center q-my-md"},U={class:"report-main-title text-weight-bolder"},j={key:0,class:"report-subtitle text-grey-7"},E={__name:"ReportHeader",props:{schoolInfo:{type:Object,default:()=>({name:"Nom de l'École",logoUrl:null,addressLine1:"",city:"",phone:"",contactEmail:""})},partnerInfo:{type:Object,default:()=>({logoUrl:null,name:"",description:""})},reportTitle:{type:String,default:"Rapport Standard"},reportSubtitle:{type:String,default:""},showSchoolDetails:{type:Boolean,default:!1}},setup(t){return(d,u)=>(l(),n("div",b,[e("div",v,[e("div",x,[t.schoolInfo.logoUrl?(l(),n("div",S,[e("img",{src:t.schoolInfo.logoUrl,alt:"School Logo",class:"school-logo"},null,8,k)])):s("",!0),t.showSchoolDetails?(l(),n("div",T,[e("h1",D,o(t.schoolInfo.name||"Nom de l'École"),1),t.schoolInfo.addressLine1?(l(),n("p",$,o(t.schoolInfo.addressLine1),1)):s("",!0),t.schoolInfo.city?(l(),n("p",N,o(t.schoolInfo.city),1)):s("",!0),t.schoolInfo.phone?(l(),n("p",L,"Tél: "+o(t.schoolInfo.phone),1)):s("",!0),t.schoolInfo.contactEmail?(l(),n("p",B,"Email: "+o(t.schoolInfo.contactEmail),1)):s("",!0)])):s("",!0)]),t.partnerInfo&&t.partnerInfo.logoUrl?(l(),n("div",A,[t.partnerInfo.name?(l(),n("div",q,o(t.partnerInfo.name),1)):s("",!0),e("div",C,[e("img",{src:t.partnerInfo.logoUrl,alt:"Partner Logo",class:"partner-logo"},null,8,P)]),t.partnerInfo.description?(l(),n("div",R,o(t.partnerInfo.description),1)):s("",!0)])):s("",!0)]),e("div",w,[e("h4",U,o(t.reportTitle),1),t.reportSubtitle?(l(),n("p",j,o(t.reportSubtitle),1)):s("",!0)])]))}},O=h(E,[["__scopeId","data-v-6b193d92"]]),H={class:"report-footer q-mt-xl"},_={style:{width:"100%","font-size":"8pt"}},F={style:{"text-align":"left",width:"40%"}},M={key:0},V={style:{"text-align":"center",width:"20%"}},Y={key:0},z={style:{"text-align":"right",width:"40%"}},G={key:0},J={colspan:"3",style:{"text-align":"center","padding-top":"5px"}},K={__name:"ReportFooter",props:{schoolInfo:{type:Object,default:()=>({name:"Nom de l'École",city:""})},currentPage:{type:Number,default:0},totalPages:{type:Number,default:0},footerText:{type:String,default:""}},setup(t){const d=g(()=>I.formatDate(Date.now(),"DD/MM/YYYY HH:mm"));return(u,a)=>(l(),n("div",H,[a[0]||(a[0]=e("hr",{class:"footer-divider q-mb-sm"},null,-1)),e("table",_,[e("tbody",null,[e("tr",null,[e("td",F,[c(o(t.schoolInfo.name||"Nom de l'École")+" ",1),t.schoolInfo.city?(l(),n("span",M," - "+o(t.schoolInfo.city),1)):s("",!0)]),e("td",V,[t.currentPage?(l(),n(m,{key:0},[c(" Page "+o(t.currentPage),1),t.totalPages?(l(),n("span",Y," / "+o(t.totalPages),1)):s("",!0)],64)):s("",!0)]),e("td",z," Généré le: "+o(d.value),1)]),t.footerText?(l(),n("tr",G,[e("td",J,[e("em",null,o(t.footerText),1)])])):s("",!0)])])]))}},Q=h(K,[["__scopeId","data-v-4edc30a9"]]),W={class:"print-report canteen-beneficiaries-report"},X={class:"report-meta q-mb-md"},Z={key:0},tt={class:"report-table"},et={key:0},st={__name:"CanteenBeneficiariesReport",props:{students:Array,reportDate:String,programDescription:String,filters:Object,schoolInfo:Object,partnerInfo:Object,pdfTitle:{type:String,default:"Liste des Bénéficiaires Cantine"}},setup(t){const d={SUBSCRIBED:"Abonné",TICKET:"Ticket Jour",ADD_MANUAL:"Ajout Manuel",ALL:"Tous"},u=a=>d[a]||a;return(a,r)=>(l(),n("div",W,[f(O,{"school-info":t.schoolInfo,"partner-info":t.partnerInfo,"report-title":t.pdfTitle,"report-subtitle":"Liste des élèves bénéficiant du service de cantine"},null,8,["school-info","partner-info","report-title"]),e("div",X,[e("p",null,[r[0]||(r[0]=e("strong",null,"Date du Rapport:",-1)),c(" "+o(t.reportDate),1)]),t.programDescription?(l(),n("p",Z,[r[1]||(r[1]=e("strong",null,"Programme:",-1)),c(" "+o(t.programDescription),1)])):s("",!0),e("p",null,[r[2]||(r[2]=e("strong",null,"Filtres Appliqués:",-1)),c(" Classe: "+o(t.filters.classe||"Toutes")+", Type: "+o(t.filters.type||"Tous"),1)])]),e("table",tt,[r[4]||(r[4]=e("thead",null,[e("tr",null,[e("th",null,"#"),e("th",null,"Nom Complet"),e("th",null,"Classe"),e("th",null,"Type Bénéficiaire"),e("th",null,"Statut Service")])],-1)),e("tbody",null,[(l(!0),n(m,null,p(t.students,(i,y)=>(l(),n("tr",{key:i.idpers},[e("td",null,o(y+1),1),e("td",null,o(i.full_name),1),e("td",null,o(i.classe_name||"N/A"),1),e("td",null,o(u(i.status)),1),e("td",null,o(i.is_served?`Servi (${i.served_at_display||""})`:"Non Servi"),1)]))),128)),!t.students||t.students.length===0?(l(),n("tr",et,r[3]||(r[3]=[e("td",{colspan:"5",class:"text-center"},"Aucun bénéficiaire à afficher pour les critères sélectionnés.",-1)]))):s("",!0)])]),f(Q,{"school-info":t.schoolInfo,"footer-text":"Ce document est généré automatiquement."},null,8,["school-info"])]))}};export{st as default};
