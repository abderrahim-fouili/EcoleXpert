import{q as b}from"./date-C1Mon-Jj.js";import{_ as v,B as h,a4 as l,S as a,a8 as t,R as r,ab as n,a9 as u,aa as c}from"./index-Bl2lQPd7.js";import"./format-IcNrutKL.js";const f={class:"report-container canteen-detailed-stats-report"},y={class:"invoice-header"},k={class:"logo-section"},S={class:"logo-placeholder"},A=["src"],D={key:0,class:"partner-logo-section"},I=["src"],N={class:"report-main-title"},p={class:"report-meta"},C={class:"report-meta"},P={key:0,class:"report-meta"},E={key:1,class:"detailed-lists-section"},L={key:0,class:"report-table-container"},R={class:"report-table-title"},U={class:"report-table"},$={key:1,class:"report-table-container"},q={class:"report-table-title"},T={class:"report-table"},Y={key:2,class:"report-table-container"},B={class:"report-table-title"},M={class:"report-table"},j={key:3,class:"report-table-container"},x={class:"report-table-title"},O={class:"report-table"},H={key:4,class:"report-table-container"},F={class:"report-table-title"},V={class:"report-table"},w={key:5,class:"report-table-container"},z={class:"report-table-title"},G={class:"report-table"},Q={key:2,class:"no-data"},J={__name:"CanteenDetailedStatsReport",props:{stats:{type:Object,required:!0,default:()=>({detailed_lists:{}})},schoolInfo:{type:Object,default:()=>({name:"LYCEE FRANÇAIS GUY DE MAUPASSANT",addressLine1:"Quartier Almaz, Rocade Sud-Ouest",city:"Casablanca",contactEmail:"encaissements@lfmaupassant.com",paymentEmail:"encaissements@lfmaupassant.com",phone:"(+212) 522 65 43 00",logoUrl:"placeholder-logo-lycee.png"})},partnerInfo:{type:Object,default:()=>({logoUrl:"placeholder-logo-aefe.png",nameLine1:"Agence pour",nameLine2:"l'enseignement français",nameLine3:"à l'étranger"})}},setup(e){const o=e,m=h(()=>b.formatDate(Date.now(),"DD/MM/YYYY HH:mm")),g=h(()=>o.stats?`Statistiques Cantine ${o.stats.date?`du ${o.stats.date}`:o.stats.date_range?`du ${o.stats.date_range.start} au ${o.stats.date_range.end}`:"Période Actuelle"}`:"Statistiques Cantine"),_=h(()=>{const i=o.stats?.detailed_lists;return i?i.subscribed_students&&i.subscribed_students.length>0||i.ticket_students&&i.ticket_students.length>0||i.manual_students&&i.manual_students.length>0||i.other_students&&i.other_students.length>0||i.served_staff&&i.served_staff.length>0:!1});return(i,d)=>(a(),l("div",f,[t("header",y,[t("div",k,[t("div",S,[t("img",{src:e.schoolInfo.logoUrl||"placeholder-logo-lycee.png",style:{height:"60px"}},null,8,A)]),d[0]||(d[0]=t("div",{class:"school-info"},null,-1))]),e.partnerInfo&&e.partnerInfo.logoUrl?(a(),l("div",D,[d[1]||(d[1]=t("div",{class:"etablissement-partenaire"},"ÉTABLISSEMENT PARTENAIRE",-1)),t("img",{src:e.partnerInfo.logoUrl||"placeholder-logo-aefe.png",class:"aefe-logo"},null,8,I)])):r("",!0)]),t("h1",N,n(g.value),1),t("p",p," Statistiques pour: "+n(e.stats.date||(e.stats.date_range?`${e.stats.date_range.start} au ${e.stats.date_range.end}`:e.stats.program?`Programme du ${e.stats.program.date}`:"Période Inconnue")),1),t("p",C,"Date d'impression: "+n(m.value),1),e.stats.program?(a(),l("div",P," Description du Programme: "+n(e.stats.program.description||"N/A")+" (ID: "+n(e.stats.program.id)+") ",1)):r("",!0),e.stats.detailed_lists&&_.value?(a(),l("div",E,[d[8]||(d[8]=t("h2",{class:"report-section-title"},"Listes Détaillées des Personnes Servies",-1)),e.stats.detailed_lists.subscribed_students&&e.stats.detailed_lists.subscribed_students.length>0?(a(),l("div",L,[t("h3",R,"Élèves Abonnés Servis ("+n(e.stats.detailed_lists.subscribed_students.length)+") ",1),t("table",U,[d[2]||(d[2]=t("thead",null,[t("tr",null,[t("th",null,"Nom"),t("th",null,"Classe")])],-1)),t("tbody",null,[(a(!0),l(u,null,c(e.stats.detailed_lists.subscribed_students,s=>(a(),l("tr",{key:s.id||s.name},[t("td",null,n(s.name),1),t("td",null,n(s.class),1)]))),128))])])])):r("",!0),e.stats.detailed_lists.ticket_students&&e.stats.detailed_lists.ticket_students.length>0?(a(),l("div",$,[t("h3",q,"Élèves avec Ticket Servis ("+n(e.stats.detailed_lists.ticket_students.length)+") ",1),t("table",T,[d[3]||(d[3]=t("thead",null,[t("tr",null,[t("th",null,"Nom"),t("th",null,"Classe")])],-1)),t("tbody",null,[(a(!0),l(u,null,c(e.stats.detailed_lists.ticket_students,s=>(a(),l("tr",{key:s.id||s.name},[t("td",null,n(s.name),1),t("td",null,n(s.class),1)]))),128))])])])):r("",!0),e.stats.detailed_lists.manual_students&&e.stats.detailed_lists.manual_students.length>0?(a(),l("div",Y,[t("h3",B,"Élèves Ajoutés Manuellement Servis ("+n(e.stats.detailed_lists.manual_students.length)+")",1),t("table",M,[d[4]||(d[4]=t("thead",null,[t("tr",null,[t("th",null,"Nom"),t("th",null,"Classe")])],-1)),t("tbody",null,[(a(!0),l(u,null,c(e.stats.detailed_lists.manual_students,s=>(a(),l("tr",{key:s.id||s.name},[t("td",null,n(s.name),1),t("td",null,n(s.class),1)]))),128))])])])):r("",!0),e.stats.detailed_lists.other_students&&e.stats.detailed_lists.other_students.length>0?(a(),l("div",j,[t("h3",x,"Autres Élèves Servis (Statut indéterminé) ("+n(e.stats.detailed_lists.other_students.length)+")",1),t("table",O,[d[5]||(d[5]=t("thead",null,[t("tr",null,[t("th",null,"Nom"),t("th",null,"Classe")])],-1)),t("tbody",null,[(a(!0),l(u,null,c(e.stats.detailed_lists.other_students,s=>(a(),l("tr",{key:s.id||s.name},[t("td",null,n(s.name),1),t("td",null,n(s.class),1)]))),128))])])])):r("",!0),e.stats.detailed_lists.served_staff_paid&&e.stats.detailed_lists.served_staff_paid.length>0?(a(),l("div",H,[t("h3",F,"Personnel Servi - Payé ("+n(e.stats.detailed_lists.served_staff_paid.length)+")",1),t("table",V,[d[6]||(d[6]=t("thead",null,[t("tr",null,[t("th",null,"Nom")])],-1)),t("tbody",null,[(a(!0),l(u,null,c(e.stats.detailed_lists.served_staff_paid,s=>(a(),l("tr",{key:s.id||s.name},[t("td",null,n(s.name),1)]))),128))])])])):r("",!0),e.stats.detailed_lists.served_staff_unpaid&&e.stats.detailed_lists.served_staff_unpaid.length>0?(a(),l("div",w,[t("h3",z,"Personnel Servi - Non Payé ("+n(e.stats.detailed_lists.served_staff_unpaid.length)+")",1),t("table",G,[d[7]||(d[7]=t("thead",null,[t("tr",null,[t("th",null,"Nom")])],-1)),t("tbody",null,[(a(!0),l(u,null,c(e.stats.detailed_lists.served_staff_unpaid,s=>(a(),l("tr",{key:s.id||s.name},[t("td",null,n(s.name),1)]))),128))])])])):r("",!0)])):(a(),l("div",Q," Aucune liste détaillée à afficher pour cette période. "))]))}},Z=v(J,[["__scopeId","data-v-7c3e8cbc"]]);export{Z as default};
