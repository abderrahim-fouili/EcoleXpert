import{Q as f}from"./QImg-BMvxJu3S.js";import{Q as l}from"./QItemLabel-BkJiB6aE.js";import{Q as p,a as d}from"./QItem-De3v03wU.js";import{_ as h,aQ as _,as as k,at as Q,Q as c,S as i,a6 as e,a8 as o,a5 as a,a4 as x,a9 as v,aa as b,av as y,aE as L,R as m,af as C,ad as n,ab as u,ay as I,aw as w,aC as D,aB as M}from"./index-Bl2lQPd7.js";import{Q as B}from"./QBadge-Bjfo5tRO.js";import{Q as A}from"./QList-CMzNTEGD.js";import{q as T}from"./date-C1Mon-Jj.js";import"./format-IcNrutKL.js";const q={computed:{...Q({user:"user/user",config:"user/config",links:"user/nav",current:"user/current",actualitesList:"actualite/data",darkMode:"darkMode"}),actualites(){return console.log(this.actualitesList),this.actualitesList&&this.actualitesList.data?this.actualitesList.data:[]},eleve(){if(this.current&&this.current.hasOwnProperty("eleve"))return this.current.eleve},annee(){if(this.current&&this.current.hasOwnProperty("annee"))return this.current.annee},dark:{get(){return this.darkMode},set(s){this.toggleDarkMode()}}},methods:{...k({getConfig:"user/getConfig",getActualites:"actualite/getData"}),extractImg:_,personAvatar(s){return M(s)},sub(s){return this.$cleanHtml(s,{allowedTags:["b","i","em","strong","a"]}).replace(/<img[^>]*>/g,"")},date(s){return T.formatDate(s*1e3,"YYYY-MM-DD")}},mounted(){this.getActualites({page:1}),this.setTitle("ActualitÃ©s")}},H={class:"row q-col-gutter-md"},N={class:"col-xs-12 col-md-12"},P={style:{margin:"26px -7px 0"},flat:""};function V(s,Y,S,z,E,r){return i(),c(D,{padding:"",class:"page-content"},{default:e(()=>[o("div",H,[o("div",N,[o("div",P,[a(A,{class:"row"},{default:e(()=>[(i(!0),x(v,null,b(r.actualites,(t,g)=>y((i(),c(L,{key:g,clickable:"",onClick:O=>s.go("actualites/"+t.id),class:"col-xs-12 col-md-4 col-lg-3",square:"",flat:"",bordered:""},{default:e(()=>[r.extractImg(t.contenu)?(i(),c(f,{key:0,src:r.extractImg(t.contenu)},null,8,["src"])):m("",!0),a(p,{clickable:""},{default:e(()=>[a(d,null,{default:e(()=>[a(l,{class:C({"text-bold":!t.etat.length})},{default:e(()=>[n(u(t.objet),1)]),_:2},1032,["class"]),a(l,{caption:"",lines:"2",innerHTML:r.sub(t.contenu)},null,8,["innerHTML"])]),_:2},1024),a(d,{side:"",top:""},{default:e(()=>[a(l,{caption:""},{default:e(()=>[n(u(r.date(t.publie_le)),1)]),_:2},1024),t.fichiers.length?(i(),c(l,{key:0,caption:""},{default:e(()=>[a(B,{color:"grey-6","text-color":"grey-1"},{default:e(()=>[n(u(t.fichiers.length)+" ",1),a(I,{name:"attach_file",size:"14px"})]),_:2},1024)]),_:2},1024)):m("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"])),[[w]])),128))]),_:1})])])])]),_:1})}const W=h(q,[["render",V]]);export{W as default};
