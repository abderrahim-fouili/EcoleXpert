import{_ as u,b9 as m,aB as g,b2 as f,ar as v,as as y,at as _,ag as b,Q as n,S as s,a6 as r,a8 as i,R as x,ad as w,ab as d,a4 as l,a9 as U,aa as k,a5 as c,ay as C,aC as V,aY as $,b5 as I,c$ as B,aW as D,cT as N}from"./index-Bl2lQPd7.js";import{Q as P}from"./QImg-BMvxJu3S.js";const Q={data(){return{type:0,icon:"videocam"}},watch:{$route(){this.type=this.$route.params.type==="photos"?1:0,this.icon=this.$route.params.type==="photos"?"image":"videocam",this.$route.params.id||this.getData()}},computed:{..._({user:"user/user",config:"user/config",current:"user/current",data:"media/data"}),tab:{get(){return this.type},set(e){e==1?this.go("photos"):this.go("videos")}},medias(){return this.data?this.data.data:[]},eleve(){if(this.current&&this.current.hasOwnProperty("eleve"))return this.current.eleve},annee(){if(this.current&&this.current.hasOwnProperty("annee"))return this.current.annee}},methods:{...y({getMedia:"media/getData"}),openURL:v,toNow:f,userPhotoUrl:g,fileIcon:m,view(e){e.media===1?this.go("/eleve/media/photos/"+e.id):this.go("/eleve/media/videos/"+e.id)},photo:function(e){return e.media&&e.meta.media[0].lien?B(D("api")+e.meta.media[0].lien):"https://img.youtube.com/vi/"+N(e.meta.media[0].lien)+"/hqdefault.jpg"},isImage(e){return I(this.fileUrl(e))},getData(){this.getMedia({page:this.data.current_page,filter:{classe:this.annee.pivot.idclasse,type:this.type}})},fileUrl(e){return $(e)}},mounted(){this.type=this.$route.params.type==="photos"?1:0,this.icon=this.$route.params.type==="photos"?"image":"videocam",this.getMedia({page:1,filter:{classe:this.annee.pivot.idclasse,type:this.type}}),this.setTitle("Multimedia"),this.zoom()}},M={class:"q-pa-lg flex flex-center"},F={class:"row"},T={class:"col-6 col-md-4"},j={style:{padding:"2px 5px"},class:"absolute-bottom text-center"},q={style:{padding:"0 5px","font-size":"2rem"},class:"absolute-top-right text-right bg-transparent"};function z(e,o,L,O,p,a){const h=b("ep-pagination");return s(),n(V,{padding:"",class:"page-content"},{default:r(()=>[i("div",M,[e.data?(s(),n(h,{key:0,modelValue:e.data.current_page,"onUpdate:modelValue":[o[0]||(o[0]=t=>e.data.current_page=t),a.getData],max:e.data.last_page,"direction-links":"","boundary-links":!1,div:"",divClass:"full-width text-center text-white text-bold",dark:"",color:"white",class:"bg-primary full-width",style:{"border-radius":"10rem",height:"30px"}},{content:r(()=>[w(" Page "+d(e.data.current_page),1)]),_:1},8,["modelValue","max","onUpdate:modelValue"])):x("",!0)]),i("div",F,[(s(!0),l(U,null,k(a.medias,(t,R)=>(s(),l("div",T,[c(P,{src:a.photo(t),fit:"cover",ratio:16/9,onClick:S=>a.view(t)},{default:r(()=>[i("div",j,d(t.titre),1),i("div",q,[c(C,{name:p.icon},null,8,["name"])])]),_:2},1032,["src","onClick"])]))),256))])]),_:1})}const G=u(Q,[["render",z]]);export{G as default};
