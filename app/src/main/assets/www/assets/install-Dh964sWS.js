import{_ as X,ab as J,bb as j,aV as Me,bc as Ge,bd as We,aB as ot,a_ as Be,aT as yt,b3 as zt,be as He,aE as Ae,w as Rt,b4 as De,b6 as ct,aG as gt,bf as Ft,bg as Fe,aZ as Xe,d as Ue,F as Mt,bh as bt,aY as Nt,bi as it,bj as Ye,bk as Xt,bl as Ut,ao as Zt,aq as N,bm as Yt,y as kt,b7 as _t,bn as $t,b1 as pt,bo as qt,P as vt,ax as nt,bp as $e,a$ as qe,f as z,bq as Ke,br as Kt,bs as Je,bt as Qe,bu as je,bv as ta,bw as xe,bx as Jt,by as St,E as ea,aU as Gt,bz as aa,aS as Qt,az as H,ag as jt,V as ra,bA as ut,bB as te,U as Z,b5 as ia,bC as na,bD as oa,a8 as tt,t as Pe,q as ee,bE as sa,S as Ot,C as la,ai as ua,bF as ht,T as ha,bG as va,bH as ca,aW as Ie,M as fa,bI as Te,aI as ae,bJ as ga,A as pa,Z as da,aa as dt,bK as ma,bL as ya,bM as ba,bN as _a,bO as re,bP as Sa,bQ as wa,bR as Ma,u as ie}from"./index.esm.min-FpMw1SSI.js";import{c as Aa,g as Le,a as Da,b as xa,d as Pa,e as Ia,f as Ta,S as ne}from"./install-C7aL04A7.js";var La=function(s){X(a,s);function a(){var t=s!==null&&s.apply(this,arguments)||this;return t.type=a.type,t.hasSymbolVisual=!0,t}return a.prototype.getInitialData=function(t){return Aa(null,this,{useEncodeDefaulter:!0})},a.prototype.getLegendIcon=function(t){var e=new J,n=j("line",0,t.itemHeight/2,t.itemWidth,0,t.lineStyle.stroke,!1);e.add(n),n.setStyle(t.lineStyle);var r=this.getData().getVisual("symbol"),i=this.getData().getVisual("symbolRotate"),o=r==="none"?"circle":r,l=t.itemHeight*.8,u=j(o,(t.itemWidth-l)/2,(t.itemHeight-l)/2,l,l,t.itemStyle.fill);e.add(u),u.setStyle(t.itemStyle);var h=t.iconRotate==="inherit"?i:t.iconRotate||0;return u.rotation=h*Math.PI/180,u.setOrigin([t.itemWidth/2,t.itemHeight/2]),o.indexOf("empty")>-1&&(u.style.stroke=u.style.fill,u.style.fill="#fff",u.style.lineWidth=2),e},a.type="series.line",a.dependencies=["grid","polar"],a.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},a}(Me),Wt=function(s){X(a,s);function a(t,e,n,r){var i=s.call(this)||this;return i.updateData(t,e,n,r),i}return a.prototype._createSymbol=function(t,e,n,r,i){this.removeAll();var o=j(t,-1,-1,2,2,null,i);o.attr({z2:100,culling:!0,scaleX:r[0]/2,scaleY:r[1]/2}),o.drift=Ca,this._symbolType=t,this.add(o)},a.prototype.stopSymbolAnimation=function(t){this.childAt(0).stopAnimation(null,t)},a.prototype.getSymbolType=function(){return this._symbolType},a.prototype.getSymbolPath=function(){return this.childAt(0)},a.prototype.highlight=function(){Ge(this.childAt(0))},a.prototype.downplay=function(){We(this.childAt(0))},a.prototype.setZ=function(t,e){var n=this.childAt(0);n.zlevel=t,n.z=e},a.prototype.setDraggable=function(t,e){var n=this.childAt(0);n.draggable=t,n.cursor=!e&&t?"move":n.cursor},a.prototype.updateData=function(t,e,n,r){this.silent=!1;var i=t.getItemVisual(e,"symbol")||"circle",o=t.hostModel,l=a.getSymbolSize(t,e),u=i!==this._symbolType,h=r&&r.disableAnimation;if(u){var v=t.getItemVisual(e,"symbolKeepAspect");this._createSymbol(i,t,e,l,v)}else{var f=this.childAt(0);f.silent=!1;var c={scaleX:l[0]/2,scaleY:l[1]/2};h?f.attr(c):ot(f,c,o,e),Be(f)}if(this._updateCommon(t,e,l,n,r),u){var f=this.childAt(0);if(!h){var c={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:f.style.opacity}};f.scaleX=f.scaleY=0,f.style.opacity=0,yt(f,c,o,e)}}h&&this.childAt(0).stopAnimation("leave")},a.prototype._updateCommon=function(t,e,n,r,i){var o=this.childAt(0),l=t.hostModel,u,h,v,f,c,g,d,_,m;if(r&&(u=r.emphasisItemStyle,h=r.blurItemStyle,v=r.selectItemStyle,f=r.focus,c=r.blurScope,d=r.labelStatesModels,_=r.hoverScale,m=r.cursorStyle,g=r.emphasisDisabled),!r||t.hasItemOption){var p=r&&r.itemModel?r.itemModel:t.getItemModel(e),y=p.getModel("emphasis");u=y.getModel("itemStyle").getItemStyle(),v=p.getModel(["select","itemStyle"]).getItemStyle(),h=p.getModel(["blur","itemStyle"]).getItemStyle(),f=y.get("focus"),c=y.get("blurScope"),g=y.get("disabled"),d=zt(p),_=y.getShallow("scale"),m=p.getShallow("cursor")}var M=t.getItemVisual(e,"symbolRotate");o.attr("rotation",(M||0)*Math.PI/180||0);var S=He(t.getItemVisual(e,"symbolOffset"),n);S&&(o.x=S[0],o.y=S[1]),m&&o.attr("cursor",m);var D=t.getItemVisual(e,"style"),A=D.fill;if(o instanceof Ae){var I=o.style;o.useStyle(Rt({image:I.image,x:I.x,y:I.y,width:I.width,height:I.height},D))}else o.__isEmptyBrush?o.useStyle(Rt({},D)):o.useStyle(D),o.style.decal=null,o.setColor(A,i&&i.symbolInnerColor),o.style.strokeNoScale=!0;var P=t.getItemVisual(e,"liftZ"),b=this._z2;P!=null?b==null&&(this._z2=o.z2,o.z2+=P):b!=null&&(o.z2=b,this._z2=null);var w=i&&i.useNameLabel;De(o,d,{labelFetcher:l,labelDataIndex:e,defaultText:x,inheritColor:A,defaultOpacity:D.opacity});function x(C){return w?t.getName(C):Le(t,C)}this._sizeX=n[0]/2,this._sizeY=n[1]/2;var T=o.ensureState("emphasis");T.style=u,o.ensureState("select").style=v,o.ensureState("blur").style=h;var E=_==null||_===!0?Math.max(1.1,3/this._sizeY):isFinite(_)&&_>0?+_:1;T.scaleX=this._sizeX*E,T.scaleY=this._sizeY*E,this.setSymbolScale(1),ct(this,f,c,g)},a.prototype.setSymbolScale=function(t){this.scaleX=this.scaleY=t},a.prototype.fadeOut=function(t,e,n){var r=this.childAt(0),i=gt(this).dataIndex,o=n&&n.animation;if(this.silent=r.silent=!0,n&&n.fadeLabel){var l=r.getTextContent();l&&Ft(l,{style:{opacity:0}},e,{dataIndex:i,removeOpt:o,cb:function(){r.removeTextContent()}})}else r.removeTextContent();Ft(r,{style:{opacity:0},scaleX:0,scaleY:0},e,{dataIndex:i,cb:t,removeOpt:o})},a.getSymbolSize=function(t,e){return Fe(t.getItemVisual(e,"symbolSize"))},a}(J);function Ca(s,a){this.parent.drift(s,a)}function Dt(s,a,t,e){return a&&!isNaN(a[0])&&!isNaN(a[1])&&!(e.isIgnore&&e.isIgnore(t))&&!(e.clipShape&&!e.clipShape.contain(a[0],a[1]))&&s.getItemVisual(t,"symbol")!=="none"}function oe(s){return s!=null&&!Ue(s)&&(s={isIgnore:s}),s||{}}function se(s){var a=s.hostModel,t=a.getModel("emphasis");return{emphasisItemStyle:t.getModel("itemStyle").getItemStyle(),blurItemStyle:a.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:a.getModel(["select","itemStyle"]).getItemStyle(),focus:t.get("focus"),blurScope:t.get("blurScope"),emphasisDisabled:t.get("disabled"),hoverScale:t.get("scale"),labelStatesModels:zt(a),cursorStyle:a.get("cursor")}}var Ea=function(){function s(a){this.group=new J,this._SymbolCtor=a||Wt}return s.prototype.updateData=function(a,t){this._progressiveEls=null,t=oe(t);var e=this.group,n=a.hostModel,r=this._data,i=this._SymbolCtor,o=t.disableAnimation,l=se(a),u={disableAnimation:o},h=t.getSymbolPoint||function(v){return a.getItemLayout(v)};r||e.removeAll(),a.diff(r).add(function(v){var f=h(v);if(Dt(a,f,v,t)){var c=new i(a,v,l,u);c.setPosition(f),a.setItemGraphicEl(v,c),e.add(c)}}).update(function(v,f){var c=r.getItemGraphicEl(f),g=h(v);if(!Dt(a,g,v,t)){e.remove(c);return}var d=a.getItemVisual(v,"symbol")||"circle",_=c&&c.getSymbolType&&c.getSymbolType();if(!c||_&&_!==d)e.remove(c),c=new i(a,v,l,u),c.setPosition(g);else{c.updateData(a,v,l,u);var m={x:g[0],y:g[1]};o?c.attr(m):ot(c,m,n)}e.add(c),a.setItemGraphicEl(v,c)}).remove(function(v){var f=r.getItemGraphicEl(v);f&&f.fadeOut(function(){e.remove(f)},n)}).execute(),this._getSymbolPoint=h,this._data=a},s.prototype.updateLayout=function(){var a=this,t=this._data;t&&t.eachItemGraphicEl(function(e,n){var r=a._getSymbolPoint(n);e.setPosition(r),e.markRedraw()})},s.prototype.incrementalPrepareUpdate=function(a){this._seriesScope=se(a),this._data=null,this.group.removeAll()},s.prototype.incrementalUpdate=function(a,t,e){this._progressiveEls=[],e=oe(e);function n(l){l.isGroup||(l.incremental=!0,l.ensureState("emphasis").hoverLayer=!0)}for(var r=a.start;r<a.end;r++){var i=t.getItemLayout(r);if(Dt(t,i,r,e)){var o=new this._SymbolCtor(t,r,this._seriesScope);o.traverse(n),o.setPosition(i),this.group.add(o),t.setItemGraphicEl(r,o),this._progressiveEls.push(o)}}},s.prototype.eachRendered=function(a){Xe(this._progressiveEls||this.group,a)},s.prototype.remove=function(a){var t=this.group,e=this._data;e&&a?e.eachItemGraphicEl(function(n){n.fadeOut(function(){t.remove(n)},e.hostModel)}):t.removeAll()},s}();function Ce(s,a,t){var e=s.getBaseAxis(),n=s.getOtherAxis(e),r=Ra(n,t),i=e.dim,o=n.dim,l=a.mapDimension(o),u=a.mapDimension(i),h=o==="x"||o==="radius"?1:0,v=Mt(s.dimensions,function(g){return a.mapDimension(g)}),f=!1,c=a.getCalculationInfo("stackResultDimension");return bt(a,v[0])&&(f=!0,v[0]=c),bt(a,v[1])&&(f=!0,v[1]=c),{dataDimsForPoint:v,valueStart:r,valueAxisDim:o,baseAxisDim:i,stacked:!!f,valueDim:l,baseDim:u,baseDataOffset:h,stackedOverDimension:a.getCalculationInfo("stackedOverDimension")}}function Ra(s,a){var t=0,e=s.scale.getExtent();return a==="start"?t=e[0]:a==="end"?t=e[1]:Nt(a)&&!isNaN(a)?t=a:e[0]>0?t=e[0]:e[1]<0&&(t=e[1]),t}function Ee(s,a,t,e){var n=NaN;s.stacked&&(n=t.get(t.getCalculationInfo("stackedOverDimension"),e)),isNaN(n)&&(n=s.valueStart);var r=s.baseDataOffset,i=[];return i[r]=t.get(s.baseDim,e),i[1-r]=n,a.dataToPoint(i)}function ka(s,a){var t=[];return a.diff(s).add(function(e){t.push({cmd:"+",idx:e})}).update(function(e,n){t.push({cmd:"=",idx:n,idx1:e})}).remove(function(e){t.push({cmd:"-",idx:e})}).execute(),t}function Oa(s,a,t,e,n,r,i,o){for(var l=ka(s,a),u=[],h=[],v=[],f=[],c=[],g=[],d=[],_=Ce(n,a,i),m=s.getLayout("points")||[],p=a.getLayout("points")||[],y=0;y<l.length;y++){var M=l[y],S=!0,D=void 0,A=void 0;switch(M.cmd){case"=":D=M.idx*2,A=M.idx1*2;var I=m[D],P=m[D+1],b=p[A],w=p[A+1];(isNaN(I)||isNaN(P))&&(I=b,P=w),u.push(I,P),h.push(b,w),v.push(t[D],t[D+1]),f.push(e[A],e[A+1]),d.push(a.getRawIndex(M.idx1));break;case"+":var x=M.idx,T=_.dataDimsForPoint,E=n.dataToPoint([a.get(T[0],x),a.get(T[1],x)]);A=x*2,u.push(E[0],E[1]),h.push(p[A],p[A+1]);var C=Ee(_,n,a,x);v.push(C[0],C[1]),f.push(e[A],e[A+1]),d.push(a.getRawIndex(x));break;case"-":S=!1}S&&(c.push(M),g.push(g.length))}g.sort(function(B,et){return d[B]-d[et]});for(var L=u.length,R=it(L),k=it(L),O=it(L),V=it(L),G=[],y=0;y<g.length;y++){var U=g[y],F=y*2,W=U*2;R[F]=u[W],R[F+1]=u[W+1],k[F]=h[W],k[F+1]=h[W+1],O[F]=v[W],O[F+1]=v[W+1],V[F]=f[W],V[F+1]=f[W+1],G[y]=c[U]}return{current:R,next:k,stackedOnCurrent:O,stackedOnNext:V,status:G}}var Y=Math.min,$=Math.max;function Q(s,a){return isNaN(s)||isNaN(a)}function Vt(s,a,t,e,n,r,i,o,l){for(var u,h,v,f,c,g,d=t,_=0;_<e;_++){var m=a[d*2],p=a[d*2+1];if(d>=n||d<0)break;if(Q(m,p)){if(l){d+=r;continue}break}if(d===t)s[r>0?"moveTo":"lineTo"](m,p),v=m,f=p;else{var y=m-u,M=p-h;if(y*y+M*M<.5){d+=r;continue}if(i>0){for(var S=d+r,D=a[S*2],A=a[S*2+1];D===m&&A===p&&_<e;)_++,S+=r,d+=r,D=a[S*2],A=a[S*2+1],m=a[d*2],p=a[d*2+1],y=m-u,M=p-h;var I=_+1;if(l)for(;Q(D,A)&&I<e;)I++,S+=r,D=a[S*2],A=a[S*2+1];var P=.5,b=0,w=0,x=void 0,T=void 0;if(I>=e||Q(D,A))c=m,g=p;else{b=D-u,w=A-h;var E=m-u,C=D-m,L=p-h,R=A-p,k=void 0,O=void 0;if(o==="x"){k=Math.abs(E),O=Math.abs(C);var V=b>0?1:-1;c=m-V*k*i,g=p,x=m+V*O*i,T=p}else if(o==="y"){k=Math.abs(L),O=Math.abs(R);var G=w>0?1:-1;c=m,g=p-G*k*i,x=m,T=p+G*O*i}else k=Math.sqrt(E*E+L*L),O=Math.sqrt(C*C+R*R),P=O/(O+k),c=m-b*i*(1-P),g=p-w*i*(1-P),x=m+b*i*P,T=p+w*i*P,x=Y(x,$(D,m)),T=Y(T,$(A,p)),x=$(x,Y(D,m)),T=$(T,Y(A,p)),b=x-m,w=T-p,c=m-b*k/O,g=p-w*k/O,c=Y(c,$(u,m)),g=Y(g,$(h,p)),c=$(c,Y(u,m)),g=$(g,Y(h,p)),b=m-c,w=p-g,x=m+b*O/k,T=p+w*O/k}s.bezierCurveTo(v,f,c,g,m,p),v=x,f=T}else s.lineTo(m,p)}u=m,h=p,d+=r}return _}var Re=function(){function s(){this.smooth=0,this.smoothConstraint=!0}return s}(),Va=function(s){X(a,s);function a(t){var e=s.call(this,t)||this;return e.type="ec-polyline",e}return a.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},a.prototype.getDefaultShape=function(){return new Re},a.prototype.buildPath=function(t,e){var n=e.points,r=0,i=n.length/2;if(e.connectNulls){for(;i>0&&Q(n[i*2-2],n[i*2-1]);i--);for(;r<i&&Q(n[r*2],n[r*2+1]);r++);}for(;r<i;)r+=Vt(t,n,r,i,i,1,e.smooth,e.smoothMonotone,e.connectNulls)+1},a.prototype.getPointOn=function(t,e){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var n=this.path,r=n.data,i=Ye.CMD,o,l,u=e==="x",h=[],v=0;v<r.length;){var f=r[v++],c=void 0,g=void 0,d=void 0,_=void 0,m=void 0,p=void 0,y=void 0;switch(f){case i.M:o=r[v++],l=r[v++];break;case i.L:if(c=r[v++],g=r[v++],y=u?(t-o)/(c-o):(t-l)/(g-l),y<=1&&y>=0){var M=u?(g-l)*y+l:(c-o)*y+o;return u?[t,M]:[M,t]}o=c,l=g;break;case i.C:c=r[v++],g=r[v++],d=r[v++],_=r[v++],m=r[v++],p=r[v++];var S=u?Xt(o,c,d,m,t,h):Xt(l,g,_,p,t,h);if(S>0)for(var D=0;D<S;D++){var A=h[D];if(A<=1&&A>=0){var M=u?Ut(l,g,_,p,A):Ut(o,c,d,m,A);return u?[t,M]:[M,t]}}o=m,l=p;break}}},a}(Zt),za=function(s){X(a,s);function a(){return s!==null&&s.apply(this,arguments)||this}return a}(Re),Na=function(s){X(a,s);function a(t){var e=s.call(this,t)||this;return e.type="ec-polygon",e}return a.prototype.getDefaultShape=function(){return new za},a.prototype.buildPath=function(t,e){var n=e.points,r=e.stackedOnPoints,i=0,o=n.length/2,l=e.smoothMonotone;if(e.connectNulls){for(;o>0&&Q(n[o*2-2],n[o*2-1]);o--);for(;i<o&&Q(n[i*2],n[i*2+1]);i++);}for(;i<o;){var u=Vt(t,n,i,o,o,1,e.smooth,l,e.connectNulls);Vt(t,r,i+u-1,u,o,-1,e.stackedOnSmooth,l,e.connectNulls),i+=u+1,t.closePath()}},a}(Zt);function le(s,a){if(s.length===a.length){for(var t=0;t<s.length;t++)if(s[t]!==a[t])return;return!0}}function ue(s){for(var a=1/0,t=1/0,e=-1/0,n=-1/0,r=0;r<s.length;){var i=s[r++],o=s[r++];isNaN(i)||(a=Math.min(i,a),e=Math.max(i,e)),isNaN(o)||(t=Math.min(o,t),n=Math.max(o,n))}return[[a,t],[e,n]]}function he(s,a){var t=ue(s),e=t[0],n=t[1],r=ue(a),i=r[0],o=r[1];return Math.max(Math.abs(e[0]-i[0]),Math.abs(e[1]-i[1]),Math.abs(n[0]-o[0]),Math.abs(n[1]-o[1]))}function ve(s){return Nt(s)?s:s?.5:0}function Za(s,a,t){if(!t.valueDim)return[];for(var e=a.count(),n=it(e*2),r=0;r<e;r++){var i=Ee(t,s,a,r);n[r*2]=i[0],n[r*2+1]=i[1]}return n}function q(s,a,t,e,n){var r=t.getBaseAxis(),i=r.dim==="x"||r.dim==="radius"?0:1,o=[],l=0,u=[],h=[],v=[],f=[];if(n){for(l=0;l<s.length;l+=2){var c=a||s;!isNaN(c[l])&&!isNaN(c[l+1])&&f.push(s[l],s[l+1])}s=f}for(l=0;l<s.length-2;l+=2)switch(v[0]=s[l+2],v[1]=s[l+3],h[0]=s[l],h[1]=s[l+1],o.push(h[0],h[1]),e){case"end":u[i]=v[i],u[1-i]=h[1-i],o.push(u[0],u[1]);break;case"middle":var g=(h[i]+v[i])/2,d=[];u[i]=d[i]=g,u[1-i]=h[1-i],d[1-i]=v[1-i],o.push(u[0],u[1]),o.push(d[0],d[1]);break;default:u[i]=h[i],u[1-i]=v[1-i],o.push(u[0],u[1])}return o.push(s[l++],s[l++]),o}function Ga(s,a){var t=[],e=s.length,n,r;function i(h,v,f){var c=h.coord,g=(f-c)/(v.coord-c),d=Je(g,[h.color,v.color]);return{coord:f,color:d}}for(var o=0;o<e;o++){var l=s[o],u=l.coord;if(u<0)n=l;else if(u>a){r?t.push(i(r,l,a)):n&&t.push(i(n,l,0),i(n,l,a));break}else n&&(t.push(i(n,l,0)),n=null),t.push(l),r=l}return t}function Wa(s,a,t){var e=s.getVisual("visualMeta");if(!(!e||!e.length||!s.count())&&a.type==="cartesian2d"){for(var n,r,i=e.length-1;i>=0;i--){var o=s.getDimensionInfo(e[i].dimension);if(n=o&&o.coordDim,n==="x"||n==="y"){r=e[i];break}}if(r){var l=a.getAxis(n),u=Mt(r.stops,function(y){return{coord:l.toGlobalCoord(l.dataToCoord(y.value)),color:y.color}}),h=u.length,v=r.outerColors.slice();h&&u[0].coord>u[h-1].coord&&(u.reverse(),v.reverse());var f=Ga(u,n==="x"?t.getWidth():t.getHeight()),c=f.length;if(!c&&h)return u[0].coord<0?v[1]?v[1]:u[h-1].color:v[0]?v[0]:u[0].color;var g=10,d=f[0].coord-g,_=f[c-1].coord+g,m=_-d;if(m<.001)return"transparent";z(f,function(y){y.offset=(y.coord-d)/m}),f.push({offset:c?f[c-1].offset:.5,color:v[1]||"transparent"}),f.unshift({offset:c?f[0].offset:.5,color:v[0]||"transparent"});var p=new Ke(0,0,0,0,f,!0);return p[n]=d,p[n+"2"]=_,p}}}function Ba(s,a,t){var e=s.get("showAllSymbol"),n=e==="auto";if(!(e&&!n)){var r=t.getAxesByScale("ordinal")[0];if(r&&!(n&&Ha(r,a))){var i=a.mapDimension(r.dim),o={};return z(r.getViewLabels(),function(l){var u=r.scale.getRawOrdinalNumber(l.tickValue);o[u]=1}),function(l){return!o.hasOwnProperty(a.get(i,l))}}}}function Ha(s,a){var t=s.getExtent(),e=Math.abs(t[1]-t[0])/s.scale.count();isNaN(e)&&(e=0);for(var n=a.count(),r=Math.max(1,Math.round(n/5)),i=0;i<n;i+=r)if(Wt.getSymbolSize(a,i)[s.isHorizontal()?1:0]*1.5>e)return!1;return!0}function Fa(s,a){return isNaN(s)||isNaN(a)}function Xa(s){for(var a=s.length/2;a>0&&Fa(s[a*2-2],s[a*2-1]);a--);return a-1}function ce(s,a){return[s[a*2],s[a*2+1]]}function Ua(s,a,t){for(var e=s.length/2,n=t==="x"?0:1,r,i,o=0,l=-1,u=0;u<e;u++)if(i=s[u*2+n],!(isNaN(i)||isNaN(s[u*2+1-n]))){if(u===0){r=i;continue}if(r<=a&&i>=a||r>=a&&i<=a){l=u;break}o=u,r=i}return{range:[o,l],t:(a-r)/(i-r)}}function ke(s){if(s.get(["endLabel","show"]))return!0;for(var a=0;a<Kt.length;a++)if(s.get([Kt[a],"endLabel","show"]))return!0;return!1}function xt(s,a,t,e){if(Da(a,"cartesian2d")){var n=e.getModel("endLabel"),r=n.get("valueAnimation"),i=e.getData(),o={lastFrameIndex:0},l=ke(e)?function(c,g){s._endLabelOnDuring(c,g,i,o,r,n,a)}:null,u=a.getBaseAxis().isHorizontal(),h=xa(a,t,e,function(){var c=s._endLabel;c&&t&&o.originalX!=null&&c.attr({x:o.originalX,y:o.originalY})},l);if(!e.get("clip",!0)){var v=h.shape,f=Math.max(v.width,v.height);u?(v.y-=f,v.height+=f*2):(v.x-=f,v.width+=f*2)}return l&&l(1,h),h}else return Pa(a,t,e)}function Ya(s,a){var t=a.getBaseAxis(),e=t.isHorizontal(),n=t.inverse,r=e?n?"right":"left":"center",i=e?"middle":n?"top":"bottom";return{normal:{align:s.get("align")||r,verticalAlign:s.get("verticalAlign")||i}}}var $a=function(s){X(a,s);function a(){return s!==null&&s.apply(this,arguments)||this}return a.prototype.init=function(){var t=new J,e=new Ea;this.group.add(e.group),this._symbolDraw=e,this._lineGroup=t,this._changePolyState=N(this._changePolyState,this)},a.prototype.render=function(t,e,n){var r=t.coordinateSystem,i=this.group,o=t.getData(),l=t.getModel("lineStyle"),u=t.getModel("areaStyle"),h=o.getLayout("points")||[],v=r.type==="polar",f=this._coordSys,c=this._symbolDraw,g=this._polyline,d=this._polygon,_=this._lineGroup,m=!e.ssr&&t.get("animation"),p=!u.isEmpty(),y=u.get("origin"),M=Ce(r,o,y),S=p&&Za(r,o,M),D=t.get("showSymbol"),A=t.get("connectNulls"),I=D&&!v&&Ba(t,o,r),P=this._data;P&&P.eachItemGraphicEl(function(B,et){B.__temp&&(i.remove(B),P.setItemGraphicEl(et,null))}),D||c.remove(),i.add(_);var b=v?!1:t.get("step"),w;r&&r.getArea&&t.get("clip",!0)&&(w=r.getArea(),w.width!=null?(w.x-=.1,w.y-=.1,w.width+=.2,w.height+=.2):w.r0&&(w.r0-=.5,w.r+=.5)),this._clipShapeForSymbol=w;var x=Wa(o,r,n)||o.getVisual("style")[o.getVisual("drawType")];if(!(g&&f.type===r.type&&b===this._step))D&&c.updateData(o,{isIgnore:I,clipShape:w,disableAnimation:!0,getSymbolPoint:function(B){return[h[B*2],h[B*2+1]]}}),m&&this._initSymbolLabelAnimation(o,r,w),b&&(S&&(S=q(S,h,r,b,A)),h=q(h,null,r,b,A)),g=this._newPolyline(h),p?d=this._newPolygon(h,S):d&&(_.remove(d),d=this._polygon=null),v||this._initOrUpdateEndLabel(t,r,Yt(x)),_.setClipPath(xt(this,r,!0,t));else{p&&!d?d=this._newPolygon(h,S):d&&!p&&(_.remove(d),d=this._polygon=null),v||this._initOrUpdateEndLabel(t,r,Yt(x));var T=_.getClipPath();if(T){var E=xt(this,r,!1,t);yt(T,{shape:E.shape},t)}else _.setClipPath(xt(this,r,!0,t));D&&c.updateData(o,{isIgnore:I,clipShape:w,disableAnimation:!0,getSymbolPoint:function(B){return[h[B*2],h[B*2+1]]}}),(!le(this._stackedOnPoints,S)||!le(this._points,h))&&(m?this._doUpdateAnimation(o,S,r,n,b,y,A):(b&&(S&&(S=q(S,h,r,b,A)),h=q(h,null,r,b,A)),g.setShape({points:h}),d&&d.setShape({points:h,stackedOnPoints:S})))}var C=t.getModel("emphasis"),L=C.get("focus"),R=C.get("blurScope"),k=C.get("disabled");if(g.useStyle(kt(l.getLineStyle(),{fill:"none",stroke:x,lineJoin:"bevel"})),_t(g,t,"lineStyle"),g.style.lineWidth>0&&t.get(["emphasis","lineStyle","width"])==="bolder"){var O=g.getState("emphasis").style;O.lineWidth=+g.style.lineWidth+1}gt(g).seriesIndex=t.seriesIndex,ct(g,L,R,k);var V=ve(t.get("smooth")),G=t.get("smoothMonotone");if(g.setShape({smooth:V,smoothMonotone:G,connectNulls:A}),d){var U=o.getCalculationInfo("stackedOnSeries"),F=0;d.useStyle(kt(u.getAreaStyle(),{fill:x,opacity:.7,lineJoin:"bevel",decal:o.getVisual("style").decal})),U&&(F=ve(U.get("smooth"))),d.setShape({smooth:V,stackedOnSmooth:F,smoothMonotone:G,connectNulls:A}),_t(d,t,"areaStyle"),gt(d).seriesIndex=t.seriesIndex,ct(d,L,R,k)}var W=this._changePolyState;o.eachItemGraphicEl(function(B){B&&(B.onHoverStateChange=W)}),this._polyline.onHoverStateChange=W,this._data=o,this._coordSys=r,this._stackedOnPoints=S,this._points=h,this._step=b,this._valueOrigin=y,t.get("triggerLineEvent")&&(this.packEventData(t,g),d&&this.packEventData(t,d))},a.prototype.packEventData=function(t,e){gt(e).eventData={componentType:"series",componentSubType:"line",componentIndex:t.componentIndex,seriesIndex:t.seriesIndex,seriesName:t.name,seriesType:"line"}},a.prototype.highlight=function(t,e,n,r){var i=t.getData(),o=$t(i,r);if(this._changePolyState("emphasis"),!(o instanceof Array)&&o!=null&&o>=0){var l=i.getLayout("points"),u=i.getItemGraphicEl(o);if(!u){var h=l[o*2],v=l[o*2+1];if(isNaN(h)||isNaN(v)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(h,v))return;var f=t.get("zlevel")||0,c=t.get("z")||0;u=new Wt(i,o),u.x=h,u.y=v,u.setZ(f,c);var g=u.getSymbolPath().getTextContent();g&&(g.zlevel=f,g.z=c,g.z2=this._polyline.z2+1),u.__temp=!0,i.setItemGraphicEl(o,u),u.stopSymbolAnimation(!0),this.group.add(u)}u.highlight()}else pt.prototype.highlight.call(this,t,e,n,r)},a.prototype.downplay=function(t,e,n,r){var i=t.getData(),o=$t(i,r);if(this._changePolyState("normal"),o!=null&&o>=0){var l=i.getItemGraphicEl(o);l&&(l.__temp?(i.setItemGraphicEl(o,null),this.group.remove(l)):l.downplay())}else pt.prototype.downplay.call(this,t,e,n,r)},a.prototype._changePolyState=function(t){var e=this._polygon;qt(this._polyline,t),e&&qt(e,t)},a.prototype._newPolyline=function(t){var e=this._polyline;return e&&this._lineGroup.remove(e),e=new Va({shape:{points:t},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(e),this._polyline=e,e},a.prototype._newPolygon=function(t,e){var n=this._polygon;return n&&this._lineGroup.remove(n),n=new Na({shape:{points:t,stackedOnPoints:e},segmentIgnoreThreshold:2}),this._lineGroup.add(n),this._polygon=n,n},a.prototype._initSymbolLabelAnimation=function(t,e,n){var r,i,o=e.getBaseAxis(),l=o.inverse;e.type==="cartesian2d"?(r=o.isHorizontal(),i=!1):e.type==="polar"&&(r=o.dim==="angle",i=!0);var u=t.hostModel,h=u.get("animationDuration");vt(h)&&(h=h(null));var v=u.get("animationDelay")||0,f=vt(v)?v(null):v;t.eachItemGraphicEl(function(c,g){var d=c;if(d){var _=[c.x,c.y],m=void 0,p=void 0,y=void 0;if(n)if(i){var M=n,S=e.pointToCoord(_);r?(m=M.startAngle,p=M.endAngle,y=-S[1]/180*Math.PI):(m=M.r0,p=M.r,y=S[0])}else{var D=n;r?(m=D.x,p=D.x+D.width,y=c.x):(m=D.y+D.height,p=D.y,y=c.y)}var A=p===m?0:(y-m)/(p-m);l&&(A=1-A);var I=vt(v)?v(g):h*A+f,P=d.getSymbolPath(),b=P.getTextContent();d.attr({scaleX:0,scaleY:0}),d.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:I}),b&&b.animateFrom({style:{opacity:0}},{duration:300,delay:I}),P.disableLabelAnimation=!0}})},a.prototype._initOrUpdateEndLabel=function(t,e,n){var r=t.getModel("endLabel");if(ke(t)){var i=t.getData(),o=this._polyline,l=i.getLayout("points");if(!l){o.removeTextContent(),this._endLabel=null;return}var u=this._endLabel;u||(u=this._endLabel=new nt({z2:200}),u.ignoreClip=!0,o.setTextContent(this._endLabel),o.disableLabelAnimation=!0);var h=Xa(l);h>=0&&(De(o,zt(t,"endLabel"),{inheritColor:n,labelFetcher:t,labelDataIndex:h,defaultText:function(v,f,c){return c!=null?Ia(i,c):Le(i,v)},enableTextSetter:!0},Ya(r,e)),o.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},a.prototype._endLabelOnDuring=function(t,e,n,r,i,o,l){var u=this._endLabel,h=this._polyline;if(u){t<1&&r.originalX==null&&(r.originalX=u.x,r.originalY=u.y);var v=n.getLayout("points"),f=n.hostModel,c=f.get("connectNulls"),g=o.get("precision"),d=o.get("distance")||0,_=l.getBaseAxis(),m=_.isHorizontal(),p=_.inverse,y=e.shape,M=p?m?y.x:y.y+y.height:m?y.x+y.width:y.y,S=(m?d:0)*(p?-1:1),D=(m?0:-d)*(p?-1:1),A=m?"x":"y",I=Ua(v,M,A),P=I.range,b=P[1]-P[0],w=void 0;if(b>=1){if(b>1&&!c){var x=ce(v,P[0]);u.attr({x:x[0]+S,y:x[1]+D}),i&&(w=f.getRawValue(P[0]))}else{var x=h.getPointOn(M,A);x&&u.attr({x:x[0]+S,y:x[1]+D});var T=f.getRawValue(P[0]),E=f.getRawValue(P[1]);i&&(w=$e(n,g,T,E,I.t))}r.lastFrameIndex=P[0]}else{var C=t===1||r.lastFrameIndex>0?P[0]:0,x=ce(v,C);i&&(w=f.getRawValue(C)),u.attr({x:x[0]+S,y:x[1]+D})}if(i){var L=qe(u);typeof L.setLabelText=="function"&&L.setLabelText(w)}}},a.prototype._doUpdateAnimation=function(t,e,n,r,i,o,l){var u=this._polyline,h=this._polygon,v=t.hostModel,f=Oa(this._data,t,this._stackedOnPoints,e,this._coordSys,n,this._valueOrigin),c=f.current,g=f.stackedOnCurrent,d=f.next,_=f.stackedOnNext;if(i&&(g=q(f.stackedOnCurrent,f.current,n,i,l),c=q(f.current,null,n,i,l),_=q(f.stackedOnNext,f.next,n,i,l),d=q(f.next,null,n,i,l)),he(c,d)>3e3||h&&he(g,_)>3e3){u.stopAnimation(),u.setShape({points:d}),h&&(h.stopAnimation(),h.setShape({points:d,stackedOnPoints:_}));return}u.shape.__points=f.current,u.shape.points=c;var m={shape:{points:d}};f.current!==c&&(m.shape.__points=f.next),u.stopAnimation(),ot(u,m,v),h&&(h.setShape({points:c,stackedOnPoints:g}),h.stopAnimation(),ot(h,{shape:{stackedOnPoints:_}},v),u.shape.points!==h.shape.points&&(h.shape.points=u.shape.points));for(var p=[],y=f.status,M=0;M<y.length;M++){var S=y[M].cmd;if(S==="="){var D=t.getItemGraphicEl(y[M].idx1);D&&p.push({el:D,ptIdx:M})}}u.animators&&u.animators.length&&u.animators[0].during(function(){h&&h.dirtyShape();for(var A=u.shape.__points,I=0;I<p.length;I++){var P=p[I].el,b=p[I].ptIdx*2;P.x=A[b],P.y=A[b+1],P.markRedraw()}})},a.prototype.remove=function(t){var e=this.group,n=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),n&&n.eachItemGraphicEl(function(r,i){r.__temp&&(e.remove(r),n.setItemGraphicEl(i,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},a.type="line",a}(pt);function qa(s,a){return{seriesType:s,plan:Qe(),reset:function(t){var e=t.getData(),n=t.coordinateSystem,r=t.pipelineContext,i=a||r.large;if(n){var o=Mt(n.dimensions,function(c){return e.mapDimension(c)}).slice(0,2),l=o.length,u=e.getCalculationInfo("stackResultDimension");bt(e,o[0])&&(o[0]=u),bt(e,o[1])&&(o[1]=u);var h=e.getStore(),v=e.getDimensionIndex(o[0]),f=e.getDimensionIndex(o[1]);return l&&{progress:function(c,g){for(var d=c.end-c.start,_=i&&it(d*l),m=[],p=[],y=c.start,M=0;y<c.end;y++){var S=void 0;if(l===1){var D=h.get(v,y);S=n.dataToPoint(D,null,p)}else m[0]=h.get(v,y),m[1]=h.get(f,y),S=n.dataToPoint(m,null,p);i?(_[M++]=S[0],_[M++]=S[1]):g.setItemLayout(y,S.slice())}i&&g.setLayout("points",_)}}}}}}function Lr(s){s.registerChartView($a),s.registerSeriesModel(La),s.registerLayout(qa("line",!0)),s.registerVisual({seriesType:"line",reset:function(a){var t=a.getData(),e=a.getModel("lineStyle").getLineStyle();e&&!e.stroke&&(e.stroke=t.getVisual("style").fill),t.setVisual("legendLineStyle",e)}}),s.registerProcessor(s.PRIORITY.PROCESSOR.STATISTIC,Ta("line"))}var fe="\0_ec_interaction_mutex";function Cr(s,a,t){var e=Bt(s);e[a]=t}function Er(s,a,t){var e=Bt(s),n=e[a];n===t&&(e[a]=null)}function ge(s,a){return!!Bt(s)[a]}function Bt(s){return s[fe]||(s[fe]={})}je({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},ta);var Ka=function(s){X(a,s);function a(t){var e=s.call(this)||this;e._zr=t;var n=N(e._mousedownHandler,e),r=N(e._mousemoveHandler,e),i=N(e._mouseupHandler,e),o=N(e._mousewheelHandler,e),l=N(e._pinchHandler,e);return e.enable=function(u,h){this.disable(),this._opt=kt(xe(h)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),u==null&&(u=!0),(u===!0||u==="move"||u==="pan")&&(t.on("mousedown",n),t.on("mousemove",r),t.on("mouseup",i)),(u===!0||u==="scale"||u==="zoom")&&(t.on("mousewheel",o),t.on("pinch",l))},e.disable=function(){t.off("mousedown",n),t.off("mousemove",r),t.off("mouseup",i),t.off("mousewheel",o),t.off("pinch",l)},e}return a.prototype.isDragging=function(){return this._dragging},a.prototype.isPinching=function(){return this._pinching},a.prototype.setPointerChecker=function(t){this.pointerChecker=t},a.prototype.dispose=function(){this.disable()},a.prototype._mousedownHandler=function(t){if(!Jt(t)){for(var e=t.target;e;){if(e.draggable)return;e=e.__hostTarget||e.parent}var n=t.offsetX,r=t.offsetY;this.pointerChecker&&this.pointerChecker(t,n,r)&&(this._x=n,this._y=r,this._dragging=!0)}},a.prototype._mousemoveHandler=function(t){if(!(!this._dragging||!mt("moveOnMouseMove",t,this._opt)||t.gestureEvent==="pinch"||ge(this._zr,"globalPan"))){var e=t.offsetX,n=t.offsetY,r=this._x,i=this._y,o=e-r,l=n-i;this._x=e,this._y=n,this._opt.preventDefaultMouseMove&&St(t.event),Oe(this,"pan","moveOnMouseMove",t,{dx:o,dy:l,oldX:r,oldY:i,newX:e,newY:n,isAvailableBehavior:null})}},a.prototype._mouseupHandler=function(t){Jt(t)||(this._dragging=!1)},a.prototype._mousewheelHandler=function(t){var e=mt("zoomOnMouseWheel",t,this._opt),n=mt("moveOnMouseWheel",t,this._opt),r=t.wheelDelta,i=Math.abs(r),o=t.offsetX,l=t.offsetY;if(!(r===0||!e&&!n)){if(e){var u=i>3?1.4:i>1?1.2:1.1,h=r>0?u:1/u;Pt(this,"zoom","zoomOnMouseWheel",t,{scale:h,originX:o,originY:l,isAvailableBehavior:null})}if(n){var v=Math.abs(r),f=(r>0?1:-1)*(v>3?.4:v>1?.15:.05);Pt(this,"scrollMove","moveOnMouseWheel",t,{scrollDelta:f,originX:o,originY:l,isAvailableBehavior:null})}}},a.prototype._pinchHandler=function(t){if(!ge(this._zr,"globalPan")){var e=t.pinchScale>1?1.1:1/1.1;Pt(this,"zoom",null,t,{scale:e,originX:t.pinchX,originY:t.pinchY,isAvailableBehavior:null})}},a}(ea);function Pt(s,a,t,e,n){s.pointerChecker&&s.pointerChecker(e,n.originX,n.originY)&&(St(e.event),Oe(s,a,t,e,n))}function Oe(s,a,t,e,n){n.isAvailableBehavior=N(mt,null,t,e),s.trigger(a,n)}function mt(s,a,t){var e=t[s];return!s||e&&(!Gt(e)||a.event[e+"Key"])}var Ja=function(){function s(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0}return s}(),Qa=function(s){X(a,s);function a(t){var e=s.call(this,t)||this;return e.type="pointer",e}return a.prototype.getDefaultShape=function(){return new Ja},a.prototype.buildPath=function(t,e){var n=Math.cos,r=Math.sin,i=e.r,o=e.width,l=e.angle,u=e.x-n(l)*o*(o>=i/3?1:2),h=e.y-r(l)*o*(o>=i/3?1:2);l=e.angle-Math.PI/2,t.moveTo(u,h),t.lineTo(e.x+n(l)*o,e.y+r(l)*o),t.lineTo(e.x+n(e.angle)*i,e.y+r(e.angle)*i),t.lineTo(e.x-n(l)*o,e.y-r(l)*o),t.lineTo(u,h)},a}(Zt);function ja(s,a){var t=s.get("center"),e=a.getWidth(),n=a.getHeight(),r=Math.min(e,n),i=H(t[0],a.getWidth()),o=H(t[1],a.getHeight()),l=H(s.get("radius"),r/2);return{cx:i,cy:o,r:l}}function ft(s,a){var t=s==null?"":s+"";return a&&(Gt(a)?t=a.replace("{value}",t):vt(a)&&(t=a(s))),t}var tr=function(s){X(a,s);function a(){var t=s!==null&&s.apply(this,arguments)||this;return t.type=a.type,t}return a.prototype.render=function(t,e,n){this.group.removeAll();var r=t.get(["axisLine","lineStyle","color"]),i=ja(t,n);this._renderMain(t,e,n,r,i),this._data=t.getData()},a.prototype.dispose=function(){},a.prototype._renderMain=function(t,e,n,r,i){var o=this.group,l=t.get("clockwise"),u=-t.get("startAngle")/180*Math.PI,h=-t.get("endAngle")/180*Math.PI,v=t.getModel("axisLine"),f=v.get("roundCap"),c=f?ne:Qt,g=v.get("show"),d=v.getModel("lineStyle"),_=d.get("width"),m=[u,h];aa(m,!l),u=m[0],h=m[1];for(var p=h-u,y=u,M=[],S=0;g&&S<r.length;S++){var D=Math.min(Math.max(r[S][0],0),1);h=u+p*D;var A=new c({shape:{startAngle:y,endAngle:h,cx:i.cx,cy:i.cy,clockwise:l,r0:i.r-_,r:i.r},silent:!0});A.setStyle({fill:r[S][1]}),A.setStyle(d.getLineStyle(["color","width"])),M.push(A),y=h}M.reverse(),z(M,function(P){return o.add(P)});var I=function(P){if(P<=0)return r[0][1];var b;for(b=0;b<r.length;b++)if(r[b][0]>=P&&(b===0?0:r[b-1][0])<P)return r[b][1];return r[b-1][1]};this._renderTicks(t,e,n,I,i,u,h,l,_),this._renderTitleAndDetail(t,e,n,I,i),this._renderAnchor(t,i),this._renderPointer(t,e,n,I,i,u,h,l,_)},a.prototype._renderTicks=function(t,e,n,r,i,o,l,u,h){for(var v=this.group,f=i.cx,c=i.cy,g=i.r,d=+t.get("min"),_=+t.get("max"),m=t.getModel("splitLine"),p=t.getModel("axisTick"),y=t.getModel("axisLabel"),M=t.get("splitNumber"),S=p.get("splitNumber"),D=H(m.get("length"),g),A=H(p.get("length"),g),I=o,P=(l-o)/M,b=P/S,w=m.getModel("lineStyle").getLineStyle(),x=p.getModel("lineStyle").getLineStyle(),T=m.get("distance"),E,C,L=0;L<=M;L++){if(E=Math.cos(I),C=Math.sin(I),m.get("show")){var R=T?T+h:h,k=new jt({shape:{x1:E*(g-R)+f,y1:C*(g-R)+c,x2:E*(g-D-R)+f,y2:C*(g-D-R)+c},style:w,silent:!0});w.stroke==="auto"&&k.setStyle({stroke:r(L/M)}),v.add(k)}if(y.get("show")){var R=y.get("distance")+T,O=ft(ra(L/M*(_-d)+d),y.get("formatter")),V=r(L/M),G=E*(g-D-R)+f,U=C*(g-D-R)+c,F=y.get("rotate"),W=0;F==="radial"?(W=-I+2*Math.PI,W>Math.PI/2&&(W+=Math.PI)):F==="tangential"?W=-I-Math.PI/2:Nt(F)&&(W=F*Math.PI/180),W===0?v.add(new nt({style:ut(y,{text:O,x:G,y:U,verticalAlign:C<-.8?"top":C>.8?"bottom":"middle",align:E<-.4?"left":E>.4?"right":"center"},{inheritColor:V}),silent:!0})):v.add(new nt({style:ut(y,{text:O,x:G,y:U,verticalAlign:"middle",align:"center"},{inheritColor:V}),silent:!0,originX:G,originY:U,rotation:W}))}if(p.get("show")&&L!==M){var R=p.get("distance");R=R?R+h:h;for(var B=0;B<=S;B++){E=Math.cos(I),C=Math.sin(I);var et=new jt({shape:{x1:E*(g-R)+f,y1:C*(g-R)+c,x2:E*(g-A-R)+f,y2:C*(g-A-R)+c},silent:!0,style:x});x.stroke==="auto"&&et.setStyle({stroke:r((L+B/S)/M)}),v.add(et),I+=b}I-=b}else I+=P}},a.prototype._renderPointer=function(t,e,n,r,i,o,l,u,h){var v=this.group,f=this._data,c=this._progressEls,g=[],d=t.get(["pointer","show"]),_=t.getModel("progress"),m=_.get("show"),p=t.getData(),y=p.mapDimension("value"),M=+t.get("min"),S=+t.get("max"),D=[M,S],A=[o,l];function I(b,w){var x=p.getItemModel(b),T=x.getModel("pointer"),E=H(T.get("width"),i.r),C=H(T.get("length"),i.r),L=t.get(["pointer","icon"]),R=T.get("offsetCenter"),k=H(R[0],i.r),O=H(R[1],i.r),V=T.get("keepAspect"),G;return L?G=j(L,k-E/2,O-C,E,C,null,V):G=new Qa({shape:{angle:-Math.PI/2,width:E,r:C,x:k,y:O}}),G.rotation=-(w+Math.PI/2),G.x=i.cx,G.y=i.cy,G}function P(b,w){var x=_.get("roundCap"),T=x?ne:Qt,E=_.get("overlap"),C=E?_.get("width"):h/p.count(),L=E?i.r-C:i.r-(b+1)*C,R=E?i.r:i.r-b*C,k=new T({shape:{startAngle:o,endAngle:w,cx:i.cx,cy:i.cy,clockwise:u,r0:L,r:R}});return E&&(k.z2=Z(p.get(y,b),[M,S],[100,0],!0)),k}(m||d)&&(p.diff(f).add(function(b){var w=p.get(y,b);if(d){var x=I(b,o);yt(x,{rotation:-((isNaN(+w)?A[0]:Z(w,D,A,!0))+Math.PI/2)},t),v.add(x),p.setItemGraphicEl(b,x)}if(m){var T=P(b,o),E=_.get("clip");yt(T,{shape:{endAngle:Z(w,D,A,E)}},t),v.add(T),te(t.seriesIndex,p.dataType,b,T),g[b]=T}}).update(function(b,w){var x=p.get(y,b);if(d){var T=f.getItemGraphicEl(w),E=T?T.rotation:o,C=I(b,E);C.rotation=E,ot(C,{rotation:-((isNaN(+x)?A[0]:Z(x,D,A,!0))+Math.PI/2)},t),v.add(C),p.setItemGraphicEl(b,C)}if(m){var L=c[w],R=L?L.shape.endAngle:o,k=P(b,R),O=_.get("clip");ot(k,{shape:{endAngle:Z(x,D,A,O)}},t),v.add(k),te(t.seriesIndex,p.dataType,b,k),g[b]=k}}).execute(),p.each(function(b){var w=p.getItemModel(b),x=w.getModel("emphasis"),T=x.get("focus"),E=x.get("blurScope"),C=x.get("disabled");if(d){var L=p.getItemGraphicEl(b),R=p.getItemVisual(b,"style"),k=R.fill;if(L instanceof Ae){var O=L.style;L.useStyle(Rt({image:O.image,x:O.x,y:O.y,width:O.width,height:O.height},R))}else L.useStyle(R),L.type!=="pointer"&&L.setColor(k);L.setStyle(w.getModel(["pointer","itemStyle"]).getItemStyle()),L.style.fill==="auto"&&L.setStyle("fill",r(Z(p.get(y,b),D,[0,1],!0))),L.z2EmphasisLift=0,_t(L,w),ct(L,T,E,C)}if(m){var V=g[b];V.useStyle(p.getItemVisual(b,"style")),V.setStyle(w.getModel(["progress","itemStyle"]).getItemStyle()),V.z2EmphasisLift=0,_t(V,w),ct(V,T,E,C)}}),this._progressEls=g)},a.prototype._renderAnchor=function(t,e){var n=t.getModel("anchor"),r=n.get("show");if(r){var i=n.get("size"),o=n.get("icon"),l=n.get("offsetCenter"),u=n.get("keepAspect"),h=j(o,e.cx-i/2+H(l[0],e.r),e.cy-i/2+H(l[1],e.r),i,i,null,u);h.z2=n.get("showAbove")?1:0,h.setStyle(n.getModel("itemStyle").getItemStyle()),this.group.add(h)}},a.prototype._renderTitleAndDetail=function(t,e,n,r,i){var o=this,l=t.getData(),u=l.mapDimension("value"),h=+t.get("min"),v=+t.get("max"),f=new J,c=[],g=[],d=t.isAnimationEnabled(),_=t.get(["pointer","showAbove"]);l.diff(this._data).add(function(m){c[m]=new nt({silent:!0}),g[m]=new nt({silent:!0})}).update(function(m,p){c[m]=o._titleEls[p],g[m]=o._detailEls[p]}).execute(),l.each(function(m){var p=l.getItemModel(m),y=l.get(u,m),M=new J,S=r(Z(y,[h,v],[0,1],!0)),D=p.getModel("title");if(D.get("show")){var A=D.get("offsetCenter"),I=i.cx+H(A[0],i.r),P=i.cy+H(A[1],i.r),b=c[m];b.attr({z2:_?0:2,style:ut(D,{x:I,y:P,text:l.getName(m),align:"center",verticalAlign:"middle"},{inheritColor:S})}),M.add(b)}var w=p.getModel("detail");if(w.get("show")){var x=w.get("offsetCenter"),T=i.cx+H(x[0],i.r),E=i.cy+H(x[1],i.r),C=H(w.get("width"),i.r),L=H(w.get("height"),i.r),R=t.get(["progress","show"])?l.getItemVisual(m,"style").fill:S,b=g[m],k=w.get("formatter");b.attr({z2:_?0:2,style:ut(w,{x:T,y:E,text:ft(y,k),width:isNaN(C)?null:C,height:isNaN(L)?null:L,align:"center",verticalAlign:"middle"},{inheritColor:R})}),ia(b,{normal:w},y,function(V){return ft(V,k)}),d&&na(b,m,l,t,{getFormattedLabel:function(V,G,U,F,W,B){return ft(B?B.interpolatedValue:y,k)}}),M.add(b)}f.add(M)}),this.group.add(f),this._titleEls=c,this._detailEls=g},a.type="gauge",a}(pt),er=function(s){X(a,s);function a(){var t=s!==null&&s.apply(this,arguments)||this;return t.type=a.type,t.visualStyleAccessPath="itemStyle",t}return a.prototype.getInitialData=function(t,e){return oa(this,["value"])},a.type="series.gauge",a.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,"#E6EBF8"]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:"#63677A",width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:"#63677A",width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:"#464646",fontSize:12,rotate:0},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:"#fff",borderWidth:0,borderColor:"#5470c6"}},title:{show:!0,offsetCenter:[0,"20%"],color:"#464646",fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"#464646",fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},a}(Me);function Rr(s){s.registerChartView(tr),s.registerSeriesModel(er)}function At(s,a,t,e,n,r){s=s||0;var i=t[1]-t[0];if(n!=null&&(n=at(n,[0,i])),r!=null&&(r=Math.max(r,n??0)),e==="all"){var o=Math.abs(a[1]-a[0]);o=at(o,[0,i]),n=r=at(o,[n,r]),e=0}a[0]=at(a[0],t),a[1]=at(a[1],t);var l=It(a,e);a[e]+=s;var u=n||0,h=t.slice();l.sign<0?h[0]+=u:h[1]-=u,a[e]=at(a[e],h);var v;return v=It(a,e),n!=null&&(v.sign!==l.sign||v.span<n)&&(a[1-e]=a[e]+l.sign*n),v=It(a,e),r!=null&&v.span>r&&(a[1-e]=a[e]+v.sign*r),a}function It(s,a){var t=s[a]-s[1-a];return{span:Math.abs(t),sign:t>0?-1:t<0?1:a?-1:1}}function at(s,a){return Math.min(a[1]!=null?a[1]:1/0,Math.max(a[0]!=null?a[0]:-1/0,s))}var pe=["x","y","radius","angle","single"],ar=["cartesian2d","polar","singleAxis"];function rr(s){var a=s.get("coordinateSystem");return Pe(ar,a)>=0}function K(s){return s+"Axis"}function ir(s,a){var t=tt(),e=[],n=tt();s.eachComponent({mainType:"dataZoom",query:a},function(h){n.get(h.uid)||o(h)});var r;do r=!1,s.eachComponent("dataZoom",i);while(r);function i(h){!n.get(h.uid)&&l(h)&&(o(h),r=!0)}function o(h){n.set(h.uid,!0),e.push(h),u(h)}function l(h){var v=!1;return h.eachTargetAxis(function(f,c){var g=t.get(f);g&&g[c]&&(v=!0)}),v}function u(h){h.eachTargetAxis(function(v,f){(t.get(v)||t.set(v,[]))[f]=!0})}return e}function Ve(s){var a=s.ecModel,t={infoList:[],infoMap:tt()};return s.eachTargetAxis(function(e,n){var r=a.getComponent(K(e),n);if(r){var i=r.getCoordSysModel();if(i){var o=i.uid,l=t.infoMap.get(o);l||(l={model:i,axisModels:[]},t.infoList.push(l),t.infoMap.set(o,l)),l.axisModels.push(r)}}}),t}var Tt=function(){function s(){this.indexList=[],this.indexMap=[]}return s.prototype.add=function(a){this.indexMap[a]||(this.indexList.push(a),this.indexMap[a]=!0)},s}(),wt=function(s){X(a,s);function a(){var t=s!==null&&s.apply(this,arguments)||this;return t.type=a.type,t._autoThrottle=!0,t._noTarget=!0,t._rangePropMode=["percent","percent"],t}return a.prototype.init=function(t,e,n){var r=de(t);this.settledOption=r,this.mergeDefaultAndTheme(t,n),this._doInit(r)},a.prototype.mergeOption=function(t){var e=de(t);ee(this.option,t,!0),ee(this.settledOption,e,!0),this._doInit(e)},a.prototype._doInit=function(t){var e=this.option;this._setDefaultThrottle(t),this._updateRangeUse(t);var n=this.settledOption;z([["start","startValue"],["end","endValue"]],function(r,i){this._rangePropMode[i]==="value"&&(e[r[0]]=n[r[0]]=null)},this),this._resetTarget()},a.prototype._resetTarget=function(){var t=this.get("orient",!0),e=this._targetAxisInfoMap=tt(),n=this._fillSpecifiedTargetAxis(e);n?this._orient=t||this._makeAutoOrientByTargetAxis():(this._orient=t||"horizontal",this._fillAutoTargetAxisByOrient(e,this._orient)),this._noTarget=!0,e.each(function(r){r.indexList.length&&(this._noTarget=!1)},this)},a.prototype._fillSpecifiedTargetAxis=function(t){var e=!1;return z(pe,function(n){var r=this.getReferringComponents(K(n),sa);if(r.specified){e=!0;var i=new Tt;z(r.models,function(o){i.add(o.componentIndex)}),t.set(n,i)}},this),e},a.prototype._fillAutoTargetAxisByOrient=function(t,e){var n=this.ecModel,r=!0;if(r){var i=e==="vertical"?"y":"x",o=n.findComponents({mainType:i+"Axis"});l(o,i)}if(r){var o=n.findComponents({mainType:"singleAxis",filter:function(h){return h.get("orient",!0)===e}});l(o,"single")}function l(u,h){var v=u[0];if(v){var f=new Tt;if(f.add(v.componentIndex),t.set(h,f),r=!1,h==="x"||h==="y"){var c=v.getReferringComponents("grid",Ot).models[0];c&&z(u,function(g){v.componentIndex!==g.componentIndex&&c===g.getReferringComponents("grid",Ot).models[0]&&f.add(g.componentIndex)})}}}r&&z(pe,function(u){if(r){var h=n.findComponents({mainType:K(u),filter:function(f){return f.get("type",!0)==="category"}});if(h[0]){var v=new Tt;v.add(h[0].componentIndex),t.set(u,v),r=!1}}},this)},a.prototype._makeAutoOrientByTargetAxis=function(){var t;return this.eachTargetAxis(function(e){!t&&(t=e)},this),t==="y"?"vertical":"horizontal"},a.prototype._setDefaultThrottle=function(t){if(t.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var e=this.ecModel.option;this.option.throttle=e.animation&&e.animationDurationUpdate>0?100:20}},a.prototype._updateRangeUse=function(t){var e=this._rangePropMode,n=this.get("rangeMode");z([["start","startValue"],["end","endValue"]],function(r,i){var o=t[r[0]]!=null,l=t[r[1]]!=null;o&&!l?e[i]="percent":!o&&l?e[i]="value":n?e[i]=n[i]:o&&(e[i]="percent")})},a.prototype.noTarget=function(){return this._noTarget},a.prototype.getFirstTargetAxisModel=function(){var t;return this.eachTargetAxis(function(e,n){t==null&&(t=this.ecModel.getComponent(K(e),n))},this),t},a.prototype.eachTargetAxis=function(t,e){this._targetAxisInfoMap.each(function(n,r){z(n.indexList,function(i){t.call(e,r,i)})})},a.prototype.getAxisProxy=function(t,e){var n=this.getAxisModel(t,e);if(n)return n.__dzAxisProxy},a.prototype.getAxisModel=function(t,e){var n=this._targetAxisInfoMap.get(t);if(n&&n.indexMap[e])return this.ecModel.getComponent(K(t),e)},a.prototype.setRawRange=function(t){var e=this.option,n=this.settledOption;z([["start","startValue"],["end","endValue"]],function(r){(t[r[0]]!=null||t[r[1]]!=null)&&(e[r[0]]=n[r[0]]=t[r[0]],e[r[1]]=n[r[1]]=t[r[1]])},this),this._updateRangeUse(t)},a.prototype.setCalculatedRange=function(t){var e=this.option;z(["start","startValue","end","endValue"],function(n){e[n]=t[n]})},a.prototype.getPercentRange=function(){var t=this.findRepresentativeAxisProxy();if(t)return t.getDataPercentWindow()},a.prototype.getValueRange=function(t,e){if(t==null&&e==null){var n=this.findRepresentativeAxisProxy();if(n)return n.getDataValueWindow()}else return this.getAxisProxy(t,e).getDataValueWindow()},a.prototype.findRepresentativeAxisProxy=function(t){if(t)return t.__dzAxisProxy;for(var e,n=this._targetAxisInfoMap.keys(),r=0;r<n.length;r++)for(var i=n[r],o=this._targetAxisInfoMap.get(i),l=0;l<o.indexList.length;l++){var u=this.getAxisProxy(i,o.indexList[l]);if(u.hostedBy(this))return u;e||(e=u)}return e},a.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},a.prototype.getOrient=function(){return this._orient},a.type="dataZoom",a.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],a.defaultOption={z:4,filterMode:"filter",start:0,end:100},a}(la);function de(s){var a={};return z(["start","end","startValue","endValue","throttle"],function(t){s.hasOwnProperty(t)&&(a[t]=s[t])}),a}var ze=function(s){X(a,s);function a(){var t=s!==null&&s.apply(this,arguments)||this;return t.type=a.type,t}return a.prototype.render=function(t,e,n,r){this.dataZoomModel=t,this.ecModel=e,this.api=n},a.type="dataZoom",a}(ua),rt=z,me=ht,nr=function(){function s(a,t,e,n){this._dimName=a,this._axisIndex=t,this.ecModel=n,this._dataZoomModel=e}return s.prototype.hostedBy=function(a){return this._dataZoomModel===a},s.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},s.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},s.prototype.getTargetSeriesModels=function(){var a=[];return this.ecModel.eachSeries(function(t){if(rr(t)){var e=K(this._dimName),n=t.getReferringComponents(e,Ot).models[0];n&&this._axisIndex===n.componentIndex&&a.push(t)}},this),a},s.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},s.prototype.getMinMaxSpan=function(){return xe(this._minMaxSpan)},s.prototype.calculateDataWindow=function(a){var t=this._dataExtent,e=this.getAxisModel(),n=e.axis.scale,r=this._dataZoomModel.getRangePropMode(),i=[0,100],o=[],l=[],u;rt(["start","end"],function(f,c){var g=a[f],d=a[f+"Value"];r[c]==="percent"?(g==null&&(g=i[c]),d=n.parse(Z(g,i,t))):(u=!0,d=d==null?t[c]:n.parse(d),g=Z(d,t,i)),l[c]=d==null||isNaN(d)?t[c]:d,o[c]=g==null||isNaN(g)?i[c]:g}),me(l),me(o);var h=this._minMaxSpan;u?v(l,o,t,i,!1):v(o,l,i,t,!0);function v(f,c,g,d,_){var m=_?"Span":"ValueSpan";At(0,f,g,"all",h["min"+m],h["max"+m]);for(var p=0;p<2;p++)c[p]=Z(f[p],g,d,!0),_&&(c[p]=n.parse(c[p]))}return{valueWindow:l,percentWindow:o}},s.prototype.reset=function(a){if(a===this._dataZoomModel){var t=this.getTargetSeriesModels();this._dataExtent=or(this,this._dimName,t),this._updateMinMaxSpan();var e=this.calculateDataWindow(a.settledOption);this._valueWindow=e.valueWindow,this._percentWindow=e.percentWindow,this._setAxisModel()}},s.prototype.filterData=function(a,t){if(a!==this._dataZoomModel)return;var e=this._dimName,n=this.getTargetSeriesModels(),r=a.get("filterMode"),i=this._valueWindow;if(r==="none")return;rt(n,function(l){var u=l.getData(),h=u.mapDimensionsAll(e);if(h.length){if(r==="weakFilter"){var v=u.getStore(),f=Mt(h,function(c){return u.getDimensionIndex(c)},u);u.filterSelf(function(c){for(var g,d,_,m=0;m<h.length;m++){var p=v.get(f[m],c),y=!isNaN(p),M=p<i[0],S=p>i[1];if(y&&!M&&!S)return!0;y&&(_=!0),M&&(g=!0),S&&(d=!0)}return _&&g&&d})}else rt(h,function(c){if(r==="empty")l.setData(u=u.map(c,function(d){return o(d)?d:NaN}));else{var g={};g[c]=i,u.selectRange(g)}});rt(h,function(c){u.setApproximateExtent(i,c)})}});function o(l){return l>=i[0]&&l<=i[1]}},s.prototype._updateMinMaxSpan=function(){var a=this._minMaxSpan={},t=this._dataZoomModel,e=this._dataExtent;rt(["min","max"],function(n){var r=t.get(n+"Span"),i=t.get(n+"ValueSpan");i!=null&&(i=this.getAxisModel().axis.scale.parse(i)),i!=null?r=Z(e[0]+i,e,[0,100],!0):r!=null&&(i=Z(r,[0,100],e,!0)-e[0]),a[n+"Span"]=r,a[n+"ValueSpan"]=i},this)},s.prototype._setAxisModel=function(){var a=this.getAxisModel(),t=this._percentWindow,e=this._valueWindow;if(t){var n=ha(e,[0,500]);n=Math.min(n,20);var r=a.axis.scale.rawExtentInfo;t[0]!==0&&r.setDeterminedMinMax("min",+e[0].toFixed(n)),t[1]!==100&&r.setDeterminedMinMax("max",+e[1].toFixed(n)),r.freeze()}},s}();function or(s,a,t){var e=[1/0,-1/0];rt(t,function(i){va(e,i.getData(),a)});var n=s.getAxisModel(),r=ca(n.axis.scale,n,e).calculate();return[r.min,r.max]}var sr={getTargetSeries:function(s){function a(n){s.eachComponent("dataZoom",function(r){r.eachTargetAxis(function(i,o){var l=s.getComponent(K(i),o);n(i,o,l,r)})})}a(function(n,r,i,o){i.__dzAxisProxy=null});var t=[];a(function(n,r,i,o){i.__dzAxisProxy||(i.__dzAxisProxy=new nr(n,r,o,s),t.push(i.__dzAxisProxy))});var e=tt();return z(t,function(n){z(n.getTargetSeriesModels(),function(r){e.set(r.uid,r)})}),e},overallReset:function(s,a){s.eachComponent("dataZoom",function(t){t.eachTargetAxis(function(e,n){t.getAxisProxy(e,n).reset(t)}),t.eachTargetAxis(function(e,n){t.getAxisProxy(e,n).filterData(t,a)})}),s.eachComponent("dataZoom",function(t){var e=t.findRepresentativeAxisProxy();if(e){var n=e.getDataPercentWindow(),r=e.getDataValueWindow();t.setCalculatedRange({start:n[0],end:n[1],startValue:r[0],endValue:r[1]})}})}};function lr(s){s.registerAction("dataZoom",function(a,t){var e=ir(t,a);z(e,function(n){n.setRawRange({start:a.start,end:a.end,startValue:a.startValue,endValue:a.endValue})})})}var ye=!1;function Ne(s){ye||(ye=!0,s.registerProcessor(s.PRIORITY.PROCESSOR.FILTER,sr),lr(s),s.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}var ur=function(s){X(a,s);function a(){var t=s!==null&&s.apply(this,arguments)||this;return t.type=a.type,t}return a.type="dataZoom.inside",a.defaultOption=Ie(wt.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),a}(wt),Ht=fa();function hr(s,a,t){Ht(s).coordSysRecordMap.each(function(e){var n=e.dataZoomInfoMap.get(a.uid);n&&(n.getRange=t)})}function vr(s,a){for(var t=Ht(s).coordSysRecordMap,e=t.keys(),n=0;n<e.length;n++){var r=e[n],i=t.get(r),o=i.dataZoomInfoMap;if(o){var l=a.uid,u=o.get(l);u&&(o.removeKey(l),o.keys().length||Ze(t,i))}}}function Ze(s,a){if(a){s.removeKey(a.model.uid);var t=a.controller;t&&t.dispose()}}function cr(s,a){var t={model:a,containsPoint:ae(gr,a),dispatchAction:ae(fr,s),dataZoomInfoMap:null,controller:null},e=t.controller=new Ka(s.getZr());return z(["pan","zoom","scrollMove"],function(n){e.on(n,function(r){var i=[];t.dataZoomInfoMap.each(function(o){if(r.isAvailableBehavior(o.model.option)){var l=(o.getRange||{})[n],u=l&&l(o.dzReferCoordSysInfo,t.model.mainType,t.controller,r);!o.model.get("disabled",!0)&&u&&i.push({dataZoomId:o.model.id,start:u[0],end:u[1]})}}),i.length&&t.dispatchAction(i)})}),t}function fr(s,a){s.isDisposed()||s.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:a})}function gr(s,a,t,e){return s.coordinateSystem.containPoint([t,e])}function pr(s){var a,t="type_",e={type_true:2,type_move:1,type_false:0,type_undefined:-1},n=!0;return s.each(function(r){var i=r.model,o=i.get("disabled",!0)?!1:i.get("zoomLock",!0)?"move":!0;e[t+o]>e[t+a]&&(a=o),n=n&&i.get("preventDefaultMouseMove",!0)}),{controlType:a,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!n}}}function dr(s){s.registerProcessor(s.PRIORITY.PROCESSOR.FILTER,function(a,t){var e=Ht(t),n=e.coordSysRecordMap||(e.coordSysRecordMap=tt());n.each(function(r){r.dataZoomInfoMap=null}),a.eachComponent({mainType:"dataZoom",subType:"inside"},function(r){var i=Ve(r);z(i.infoList,function(o){var l=o.model.uid,u=n.get(l)||n.set(l,cr(t,o.model)),h=u.dataZoomInfoMap||(u.dataZoomInfoMap=tt());h.set(r.uid,{dzReferCoordSysInfo:o,model:r,getRange:null})})}),n.each(function(r){var i=r.controller,o,l=r.dataZoomInfoMap;if(l){var u=l.keys()[0];u!=null&&(o=l.get(u))}if(!o){Ze(n,r);return}var h=pr(l);i.enable(h.controlType,h.opt),i.setPointerChecker(r.containsPoint),Te(r,"dispatchAction",o.model.get("throttle",!0),"fixRate")})})}var mr=function(s){X(a,s);function a(){var t=s!==null&&s.apply(this,arguments)||this;return t.type="dataZoom.inside",t}return a.prototype.render=function(t,e,n){if(s.prototype.render.apply(this,arguments),t.noTarget()){this._clear();return}this.range=t.getPercentRange(),hr(n,t,{pan:N(Lt.pan,this),zoom:N(Lt.zoom,this),scrollMove:N(Lt.scrollMove,this)})},a.prototype.dispose=function(){this._clear(),s.prototype.dispose.apply(this,arguments)},a.prototype._clear=function(){vr(this.api,this.dataZoomModel),this.range=null},a.type="dataZoom.inside",a}(ze),Lt={zoom:function(s,a,t,e){var n=this.range,r=n.slice(),i=s.axisModels[0];if(i){var o=Ct[a](null,[e.originX,e.originY],i,t,s),l=(o.signal>0?o.pixelStart+o.pixelLength-o.pixel:o.pixel-o.pixelStart)/o.pixelLength*(r[1]-r[0])+r[0],u=Math.max(1/e.scale,0);r[0]=(r[0]-l)*u+l,r[1]=(r[1]-l)*u+l;var h=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();if(At(0,r,[0,100],0,h.minSpan,h.maxSpan),this.range=r,n[0]!==r[0]||n[1]!==r[1])return r}},pan:be(function(s,a,t,e,n,r){var i=Ct[e]([r.oldX,r.oldY],[r.newX,r.newY],a,n,t);return i.signal*(s[1]-s[0])*i.pixel/i.pixelLength}),scrollMove:be(function(s,a,t,e,n,r){var i=Ct[e]([0,0],[r.scrollDelta,r.scrollDelta],a,n,t);return i.signal*(s[1]-s[0])*r.scrollDelta})};function be(s){return function(a,t,e,n){var r=this.range,i=r.slice(),o=a.axisModels[0];if(o){var l=s(i,o,a,t,e,n);if(At(l,i,[0,100],"all"),this.range=i,r[0]!==i[0]||r[1]!==i[1])return i}}}var Ct={grid:function(s,a,t,e,n){var r=t.axis,i={},o=n.model.coordinateSystem.getRect();return s=s||[0,0],r.dim==="x"?(i.pixel=a[0]-s[0],i.pixelLength=o.width,i.pixelStart=o.x,i.signal=r.inverse?1:-1):(i.pixel=a[1]-s[1],i.pixelLength=o.height,i.pixelStart=o.y,i.signal=r.inverse?-1:1),i},polar:function(s,a,t,e,n){var r=t.axis,i={},o=n.model.coordinateSystem,l=o.getRadiusAxis().getExtent(),u=o.getAngleAxis().getExtent();return s=s?o.pointToCoord(s):[0,0],a=o.pointToCoord(a),t.mainType==="radiusAxis"?(i.pixel=a[0]-s[0],i.pixelLength=l[1]-l[0],i.pixelStart=l[0],i.signal=r.inverse?1:-1):(i.pixel=a[1]-s[1],i.pixelLength=u[1]-u[0],i.pixelStart=u[0],i.signal=r.inverse?-1:1),i},singleAxis:function(s,a,t,e,n){var r=t.axis,i=n.model.coordinateSystem.getRect(),o={};return s=s||[0,0],r.orient==="horizontal"?(o.pixel=a[0]-s[0],o.pixelLength=i.width,o.pixelStart=i.x,o.signal=r.inverse?1:-1):(o.pixel=a[1]-s[1],o.pixelLength=i.height,o.pixelStart=i.y,o.signal=r.inverse?-1:1),o}};function yr(s){Ne(s),s.registerComponentModel(ur),s.registerComponentView(mr),dr(s)}var br=function(s){X(a,s);function a(){var t=s!==null&&s.apply(this,arguments)||this;return t.type=a.type,t}return a.type="dataZoom.slider",a.layoutMode="box",a.defaultOption=Ie(wt.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleLabel:{show:!0},handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),a}(wt),st=dt,_e=7,_r=1,Et=30,Sr=7,lt="horizontal",Se="vertical",wr=5,Mr=["line","bar","candlestick","scatter"],Ar={easing:"cubicOut",duration:100,delay:0},Dr=function(s){X(a,s);function a(){var t=s!==null&&s.apply(this,arguments)||this;return t.type=a.type,t._displayables={},t}return a.prototype.init=function(t,e){this.api=e,this._onBrush=N(this._onBrush,this),this._onBrushEnd=N(this._onBrushEnd,this)},a.prototype.render=function(t,e,n,r){if(s.prototype.render.apply(this,arguments),Te(this,"_dispatchZoomAction",t.get("throttle"),"fixRate"),this._orient=t.getOrient(),t.get("show")===!1){this.group.removeAll();return}if(t.noTarget()){this._clear(),this.group.removeAll();return}(!r||r.type!=="dataZoom"||r.from!==this.uid)&&this._buildView(),this._updateView()},a.prototype.dispose=function(){this._clear(),s.prototype.dispose.apply(this,arguments)},a.prototype._clear=function(){ga(this,"_dispatchZoomAction");var t=this.api.getZr();t.off("mousemove",this._onBrush),t.off("mouseup",this._onBrushEnd)},a.prototype._buildView=function(){var t=this.group;t.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var e=this._displayables.sliderGroup=new J;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),t.add(e),this._positionGroup()},a.prototype._resetLocation=function(){var t=this.dataZoomModel,e=this.api,n=t.get("brushSelect"),r=n?Sr:0,i=this._findCoordRect(),o={width:e.getWidth(),height:e.getHeight()},l=this._orient===lt?{right:o.width-i.x-i.width,top:o.height-Et-_e-r,width:i.width,height:Et}:{right:_e,top:i.y,width:Et,height:i.height},u=pa(t.option);z(["right","top","width","height"],function(v){u[v]==="ph"&&(u[v]=l[v])});var h=da(u,o);this._location={x:h.x,y:h.y},this._size=[h.width,h.height],this._orient===Se&&this._size.reverse()},a.prototype._positionGroup=function(){var t=this.group,e=this._location,n=this._orient,r=this.dataZoomModel.getFirstTargetAxisModel(),i=r&&r.get("inverse"),o=this._displayables.sliderGroup,l=(this._dataShadowInfo||{}).otherAxisInverse;o.attr(n===lt&&!i?{scaleY:l?1:-1,scaleX:1}:n===lt&&i?{scaleY:l?1:-1,scaleX:-1}:n===Se&&!i?{scaleY:l?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:l?-1:1,scaleX:-1,rotation:Math.PI/2});var u=t.getBoundingRect([o]);t.x=e.x-u.x,t.y=e.y-u.y,t.markRedraw()},a.prototype._getViewExtent=function(){return[0,this._size[0]]},a.prototype._renderBackground=function(){var t=this.dataZoomModel,e=this._size,n=this._displayables.sliderGroup,r=t.get("brushSelect");n.add(new st({silent:!0,shape:{x:0,y:0,width:e[0],height:e[1]},style:{fill:t.get("backgroundColor")},z2:-40}));var i=new st({shape:{x:0,y:0,width:e[0],height:e[1]},style:{fill:"transparent"},z2:0,onclick:N(this._onClickPanel,this)}),o=this.api.getZr();r?(i.on("mousedown",this._onBrushStart,this),i.cursor="crosshair",o.on("mousemove",this._onBrush),o.on("mouseup",this._onBrushEnd)):(o.off("mousemove",this._onBrush),o.off("mouseup",this._onBrushEnd)),n.add(i)},a.prototype._renderDataShadow=function(){var t=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],!t)return;var e=this._size,n=this._shadowSize||[],r=t.series,i=r.getRawData(),o=r.getShadowDim&&r.getShadowDim(),l=o&&i.getDimensionInfo(o)?r.getShadowDim():t.otherDim;if(l==null)return;var u=this._shadowPolygonPts,h=this._shadowPolylinePts;if(i!==this._shadowData||l!==this._shadowDim||e[0]!==n[0]||e[1]!==n[1]){var v=i.getDataExtent(l),f=(v[1]-v[0])*.3;v=[v[0]-f,v[1]+f];var c=[0,e[1]],g=[0,e[0]],d=[[e[0],0],[0,0]],_=[],m=g[1]/(i.count()-1),p=0,y=Math.round(i.count()/e[0]),M;i.each([l],function(P,b){if(y>0&&b%y){p+=m;return}var w=P==null||isNaN(P)||P==="",x=w?0:Z(P,v,c,!0);w&&!M&&b?(d.push([d[d.length-1][0],0]),_.push([_[_.length-1][0],0])):!w&&M&&(d.push([p,0]),_.push([p,0])),d.push([p,x]),_.push([p,x]),p+=m,M=w}),u=this._shadowPolygonPts=d,h=this._shadowPolylinePts=_}this._shadowData=i,this._shadowDim=l,this._shadowSize=[e[0],e[1]];var S=this.dataZoomModel;function D(P){var b=S.getModel(P?"selectedDataBackground":"dataBackground"),w=new J,x=new wa({shape:{points:u},segmentIgnoreThreshold:1,style:b.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),T=new Ma({shape:{points:h},segmentIgnoreThreshold:1,style:b.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19});return w.add(x),w.add(T),w}for(var A=0;A<3;A++){var I=D(A===1);this._displayables.sliderGroup.add(I),this._displayables.dataShadowSegs.push(I)}},a.prototype._prepareDataShadowInfo=function(){var t=this.dataZoomModel,e=t.get("showDataShadow");if(e!==!1){var n,r=this.ecModel;return t.eachTargetAxis(function(i,o){var l=t.getAxisProxy(i,o).getTargetSeriesModels();z(l,function(u){if(!n&&!(e!==!0&&Pe(Mr,u.get("type"))<0)){var h=r.getComponent(K(i),o).axis,v=xr(i),f,c=u.coordinateSystem;v!=null&&c.getOtherAxis&&(f=c.getOtherAxis(h).inverse),v=u.getData().mapDimension(v),n={thisAxis:h,series:u,thisDim:i,otherDim:v,otherAxisInverse:f}}},this)},this),n}},a.prototype._renderHandle=function(){var t=this.group,e=this._displayables,n=e.handles=[null,null],r=e.handleLabels=[null,null],i=this._displayables.sliderGroup,o=this._size,l=this.dataZoomModel,u=this.api,h=l.get("borderRadius")||0,v=l.get("brushSelect"),f=e.filler=new st({silent:v,style:{fill:l.get("fillerColor")},textConfig:{position:"inside"}});i.add(f),i.add(new st({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:o[0],height:o[1],r:h},style:{stroke:l.get("dataBackgroundColor")||l.get("borderColor"),lineWidth:_r,fill:"rgba(0,0,0,0)"}})),z([0,1],function(y){var M=l.get("handleIcon");!ma[M]&&M.indexOf("path://")<0&&M.indexOf("image://")<0&&(M="path://"+M);var S=j(M,-1,0,2,2,null,!0);S.attr({cursor:we(this._orient),draggable:!0,drift:N(this._onDragMove,this,y),ondragend:N(this._onDragEnd,this),onmouseover:N(this._showDataInfo,this,!0),onmouseout:N(this._showDataInfo,this,!1),z2:5});var D=S.getBoundingRect(),A=l.get("handleSize");this._handleHeight=H(A,this._size[1]),this._handleWidth=D.width/D.height*this._handleHeight,S.setStyle(l.getModel("handleStyle").getItemStyle()),S.style.strokeNoScale=!0,S.rectHover=!0,S.ensureState("emphasis").style=l.getModel(["emphasis","handleStyle"]).getItemStyle(),ya(S);var I=l.get("handleColor");I!=null&&(S.style.fill=I),i.add(n[y]=S);var P=l.getModel("textStyle"),b=l.get("handleLabel")||{},w=b.show||!1;t.add(r[y]=new nt({silent:!0,invisible:!w,style:ut(P,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:P.getTextColor(),font:P.getFont()}),z2:10}))},this);var c=f;if(v){var g=H(l.get("moveHandleSize"),o[1]),d=e.moveHandle=new dt({style:l.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:o[1]-.5,height:g}}),_=g*.8,m=e.moveHandleIcon=j(l.get("moveHandleIcon"),-_/2,-_/2,_,_,"#fff",!0);m.silent=!0,m.y=o[1]+g/2-.5,d.ensureState("emphasis").style=l.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var p=Math.min(o[1]/2,Math.max(g,10));c=e.moveZone=new dt({invisible:!0,shape:{y:o[1]-p,height:g+p}}),c.on("mouseover",function(){u.enterEmphasis(d)}).on("mouseout",function(){u.leaveEmphasis(d)}),i.add(d),i.add(m),i.add(c)}c.attr({draggable:!0,cursor:we(this._orient),drift:N(this._onDragMove,this,"all"),ondragstart:N(this._showDataInfo,this,!0),ondragend:N(this._onDragEnd,this),onmouseover:N(this._showDataInfo,this,!0),onmouseout:N(this._showDataInfo,this,!1)})},a.prototype._resetInterval=function(){var t=this._range=this.dataZoomModel.getPercentRange(),e=this._getViewExtent();this._handleEnds=[Z(t[0],[0,100],e,!0),Z(t[1],[0,100],e,!0)]},a.prototype._updateInterval=function(t,e){var n=this.dataZoomModel,r=this._handleEnds,i=this._getViewExtent(),o=n.findRepresentativeAxisProxy().getMinMaxSpan(),l=[0,100];At(e,r,i,n.get("zoomLock")?"all":t,o.minSpan!=null?Z(o.minSpan,l,i,!0):null,o.maxSpan!=null?Z(o.maxSpan,l,i,!0):null);var u=this._range,h=this._range=ht([Z(r[0],i,l,!0),Z(r[1],i,l,!0)]);return!u||u[0]!==h[0]||u[1]!==h[1]},a.prototype._updateView=function(t){var e=this._displayables,n=this._handleEnds,r=ht(n.slice()),i=this._size;z([0,1],function(c){var g=e.handles[c],d=this._handleHeight;g.attr({scaleX:d/2,scaleY:d/2,x:n[c]+(c?-1:1),y:i[1]/2-d/2})},this),e.filler.setShape({x:r[0],y:0,width:r[1]-r[0],height:i[1]});var o={x:r[0],width:r[1]-r[0]};e.moveHandle&&(e.moveHandle.setShape(o),e.moveZone.setShape(o),e.moveZone.getBoundingRect(),e.moveHandleIcon&&e.moveHandleIcon.attr("x",o.x+o.width/2));for(var l=e.dataShadowSegs,u=[0,r[0],r[1],i[0]],h=0;h<l.length;h++){var v=l[h],f=v.getClipPath();f||(f=new dt,v.setClipPath(f)),f.setShape({x:u[h],y:0,width:u[h+1]-u[h],height:i[1]})}this._updateDataInfo(t)},a.prototype._updateDataInfo=function(t){var e=this.dataZoomModel,n=this._displayables,r=n.handleLabels,i=this._orient,o=["",""];if(e.get("showDetail")){var l=e.findRepresentativeAxisProxy();if(l){var u=l.getAxisModel().axis,h=this._range,v=t?l.calculateDataWindow({start:h[0],end:h[1]}).valueWindow:l.getDataValueWindow();o=[this._formatLabel(v[0],u),this._formatLabel(v[1],u)]}}var f=ht(this._handleEnds.slice());c.call(this,0),c.call(this,1);function c(g){var d=ba(n.handles[g].parent,this.group),_=_a(g===0?"right":"left",d),m=this._handleWidth/2+wr,p=re([f[g]+(g===0?-m:m),this._size[1]/2],d);r[g].setStyle({x:p[0],y:p[1],verticalAlign:i===lt?"middle":_,align:i===lt?_:"center",text:o[g]})}},a.prototype._formatLabel=function(t,e){var n=this.dataZoomModel,r=n.get("labelFormatter"),i=n.get("labelPrecision");(i==null||i==="auto")&&(i=e.getPixelPrecision());var o=t==null||isNaN(t)?"":e.type==="category"||e.type==="time"?e.scale.getLabel({value:Math.round(t)}):t.toFixed(Math.min(i,20));return vt(r)?r(t,o):Gt(r)?r.replace("{value}",o):o},a.prototype._showDataInfo=function(t){var e=this.dataZoomModel.get("handleLabel")||{},n=e.show||!1,r=this.dataZoomModel.getModel(["emphasis","handleLabel"]),i=r.get("show")||!1,o=t||this._dragging?i:n,l=this._displayables,u=l.handleLabels;u[0].attr("invisible",!o),u[1].attr("invisible",!o),l.moveHandle&&this.api[o?"enterEmphasis":"leaveEmphasis"](l.moveHandle,1)},a.prototype._onDragMove=function(t,e,n,r){this._dragging=!0,St(r.event);var i=this._displayables.sliderGroup.getLocalTransform(),o=re([e,n],i,!0),l=this._updateInterval(t,o[0]),u=this.dataZoomModel.get("realtime");this._updateView(!u),l&&u&&this._dispatchZoomAction(!0)},a.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1);var t=this.dataZoomModel.get("realtime");!t&&this._dispatchZoomAction(!1)},a.prototype._onClickPanel=function(t){var e=this._size,n=this._displayables.sliderGroup.transformCoordToLocal(t.offsetX,t.offsetY);if(!(n[0]<0||n[0]>e[0]||n[1]<0||n[1]>e[1])){var r=this._handleEnds,i=(r[0]+r[1])/2,o=this._updateInterval("all",n[0]-i);this._updateView(),o&&this._dispatchZoomAction(!1)}},a.prototype._onBrushStart=function(t){var e=t.offsetX,n=t.offsetY;this._brushStart=new Sa(e,n),this._brushing=!0,this._brushStartTime=+new Date},a.prototype._onBrushEnd=function(t){if(this._brushing){var e=this._displayables.brushRect;if(this._brushing=!1,!!e){e.attr("ignore",!0);var n=e.shape,r=+new Date;if(!(r-this._brushStartTime<200&&Math.abs(n.width)<5)){var i=this._getViewExtent(),o=[0,100];this._range=ht([Z(n.x,i,o,!0),Z(n.x+n.width,i,o,!0)]),this._handleEnds=[n.x,n.x+n.width],this._updateView(),this._dispatchZoomAction(!1)}}}},a.prototype._onBrush=function(t){this._brushing&&(St(t.event),this._updateBrushRect(t.offsetX,t.offsetY))},a.prototype._updateBrushRect=function(t,e){var n=this._displayables,r=this.dataZoomModel,i=n.brushRect;i||(i=n.brushRect=new st({silent:!0,style:r.getModel("brushStyle").getItemStyle()}),n.sliderGroup.add(i)),i.attr("ignore",!1);var o=this._brushStart,l=this._displayables.sliderGroup,u=l.transformCoordToLocal(t,e),h=l.transformCoordToLocal(o.x,o.y),v=this._size;u[0]=Math.max(Math.min(v[0],u[0]),0),i.setShape({x:h[0],y:0,width:u[0]-h[0],height:v[1]})},a.prototype._dispatchZoomAction=function(t){var e=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:t?Ar:null,start:e[0],end:e[1]})},a.prototype._findCoordRect=function(){var t,e=Ve(this.dataZoomModel).infoList;if(!t&&e.length){var n=e[0].model.coordinateSystem;t=n.getRect&&n.getRect()}if(!t){var r=this.api.getWidth(),i=this.api.getHeight();t={x:r*.2,y:i*.2,width:r*.6,height:i*.6}}return t},a.type="dataZoom.slider",a}(ze);function xr(s){var a={x:"y",y:"x",radius:"angle",angle:"radius"};return a[s]}function we(s){return s==="vertical"?"ns-resize":"ew-resize"}function Pr(s){s.registerComponentModel(br),s.registerComponentView(Dr),Ne(s)}function kr(s){ie(yr),ie(Pr)}export{wt as D,Na as E,Ka as R,Ea as S,kr as a,Lr as b,Wt as c,ze as d,Ne as e,yr as f,Pr as g,Rr as i,qa as p,Er as r,At as s,Cr as t};
