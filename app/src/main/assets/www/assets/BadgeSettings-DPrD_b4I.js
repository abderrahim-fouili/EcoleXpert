import{cw as We,W as Ye,z as Pe,X as Xe,A as T,B as r,d7 as ut,I as Le,D as ct,bW as dt,y as s,cL as Ke,c4 as Ze,v as Je,cK as mt,Y as ye,bz as vt,db as gt,dc as bt,dd as ft,de as Ue,df as Qe,dg as De,dh as pt,di as Ne,cd as K,ay as ae,dj as ht,aR as Ee,_ as yt,bt as kt,ag as Ct,Q as wt,S as Z,a6 as q,a5 as f,aE as St,ax as be,aF as xt,a8 as v,a4 as ee,R as je,ad as Vt,a2 as ie,ac as N,ab as fe,a3 as _t,aC as Mt,aP as qt,aO as Bt,C as $t,aM as Ft}from"./index-Bl2lQPd7.js";import{T as et}from"./TouchPan-jBhMORlX.js";import{b as le}from"./format-IcNrutKL.js";import{a as ue,Q as He}from"./QTabs-yl5EIOig.js";import{a as ze,Q as At}from"./QTabPanels-Bqg1c7oo.js";import{u as Tt}from"./use-render-cache-DLxPkVnQ.js";import{Q as pe}from"./QPopupProxy-CQ30ymZI.js";import{Q as Rt}from"./QForm-Dk45GsL9.js";import{Q as Lt}from"./QSpinnerGears-DmolwAR1.js";import{Q as Dt}from"./QInnerLoading-WxvcYHvS.js";import{S as zt}from"./SchoolLogoUpload-C_tSxVbI.js";import"./touch-BjYP5sR0.js";import"./selection-DaBtDCZ0.js";import"./rtl-DFPa-2ov.js";import"./TouchSwipe-jpsGI2FR.js";import"./QMenu-BNr9Tzvf.js";import"./position-engine-o8Q2RudZ.js";import"./QImg-BMvxJu3S.js";import"./QTooltip-r7WoEuzy.js";import"./QSpinnerDots-BW9ZsFNG.js";const Ge="q-slider__marker-labels",Pt=e=>({value:e}),It=({marker:e})=>s("div",{key:e.value,style:e.style,class:e.classes},e.label),tt=[34,37,40,33,39,38],Ut={...Ye,...We,min:{type:Number,default:0},max:{type:Number,default:100},innerMin:Number,innerMax:Number,step:{type:Number,default:1,validator:e=>e>=0},snap:Boolean,vertical:Boolean,reverse:Boolean,color:String,markerLabelsClass:String,label:Boolean,labelColor:String,labelTextColor:String,labelAlways:Boolean,switchLabelSide:Boolean,markers:[Boolean,Number],markerLabels:[Boolean,Array,Object,Function],switchMarkerLabelsSide:Boolean,trackImg:String,trackColor:String,innerTrackImg:String,innerTrackColor:String,selectionColor:String,selectionImg:String,thumbSize:{type:String,default:"20px"},trackSize:{type:String,default:"4px"},disable:Boolean,readonly:Boolean,dense:Boolean,tabindex:[String,Number],thumbColor:String,thumbPath:{type:String,default:"M 4, 10 a 6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"}},Qt=["pan","update:modelValue","change"];function Nt({updateValue:e,updatePosition:i,getDragging:R,formAttrs:d}){const{props:t,emit:C,slots:L,proxy:{$q:o}}=Pe(),H=Xe(t,o),E=Ke(d),B=T(!1),I=T(!1),n=T(!1),p=T(!1),A=r(()=>t.vertical===!0?"--v":"--h"),G=r(()=>"-"+(t.switchLabelSide===!0?"switched":"standard")),U=r(()=>t.vertical===!0?t.reverse===!0:t.reverse!==(o.lang.rtl===!0)),D=r(()=>isNaN(t.innerMin)===!0||t.innerMin<t.min?t.min:t.innerMin),y=r(()=>isNaN(t.innerMax)===!0||t.innerMax>t.max?t.max:t.innerMax),w=r(()=>t.disable!==!0&&t.readonly!==!0&&D.value<y.value),Q=r(()=>{if(t.step===0)return c=>c;const l=(String(t.step).trim().split(".")[1]||"").length;return c=>parseFloat(c.toFixed(l))}),z=r(()=>t.step===0?1:t.step),re=r(()=>w.value===!0?t.tabindex||0:-1),V=r(()=>t.max-t.min),x=r(()=>y.value-D.value),_=r(()=>se(D.value)),oe=r(()=>se(y.value)),j=r(()=>t.vertical===!0?U.value===!0?"bottom":"top":U.value===!0?"right":"left"),Y=r(()=>t.vertical===!0?"height":"width"),J=r(()=>t.vertical===!0?"width":"height"),ne=r(()=>t.vertical===!0?"vertical":"horizontal"),ke=r(()=>{const l={role:"slider","aria-valuemin":D.value,"aria-valuemax":y.value,"aria-orientation":ne.value,"data-step":t.step};return t.disable===!0?l["aria-disabled"]="true":t.readonly===!0&&(l["aria-readonly"]="true"),l}),S=r(()=>`q-slider q-slider${A.value} q-slider--${B.value===!0?"":"in"}active inline no-wrap `+(t.vertical===!0?"row":"column")+(t.disable===!0?" disabled":" q-slider--enabled"+(w.value===!0?" q-slider--editable":""))+(n.value==="both"?" q-slider--focus":"")+(t.label||t.labelAlways===!0?" q-slider--label":"")+(t.labelAlways===!0?" q-slider--label-always":"")+(H.value===!0?" q-slider--dark":"")+(t.dense===!0?" q-slider--dense q-slider--dense"+A.value:""));function X(l){const c="q-slider__"+l;return`${c} ${c}${A.value} ${c}${A.value}${G.value}`}function ce(l){const c="q-slider__"+l;return`${c} ${c}${A.value}`}const Ce=r(()=>{const l=t.selectionColor||t.color;return"q-slider__selection absolute"+(l!==void 0?` text-${l}`:"")}),we=r(()=>ce("markers")+" absolute overflow-hidden"),Se=r(()=>ce("track-container")),xe=r(()=>X("pin")),de=r(()=>X("label")),Ve=r(()=>X("text-container")),_e=r(()=>X("marker-labels-container")+(t.markerLabelsClass!==void 0?` ${t.markerLabelsClass}`:"")),Me=r(()=>"q-slider__track relative-position no-outline"+(t.trackColor!==void 0?` bg-${t.trackColor}`:"")),qe=r(()=>{const l={[J.value]:t.trackSize};return t.trackImg!==void 0&&(l.backgroundImage=`url(${t.trackImg}) !important`),l}),Be=r(()=>"q-slider__inner absolute"+(t.innerTrackColor!==void 0?` bg-${t.innerTrackColor}`:"")),me=r(()=>{const l=oe.value-_.value,c={[j.value]:`${100*_.value}%`,[Y.value]:l===0?"2px":`${100*l}%`};return t.innerTrackImg!==void 0&&(c.backgroundImage=`url(${t.innerTrackImg}) !important`),c});function $e(l){const{min:c,max:h,step:k}=t;let F=c+l*(h-c);if(k>0){const W=(F-D.value)%k;F+=(Math.abs(W)>=k/2?(W<0?-1:1)*k:0)-W}return F=Q.value(F),le(F,D.value,y.value)}function se(l){return V.value===0?0:(l-t.min)/V.value}function a(l,c){const h=dt(l),k=t.vertical===!0?le((h.top-c.top)/c.height,0,1):le((h.left-c.left)/c.width,0,1);return le(U.value===!0?1-k:k,_.value,oe.value)}const u=r(()=>ut(t.markers)===!0?t.markers:z.value),g=r(()=>{const l=[],c=u.value,h=t.max;let k=t.min;do l.push(k),k+=c;while(k<h);return l.push(h),l}),b=r(()=>{const l=` ${Ge}${A.value}-`;return Ge+`${l}${t.switchMarkerLabelsSide===!0?"switched":"standard"}${l}${U.value===!0?"rtl":"ltr"}`}),$=r(()=>t.markerLabels===!1?null:M(t.markerLabels).map((l,c)=>({index:c,value:l.value,label:l.label||l.value,classes:b.value+(l.classes!==void 0?" "+l.classes:""),style:{...O(l.value),...l.style||{}}}))),m=r(()=>({markerList:$.value,markerMap:ve.value,classes:b.value,getStyle:O})),P=r(()=>{const l=x.value===0?"2px":100*u.value/x.value;return{...me.value,backgroundSize:t.vertical===!0?`2px ${l}%`:`${l}% 2px`}});function M(l){if(l===!1)return null;if(l===!0)return g.value.map(Pt);if(typeof l=="function")return g.value.map(h=>{const k=l(h);return Le(k)===!0?{...k,value:h}:{value:h,label:k}});const c=({value:h})=>h>=t.min&&h<=t.max;return Array.isArray(l)===!0?l.map(h=>Le(h)===!0?h:{value:h}).filter(c):Object.keys(l).map(h=>{const k=l[h],F=Number(h);return Le(k)===!0?{...k,value:F}:{value:F,label:k}}).filter(c)}function O(l){return{[j.value]:`${100*(l-t.min)/V.value}%`}}const ve=r(()=>{if(t.markerLabels===!1)return null;const l={};return $.value.forEach(c=>{l[c.value]=c}),l});function ge(){if(L["marker-label-group"]!==void 0)return L["marker-label-group"](m.value);const l=L["marker-label"]||It;return $.value.map(c=>l({marker:c,...m.value}))}const Fe=r(()=>[[et,at,void 0,{[ne.value]:!0,prevent:!0,stop:!0,mouse:!0,mouseAllDir:!0}]]);function at(l){l.isFinal===!0?(p.value!==void 0&&(i(l.evt),l.touch===!0&&e(!0),p.value=void 0,C("pan","end")),B.value=!1,n.value=!1):l.isFirst===!0?(p.value=R(l.evt),i(l.evt),e(),B.value=!0,C("pan","start")):(i(l.evt),e())}function Ie(){n.value=!1}function lt(l){i(l,R(l)),e(),I.value=!0,B.value=!0,document.addEventListener("mouseup",Ae,!0)}function Ae(){I.value=!1,B.value=!1,e(!0),Ie(),document.removeEventListener("mouseup",Ae,!0)}function rt(l){i(l,R(l)),e(!0)}function ot(l){tt.includes(l.keyCode)&&e(!0)}function nt(l){if(t.vertical===!0)return null;const c=o.lang.rtl!==t.reverse?1-l:l;return{transform:`translateX(calc(${2*c-1} * ${t.thumbSize} / 2 + ${50-100*c}%))`}}function st(l){const c=r(()=>I.value===!1&&(n.value===l.focusValue||n.value==="both")?" q-slider--focus":""),h=r(()=>`q-slider__thumb q-slider__thumb${A.value} q-slider__thumb${A.value}-${U.value===!0?"rtl":"ltr"} absolute non-selectable`+c.value+(l.thumbColor.value!==void 0?` text-${l.thumbColor.value}`:"")),k=r(()=>({width:t.thumbSize,height:t.thumbSize,[j.value]:`${100*l.ratio.value}%`,zIndex:n.value===l.focusValue?2:void 0})),F=r(()=>l.labelColor.value!==void 0?` text-${l.labelColor.value}`:""),W=r(()=>nt(l.ratio.value)),Te=r(()=>"q-slider__text"+(l.labelTextColor.value!==void 0?` text-${l.labelTextColor.value}`:""));return()=>{const Re=[s("svg",{class:"q-slider__thumb-shape absolute-full",viewBox:"0 0 20 20","aria-hidden":"true"},[s("path",{d:t.thumbPath})]),s("div",{class:"q-slider__focus-ring fit"})];return(t.label===!0||t.labelAlways===!0)&&(Re.push(s("div",{class:xe.value+" absolute fit no-pointer-events"+F.value},[s("div",{class:de.value,style:{minWidth:t.thumbSize}},[s("div",{class:Ve.value,style:W.value},[s("span",{class:Te.value},l.label.value)])])])),t.name!==void 0&&t.disable!==!0&&E(Re,"push")),s("div",{class:h.value,style:k.value,...l.getNodeData()},Re)}}function it(l,c,h,k){const F=[];t.innerTrackColor!=="transparent"&&F.push(s("div",{key:"inner",class:Be.value,style:me.value})),t.selectionColor!=="transparent"&&F.push(s("div",{key:"selection",class:Ce.value,style:l.value})),t.markers!==!1&&F.push(s("div",{key:"marker",class:we.value,style:P.value})),k(F);const W=[Ze("div",{key:"trackC",class:Se.value,tabindex:c.value,...h.value},[s("div",{class:Me.value,style:qe.value},F)],"slide",w.value,()=>Fe.value)];if(t.markerLabels!==!1){const Te=t.switchMarkerLabelsSide===!0?"unshift":"push";W[Te](s("div",{key:"markerL",class:_e.value},ge()))}return W}return ct(()=>{document.removeEventListener("mouseup",Ae,!0)}),{state:{active:B,focus:n,preventFocus:I,dragging:p,editable:w,classes:S,tabindex:re,attributes:ke,roundValueFn:Q,keyStep:z,trackLen:V,innerMin:D,innerMinRatio:_,innerMax:y,innerMaxRatio:oe,positionProp:j,sizeProp:Y,isReversed:U},methods:{onActivate:lt,onMobileClick:rt,onBlur:Ie,onKeyup:ot,getContent:it,getThumbRenderFn:st,convertRatioToModel:$e,convertModelToRatio:se,getDraggingRatio:a}}}const Et=()=>({}),te=Je({name:"QSlider",props:{...Ut,modelValue:{required:!0,default:null,validator:e=>typeof e=="number"||e===null},labelValue:[String,Number]},emits:Qt,setup(e,{emit:i}){const{proxy:{$q:R}}=Pe(),{state:d,methods:t}=Nt({updateValue:A,updatePosition:U,getDragging:G,formAttrs:mt(e)}),C=T(null),L=T(0),o=T(0);function H(){o.value=e.modelValue===null?d.innerMin.value:le(e.modelValue,d.innerMin.value,d.innerMax.value)}ye(()=>`${e.modelValue}|${d.innerMin.value}|${d.innerMax.value}`,H),H();const E=r(()=>t.convertModelToRatio(o.value)),B=r(()=>d.active.value===!0?L.value:E.value),I=r(()=>{const w={[d.positionProp.value]:`${100*d.innerMinRatio.value}%`,[d.sizeProp.value]:`${100*(B.value-d.innerMinRatio.value)}%`};return e.selectionImg!==void 0&&(w.backgroundImage=`url(${e.selectionImg}) !important`),w}),n=t.getThumbRenderFn({focusValue:!0,getNodeData:Et,ratio:B,label:r(()=>e.labelValue!==void 0?e.labelValue:o.value),thumbColor:r(()=>e.thumbColor||e.color),labelColor:r(()=>e.labelColor),labelTextColor:r(()=>e.labelTextColor)}),p=r(()=>d.editable.value!==!0?{}:R.platform.is.mobile===!0?{onClick:t.onMobileClick}:{onMousedown:t.onActivate,onFocus:D,onBlur:t.onBlur,onKeydown:y,onKeyup:t.onKeyup});function A(w){o.value!==e.modelValue&&i("update:modelValue",o.value),w===!0&&i("change",o.value)}function G(){return C.value.getBoundingClientRect()}function U(w,Q=d.dragging.value){const z=t.getDraggingRatio(w,Q);o.value=t.convertRatioToModel(z),L.value=e.snap!==!0||e.step===0?z:t.convertModelToRatio(o.value)}function D(){d.focus.value=!0}function y(w){if(tt.includes(w.keyCode)===!1)return;vt(w);const Q=([34,33].includes(w.keyCode)?10:1)*d.keyStep.value,z=([34,37,40].includes(w.keyCode)?-1:1)*(d.isReversed.value===!0?-1:1)*(e.vertical===!0?-1:1)*Q;o.value=le(d.roundValueFn.value(o.value+z),d.innerMin.value,d.innerMax.value),A()}return()=>{const w=t.getContent(I,d.tabindex,p,Q=>{Q.push(n())});return s("div",{ref:C,class:d.classes.value+(e.modelValue===null?" q-slider--no-value":""),...d.attributes.value,"aria-valuenow":e.modelValue},w)}}}),jt=["rgb(255,204,204)","rgb(255,230,204)","rgb(255,255,204)","rgb(204,255,204)","rgb(204,255,230)","rgb(204,255,255)","rgb(204,230,255)","rgb(204,204,255)","rgb(230,204,255)","rgb(255,204,255)","rgb(255,153,153)","rgb(255,204,153)","rgb(255,255,153)","rgb(153,255,153)","rgb(153,255,204)","rgb(153,255,255)","rgb(153,204,255)","rgb(153,153,255)","rgb(204,153,255)","rgb(255,153,255)","rgb(255,102,102)","rgb(255,179,102)","rgb(255,255,102)","rgb(102,255,102)","rgb(102,255,179)","rgb(102,255,255)","rgb(102,179,255)","rgb(102,102,255)","rgb(179,102,255)","rgb(255,102,255)","rgb(255,51,51)","rgb(255,153,51)","rgb(255,255,51)","rgb(51,255,51)","rgb(51,255,153)","rgb(51,255,255)","rgb(51,153,255)","rgb(51,51,255)","rgb(153,51,255)","rgb(255,51,255)","rgb(255,0,0)","rgb(255,128,0)","rgb(255,255,0)","rgb(0,255,0)","rgb(0,255,128)","rgb(0,255,255)","rgb(0,128,255)","rgb(0,0,255)","rgb(128,0,255)","rgb(255,0,255)","rgb(245,0,0)","rgb(245,123,0)","rgb(245,245,0)","rgb(0,245,0)","rgb(0,245,123)","rgb(0,245,245)","rgb(0,123,245)","rgb(0,0,245)","rgb(123,0,245)","rgb(245,0,245)","rgb(214,0,0)","rgb(214,108,0)","rgb(214,214,0)","rgb(0,214,0)","rgb(0,214,108)","rgb(0,214,214)","rgb(0,108,214)","rgb(0,0,214)","rgb(108,0,214)","rgb(214,0,214)","rgb(163,0,0)","rgb(163,82,0)","rgb(163,163,0)","rgb(0,163,0)","rgb(0,163,82)","rgb(0,163,163)","rgb(0,82,163)","rgb(0,0,163)","rgb(82,0,163)","rgb(163,0,163)","rgb(92,0,0)","rgb(92,46,0)","rgb(92,92,0)","rgb(0,92,0)","rgb(0,92,46)","rgb(0,92,92)","rgb(0,46,92)","rgb(0,0,92)","rgb(46,0,92)","rgb(92,0,92)","rgb(255,255,255)","rgb(205,205,205)","rgb(178,178,178)","rgb(153,153,153)","rgb(127,127,127)","rgb(102,102,102)","rgb(76,76,76)","rgb(51,51,51)","rgb(25,25,25)","rgb(0,0,0)"],Oe="M5 5 h10 v10 h-10 v-10 z",Ht="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAH0lEQVQoU2NkYGAwZkAFZ5G5jPRRgOYEVDeB3EBjBQBOZwTVugIGyAAAAABJRU5ErkJggg==",he=Je({name:"QColor",props:{...Ye,...We,modelValue:String,defaultValue:String,defaultView:{type:String,default:"spectrum",validator:e=>["spectrum","tune","palette"].includes(e)},formatModel:{type:String,default:"auto",validator:e=>["auto","hex","rgb","hexa","rgba"].includes(e)},palette:Array,noHeader:Boolean,noHeaderTabs:Boolean,noFooter:Boolean,square:Boolean,flat:Boolean,bordered:Boolean,disable:Boolean,readonly:Boolean},emits:["update:modelValue","change"],setup(e,{emit:i}){const{proxy:R}=Pe(),{$q:d}=R,t=Xe(e,d),{getCache:C}=Tt(),L=T(null),o=T(null),H=r(()=>e.formatModel==="auto"?null:e.formatModel.indexOf("hex")!==-1),E=r(()=>e.formatModel==="auto"?null:e.formatModel.indexOf("a")!==-1),B=T(e.formatModel==="auto"?e.modelValue===void 0||e.modelValue===null||e.modelValue===""||e.modelValue.startsWith("#")?"hex":"rgb":e.formatModel.startsWith("hex")?"hex":"rgb"),I=T(e.defaultView),n=T(Y(e.modelValue||e.defaultValue)),p=r(()=>e.disable!==!0&&e.readonly!==!0),A=r(()=>e.modelValue===void 0||e.modelValue===null||e.modelValue===""||e.modelValue.startsWith("#")),G=r(()=>H.value!==null?H.value:A.value),U=r(()=>({type:"hidden",name:e.name,value:n.value[G.value===!0?"hex":"rgb"]})),D=Ke(U),y=r(()=>E.value!==null?E.value:n.value.a!==void 0),w=r(()=>({backgroundColor:n.value.rgb||"#000"})),Q=r(()=>`q-color-picker__header-content q-color-picker__header-content--${(n.value.a!==void 0&&n.value.a<65?!0:gt(n.value)>.4)?"light":"dark"}`),z=r(()=>({background:`hsl(${n.value.h},100%,50%)`})),re=r(()=>({top:`${100-n.value.v}%`,[d.lang.rtl===!0?"right":"left"]:`${n.value.s}%`})),V=r(()=>e.palette!==void 0&&e.palette.length!==0?e.palette:jt),x=r(()=>"q-color-picker"+(e.bordered===!0?" q-color-picker--bordered":"")+(e.square===!0?" q-color-picker--square no-border-radius":"")+(e.flat===!0?" q-color-picker--flat no-shadow":"")+(e.disable===!0?" disabled":"")+(t.value===!0?" q-color-picker--dark q-dark":"")),_=r(()=>e.disable===!0?{"aria-disabled":"true"}:{}),oe=r(()=>[[et,Ce,void 0,{prevent:!0,stop:!0,mouse:!0}]]);ye(()=>e.modelValue,a=>{const u=Y(a||e.defaultValue);u.hex!==n.value.hex&&(n.value=u)}),ye(()=>e.defaultValue,a=>{if(!e.modelValue&&a){const u=Y(a);u.hex!==n.value.hex&&(n.value=u)}});function j(a,u){n.value.hex=Ue(a),n.value.rgb=Qe(a),n.value.r=a.r,n.value.g=a.g,n.value.b=a.b,n.value.a=a.a;const g=n.value[G.value===!0?"hex":"rgb"];i("update:modelValue",g),u===!0&&i("change",g)}function Y(a){const u=E.value!==void 0?E.value:e.formatModel==="auto"?null:e.formatModel.indexOf("a")!==-1;if(typeof a!="string"||a.length===0||bt.anyColor(a.replace(/ /g,""))!==!0)return{h:0,s:0,v:0,r:0,g:0,b:0,a:u===!0?100:void 0,hex:void 0,rgb:void 0};const g=ft(a);return u===!0&&g.a===void 0&&(g.a=100),g.hex=Ue(g),g.rgb=Qe(g),Object.assign(g,De(g))}function J(a,u,g){const b=L.value;if(b===null)return;const $=b.clientWidth,m=b.clientHeight,P=b.getBoundingClientRect();let M=Math.min($,Math.max(0,a-P.left));d.lang.rtl===!0&&(M=$-M);const O=Math.min(m,Math.max(0,u-P.top)),ve=Math.round(100*M/$),ge=Math.round(100*Math.max(0,Math.min(1,-(O/m)+1))),Fe=Ne({h:n.value.h,s:ve,v:ge,a:y.value===!0?n.value.a:void 0});n.value.s=ve,n.value.v=ge,j(Fe,g)}function ne(a,u){const g=Math.round(a),b=Ne({h:g,s:n.value.s,v:n.value.v,a:y.value===!0?n.value.a:void 0});n.value.h=g,j(b,u)}function ke(a){ne(a,!0)}function S(a,u,g,b,$){if(b!==void 0&&K(b),!/^[0-9]+$/.test(a)){$===!0&&R.$forceUpdate();return}const m=Math.floor(Number(a));if(m<0||m>g){$===!0&&R.$forceUpdate();return}const P={r:u==="r"?m:n.value.r,g:u==="g"?m:n.value.g,b:u==="b"?m:n.value.b,a:y.value===!0?u==="a"?m:n.value.a:void 0};if(u!=="a"){const M=De(P);n.value.h=M.h,n.value.s=M.s,n.value.v=M.v}if(j(P,$),$!==!0&&b?.target.selectionEnd!==void 0){const M=b.target.selectionEnd;Ee(()=>{b.target.setSelectionRange(M,M)})}}function X(a,u){let g;const b=a.target.value;if(K(a),B.value==="hex"){if(b.length!==(y.value===!0?9:7)||!/^#[0-9A-Fa-f]+$/.test(b))return!0;g=ht(b)}else{let m;if(b.endsWith(")"))if(y.value!==!0&&b.startsWith("rgb(")){if(m=b.substring(4,b.length-1).split(",").map(P=>parseInt(P,10)),m.length!==3||!/^rgb\([0-9]{1,3},[0-9]{1,3},[0-9]{1,3}\)$/.test(b))return!0}else if(y.value===!0&&b.startsWith("rgba(")){if(m=b.substring(5,b.length-1).split(","),m.length!==4||!/^rgba\([0-9]{1,3},[0-9]{1,3},[0-9]{1,3},(0|0\.[0-9]+[1-9]|0\.[1-9]+|1)\)$/.test(b))return!0;for(let M=0;M<3;M++){const O=parseInt(m[M],10);if(O<0||O>255)return!0;m[M]=O}const P=parseFloat(m[3]);if(P<0||P>1)return!0;m[3]=P}else return!0;else return!0;if(m[0]<0||m[0]>255||m[1]<0||m[1]>255||m[2]<0||m[2]>255||y.value===!0&&(m[3]<0||m[3]>1))return!0;g={r:m[0],g:m[1],b:m[2],a:y.value===!0?m[3]*100:void 0}}const $=De(g);if(n.value.h=$.h,n.value.s=$.s,n.value.v=$.v,j(g,u),u!==!0){const m=a.target.selectionEnd;Ee(()=>{a.target.setSelectionRange(m,m)})}}function ce(a){const u=Y(a),g={r:u.r,g:u.g,b:u.b,a:u.a};g.a===void 0&&(g.a=n.value.a),n.value.h=u.h,n.value.s=u.s,n.value.v=u.v,j(g,!0)}function Ce(a){a.isFinal?J(a.position.left,a.position.top,!0):we(a)}const we=pt(a=>{J(a.position.left,a.position.top)},20);function Se(a){J(a.pageX-window.pageXOffset,a.pageY-window.pageYOffset,!0)}function xe(a){J(a.pageX-window.pageXOffset,a.pageY-window.pageYOffset)}function de(a){o.value!==null&&(o.value.$el.style.opacity=a?1:0)}function Ve(a){B.value=a}function _e(){const a=[];return e.noHeaderTabs!==!0&&a.push(s(He,{class:"q-color-picker__header-tabs",modelValue:B.value,dense:!0,align:"justify","onUpdate:modelValue":Ve},()=>[s(ue,{label:"HEX"+(y.value===!0?"A":""),name:"hex",ripple:!1}),s(ue,{label:"RGB"+(y.value===!0?"A":""),name:"rgb",ripple:!1})])),a.push(s("div",{class:"q-color-picker__header-banner row flex-center no-wrap"},[s("input",{class:"fit",value:n.value[B.value],...p.value!==!0?{readonly:!0}:{},...C("topIn",{onInput:u=>{de(X(u)===!0)},onChange:K,onBlur:u=>{X(u,!0)===!0&&R.$forceUpdate(),de(!1)}})}),s(ae,{ref:o,class:"q-color-picker__error-icon absolute no-pointer-events",name:d.iconSet.type.negative})])),s("div",{class:"q-color-picker__header relative-position overflow-hidden"},[s("div",{class:"q-color-picker__header-bg absolute-full"}),s("div",{class:Q.value,style:w.value},a)])}function Me(){return s(At,{modelValue:I.value,animated:!0},()=>[s(ze,{class:"q-color-picker__spectrum-tab overflow-hidden",name:"spectrum"},me),s(ze,{class:"q-pa-md q-color-picker__tune-tab",name:"tune"},$e),s(ze,{class:"q-color-picker__palette-tab",name:"palette"},se)])}function qe(a){I.value=a}function Be(){return s("div",{class:"q-color-picker__footer relative-position overflow-hidden"},[s(He,{class:"absolute-full",modelValue:I.value,dense:!0,align:"justify","onUpdate:modelValue":qe},()=>[s(ue,{icon:d.iconSet.colorPicker.spectrum,name:"spectrum",ripple:!1}),s(ue,{icon:d.iconSet.colorPicker.tune,name:"tune",ripple:!1}),s(ue,{icon:d.iconSet.colorPicker.palette,name:"palette",ripple:!1})])])}function me(){const a={ref:L,class:"q-color-picker__spectrum non-selectable relative-position cursor-pointer"+(p.value!==!0?" readonly":""),style:z.value,...p.value===!0?{onClick:Se,onMousedown:xe}:{}},u=[s("div",{style:{paddingBottom:"100%"}}),s("div",{class:"q-color-picker__spectrum-white absolute-full"}),s("div",{class:"q-color-picker__spectrum-black absolute-full"}),s("div",{class:"absolute",style:re.value},[n.value.hex!==void 0?s("div",{class:"q-color-picker__spectrum-circle"}):null])],g=[s(te,{class:"q-color-picker__hue non-selectable",modelValue:n.value.h,min:0,max:360,trackSize:"8px",innerTrackColor:"transparent",selectionColor:"transparent",readonly:p.value!==!0,thumbPath:Oe,"onUpdate:modelValue":ne,onChange:ke})];return y.value===!0&&g.push(s(te,{class:"q-color-picker__alpha non-selectable",modelValue:n.value.a,min:0,max:100,trackSize:"8px",trackColor:"white",innerTrackColor:"transparent",selectionColor:"transparent",trackImg:Ht,readonly:p.value!==!0,hideSelection:!0,thumbPath:Oe,...C("alphaSlide",{"onUpdate:modelValue":b=>S(b,"a",100),onChange:b=>S(b,"a",100,void 0,!0)})})),[Ze("div",a,u,"spec",p.value,()=>oe.value),s("div",{class:"q-color-picker__sliders"},g)]}function $e(){return[s("div",{class:"row items-center no-wrap"},[s("div","R"),s(te,{modelValue:n.value.r,min:0,max:255,color:"red",dark:t.value,readonly:p.value!==!0,...C("rSlide",{"onUpdate:modelValue":a=>S(a,"r",255),onChange:a=>S(a,"r",255,void 0,!0)})}),s("input",{value:n.value.r,maxlength:3,readonly:p.value!==!0,onChange:K,...C("rIn",{onInput:a=>S(a.target.value,"r",255,a),onBlur:a=>S(a.target.value,"r",255,a,!0)})})]),s("div",{class:"row items-center no-wrap"},[s("div","G"),s(te,{modelValue:n.value.g,min:0,max:255,color:"green",dark:t.value,readonly:p.value!==!0,...C("gSlide",{"onUpdate:modelValue":a=>S(a,"g",255),onChange:a=>S(a,"g",255,void 0,!0)})}),s("input",{value:n.value.g,maxlength:3,readonly:p.value!==!0,onChange:K,...C("gIn",{onInput:a=>S(a.target.value,"g",255,a),onBlur:a=>S(a.target.value,"g",255,a,!0)})})]),s("div",{class:"row items-center no-wrap"},[s("div","B"),s(te,{modelValue:n.value.b,min:0,max:255,color:"blue",readonly:p.value!==!0,dark:t.value,...C("bSlide",{"onUpdate:modelValue":a=>S(a,"b",255),onChange:a=>S(a,"b",255,void 0,!0)})}),s("input",{value:n.value.b,maxlength:3,readonly:p.value!==!0,onChange:K,...C("bIn",{onInput:a=>S(a.target.value,"b",255,a),onBlur:a=>S(a.target.value,"b",255,a,!0)})})]),y.value===!0?s("div",{class:"row items-center no-wrap"},[s("div","A"),s(te,{modelValue:n.value.a,color:"grey",readonly:p.value!==!0,dark:t.value,...C("aSlide",{"onUpdate:modelValue":a=>S(a,"a",100),onChange:a=>S(a,"a",100,void 0,!0)})}),s("input",{value:n.value.a,maxlength:3,readonly:p.value!==!0,onChange:K,...C("aIn",{onInput:a=>S(a.target.value,"a",100,a),onBlur:a=>S(a.target.value,"a",100,a,!0)})})]):null]}function se(){const a=u=>s("div",{class:"q-color-picker__cube col-auto",style:{backgroundColor:u},...p.value===!0?C("palette#"+u,{onClick:()=>{ce(u)}}):{}});return[s("div",{class:"row items-center q-color-picker__palette-rows"+(p.value===!0?" q-color-picker__palette-rows--editable":"")},V.value.map(a))]}return()=>{const a=[Me()];return e.name!==void 0&&e.disable!==!0&&D(a,"push"),e.noHeader!==!0&&a.unshift(_e()),e.noFooter!==!0&&a.push(Be()),s("div",{class:x.value,..._.value},a)}}}),Gt=kt({name:"BadgeSettingsPage",components:{SchoolLogoUpload:zt},setup(){const e=qt(),i=Bt(),R=T(null),d=T(!1),t=T({logo_url:null,disclaimer_text:null,primary_color:"#000000",secondary_color:"#FFFFFF",accent_color:"#0000FF",white_color:"#FFFFFF"}),C=r(()=>e.getters["ecole/badgeSettings"]),L=r(()=>!!C.value),o=r(()=>e.getters["media/settings"]),H=r(()=>({width:"54mm",height:"85.85mm","--svg-secondary":t.value?.secondary_color??"#e30623","--svg-primary":t.value?.primary_color??"#015499","--svg-accent":t.value?.accent_color??"#015499","--svg-white":t.value?.white_color??"#ffffff","--regime-color":"#FF0000"}));ye(C,V=>{V?Object.assign(t.value,V):Object.assign(t.value,{logo_url:null,disclaimer_text:null,primary_color:"#000000",secondary_color:"#FFFFFF",accent_color:"#0000FF",white_color:"#FFFFFF"})},{immediate:!0}),$t(async()=>{if(!C.value){d.value=!0;try{await e.dispatch("ecole/fetchBadgeSettings")}catch(V){V.response&&V.response.status===404||(console.error("Échec de la récupération des paramètres des badges:",V),i.notify({type:"negative",message:"Échec du chargement des paramètres des badges. "+(V.message||"Erreur inconnue")}))}finally{d.value=!1}}if(!o.value||!o.value.imgbb&&!o.value.imgcdndev)try{await e.dispatch("media/getSettings")}catch(V){console.error("Échec du chargement des paramètres d'hébergement d'images:",V),i.notify({type:"warning",message:"Impossible de charger les paramètres d'hébergement d'images. Le téléchargement de logo pourrait ne pas fonctionner."})}});const E=async()=>{if(!await R.value.validate()){i.notify({type:"negative",message:"Veuillez corriger les erreurs de validation."});return}d.value=!0;try{const x={...t.value};let _;L.value?_=await e.dispatch("ecole/updateBadgeSettings",x):_=await e.dispatch("ecole/initializeBadgeSettings",x),i.notify({type:"positive",message:_.message||"Paramètres enregistrés avec succès!",icon:"save"})}catch(x){console.error("Échec de l'enregistrement:",x);let _="Échec de l'enregistrement des paramètres des badges.";x.response?x.response.status===422?_="Validation échouée. Veuillez vérifier vos données.":x.response.status===404?_="Erreur: Paramètres non trouvés sur le serveur. Veuillez actualiser la page.":x.response.data&&x.response.data.message?_=x.response.data.message:_=`La requête a échoué avec le statut ${x.response.status}.`:x.message&&(_=x.message),i.notify({type:"negative",message:_,icon:"error"})}finally{d.value=!1}},B="5mm",I="4mm",n="16mm",p="7mm",A="5mm",G="18.8mm",U="18mm",D="1.5mm",y="44mm",w="54mm",Q="20mm",z=r(()=>e.getters["ecole/info"]),re=r(()=>t.value.logo_url??(z.value?.logo?Ft(z.value.logo):""));return{ecole:z,logo:re,loading:d,formData:t,form:R,onSubmit:E,settingsExist:L,mediaSettings:o,cardStyle:H,logoTopMm:B,logoLeftMm:I,logoWidthMm:n,regimeTopMm:p,regimeRightMm:A,photoTopMm:G,photoSizeMm:U,photoBorderMm:D,nameTopMm:y,qrTopMm:w,qrSizeMm:Q,badge:{qrCodeUrl:"",photoUrl:"https://placehold.co/150/cccccc/969696?text=Photo"}}}}),Ot={key:0,class:"q-mb-md bg-yellow-1 q-pa-md rounded-borders"},Wt={class:"grid grid-cols-1 lg:grid-cols-3 gap-4"},Yt={class:"col-12"},Xt={class:"grid grid-cols-1 lg:grid-cols-2 gap-4"},Kt={class:""},Zt={class:""},Jt={class:""},ea={class:""},ta={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},aa={class:""},la={class:"logo-section q-pa-md"},ra={class:""},oa={class:"relative z-10 h-full w-full"},na=["src"],sa=["src"],ia={key:1,class:"w-full h-full flex items-center justify-center text-gray-500 text-[9px]"},ua={class:"m-0 w-full text-center text-white font-medium text-[4mm] leading-[1.15]"},ca={class:"mt-1 mb-0 w-full text-center text-white font-semibold text-[2.5mm] leading-[1.1] uppercase"},da=["src"],ma={key:1,class:"w-full h-full bg-gray-100 flex items-center justify-center text-[8px] text-gray-400"},va={class:"mt-3 w-[99%] px-1 text-left text-white text-[1.2mm] leading-[1.25] opacity-95 whitespace-pre-line"},ga={class:"q-mt-lg"};function ba(e,i,R,d,t,C){const L=Ct("school-logo-upload");return Z(),wt(Mt,{class:"page-content"},{default:q(()=>[f(St,{flat:""},{default:q(()=>[f(be),f(xt,null,{default:q(()=>[i[17]||(i[17]=v("div",{class:"text-h6 q-mb-md"},"Paramètres des Badges Scolaires",-1)),f(Rt,{onSubmit:e.onSubmit,class:"q-gutter-md",ref:"form"},{default:q(()=>[e.settingsExist?je("",!0):(Z(),ee("div",Ot,[f(ae,{name:"warning",color:"warning",class:"q-mr-sm"}),i[10]||(i[10]=Vt(" Paramètres des badges non trouvés. Veuillez remplir les détails ci-dessous pour les créer. "))])),i[14]||(i[14]=v("div",{class:"text-subtitle1 q-mt-md text-primary"},"Paramètres Généraux",-1)),f(be,{spaced:""}),v("div",Wt,[v("div",Yt,[f(ie,{modelValue:e.formData.disclaimer_text,"onUpdate:modelValue":i[0]||(i[0]=o=>e.formData.disclaimer_text=o),label:"Texte de non-responsabilité (affiché en bas du badge)",type:"textarea",filled:"",autogrow:"",rules:[o=>o===null||o===""||o.length<=500||"Le texte de non-responsabilité doit comporter 500 caractères maximum"]},null,8,["modelValue","rules"])])]),i[15]||(i[15]=v("div",{class:"text-subtitle1 q-mt-lg text-primary"},"Palette de Couleurs (Codes Hex #RRGGBB)",-1)),f(be,{spaced:""}),v("div",Xt,[v("div",Kt,[f(ie,{modelValue:e.formData.primary_color,"onUpdate:modelValue":i[2]||(i[2]=o=>e.formData.primary_color=o),label:"Couleur Primaire",filled:"",rules:[o=>o===null||o===""||o.length<=50&&/^[#][0-9a-fA-F]{6}$/.test(o)||"Format de couleur invalide (#RRGGBB)"]},{append:q(()=>[f(ae,{name:"colorize",class:"cursor-pointer",style:N({color:e.formData.primary_color})},{default:q(()=>[f(pe,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:q(()=>[f(he,{modelValue:e.formData.primary_color,"onUpdate:modelValue":i[1]||(i[1]=o=>e.formData.primary_color=o)},null,8,["modelValue"])]),_:1})]),_:1},8,["style"])]),_:1},8,["modelValue","rules"])]),v("div",Zt,[f(ie,{modelValue:e.formData.secondary_color,"onUpdate:modelValue":i[4]||(i[4]=o=>e.formData.secondary_color=o),label:"Couleur Secondaire",filled:"",rules:[o=>o===null||o===""||o.length<=50&&/^[#][0-9a-fA-F]{6}$/.test(o)||"Format de couleur invalide (#RRGGBB)"]},{append:q(()=>[f(ae,{name:"colorize",class:"cursor-pointer",style:N({color:e.formData.secondary_color})},{default:q(()=>[f(pe,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:q(()=>[f(he,{modelValue:e.formData.secondary_color,"onUpdate:modelValue":i[3]||(i[3]=o=>e.formData.secondary_color=o)},null,8,["modelValue"])]),_:1})]),_:1},8,["style"])]),_:1},8,["modelValue","rules"])]),v("div",Jt,[f(ie,{modelValue:e.formData.accent_color,"onUpdate:modelValue":i[6]||(i[6]=o=>e.formData.accent_color=o),label:"Couleur d'Accentuation",filled:"",rules:[o=>o===null||o===""||o.length<=50&&/^[#][0-9a-fA-F]{6}$/.test(o)||"Format de couleur invalide (#RRGGBB)"]},{append:q(()=>[f(ae,{name:"colorize",class:"cursor-pointer",style:N({color:e.formData.accent_color})},{default:q(()=>[f(pe,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:q(()=>[f(he,{modelValue:e.formData.accent_color,"onUpdate:modelValue":i[5]||(i[5]=o=>e.formData.accent_color=o)},null,8,["modelValue"])]),_:1})]),_:1},8,["style"])]),_:1},8,["modelValue","rules"])]),v("div",ea,[f(ie,{modelValue:e.formData.white_color,"onUpdate:modelValue":i[8]||(i[8]=o=>e.formData.white_color=o),label:"Couleur Blanche utilisée",filled:"",rules:[o=>o===null||o===""||o.length<=50&&/^[#][0-9a-fA-F]{6}$/.test(o)||"Format de couleur invalide (#RRGGBB)"]},{append:q(()=>[f(ae,{name:"colorize",class:"cursor-pointer",style:N({color:e.formData.white_color})},{default:q(()=>[f(pe,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:q(()=>[f(he,{modelValue:e.formData.white_color,"onUpdate:modelValue":i[7]||(i[7]=o=>e.formData.white_color=o)},null,8,["modelValue"])]),_:1})]),_:1},8,["style"])]),_:1},8,["modelValue","rules"])])]),i[16]||(i[16]=v("div",{class:"text-subtitle1 q-mt-lg text-primary"},"Logo de l'école",-1)),f(be,{spaced:""}),v("div",ta,[v("div",aa,[v("div",la,[i[11]||(i[11]=v("div",{class:"text-subtitle2 q-mb-sm"},"Logo de l'école pour les badges",-1)),f(L,{modelValue:e.formData.logo_url,"onUpdate:modelValue":i[9]||(i[9]=o=>e.formData.logo_url=o),settings:e.mediaSettings},null,8,["modelValue","settings"]),i[12]||(i[12]=v("div",{class:"text-caption q-mt-sm text-grey-7"}," Ce logo sera utilisé sur les badges. Utilisez un format adapté (PNG transparent recommandé). ",-1))])]),v("div",ra,[v("div",{class:"relative",style:N(e.cardStyle)},[i[13]||(i[13]=v("svg",{viewBox:"0 0 714 1092",preserveAspectRatio:"xMidYMid slice",class:"absolute inset-0 w-full h-full z-0 pointer-events-none"},[v("path",{style:{fill:"var(--svg-secondary)","fill-opacity":"1"},d:"M 0,767 C 0,588.25 0.1761896,442 0.3915325,442 c 0.2153429,0 5.9528429,3.12862 12.7500005,6.9525 29.00316,16.31629 39.278459,16.46252 66.342737,0.94413 12.920272,-7.40835 20.4528,-12.65234 48.25361,-33.59318 37.57289,-28.30161 53.40838,-38.04568 71.85771,-44.21631 10.14542,-3.39327 14.98282,-4.25464 39.40441,-7.01652 77.89488,-8.80927 158.57164,-8.81198 236.5,-0.008 22.02616,2.48843 30.56462,4.19543 40.40795,8.07834 17.684,6.97582 33.02666,16.76388 69.48829,44.331 26.27625,19.86637 42.30473,30.82781 52.87222,36.15784 25.70744,12.96633 33.02178,12.21883 64.10067,-6.55082 L 714,440.05474 V 766.02737 1092 H 357 0 Z",id:"path452"}),v("path",{style:{fill:"var(--svg-white)","fill-opacity":"1","stroke-width":"1.02768"},d:"m -1,796.33459 v -294.6654 l 14.791317,-9.5177 c 23.988613,-15.4358 35.228057,-21.7063 39.898104,-22.2591 6.794821,-0.8043 13.422759,2.2808 28.08142,13.0713 23.078329,16.9882 29.315019,18.6956 42.700419,11.69 9.96997,-5.218 21.9972,-14.9312 38.11229,-30.7792 7.37597,-7.2537 19.27723,-18.9533 26.44726,-25.999 22.79527,-22.4001 38.94356,-33.5707 53.67757,-37.1313 8.40319,-2.0308 30.7021,-5.3812 49.10955,-7.3788 54.18203,-5.8798 116.04777,-3.9853 167.73877,5.1368 25.33775,4.4714 37.38484,12.6646 75.94653,51.6509 29.01179,29.3312 41.23977,39.7775 53.94121,46.0817 12.40015,6.1546 19.72885,3.8414 40.6765,-12.839 14.83733,-11.8148 19.46172,-14.287 26.7166,-14.2823 4.90855,0 6.78428,0.746 17.04761,6.7514 6.34272,3.7114 18.18831,11.0356 26.32353,16.2761 L 715,501.66919 V 796.33459 1091 H 357 -1 Z",id:"path1478"}),v("path",{style:{fill:"var(--svg-primary)","fill-opacity":"1"},d:"M 0,812.20791 V 532.41583 l 14.75,-9.03728 c 23.921606,-14.65669 35.129655,-20.61066 39.786657,-21.13557 6.775841,-0.76374 13.385266,2.16569 28.002981,12.41147 23.013862,16.13076 29.233132,17.75199 42.581142,11.09998 9.94212,-4.95467 21.93576,-14.1775 38.00583,-29.22558 7.35537,-6.8876 19.22339,-17.99662 26.37339,-24.68673 22.73159,-21.26946 38.83478,-31.87617 53.52763,-35.2571 8.37972,-1.92823 30.61634,-5.10955 48.97237,-7.00631 54.03069,-5.58308 115.72362,-3.78415 167.27023,4.87749 25.26697,4.24573 37.28041,12.02536 75.73439,49.0438 28.93075,27.85073 41.12457,37.76974 53.79053,43.75568 12.36552,5.84395 19.67375,3.6475 40.56288,-12.19093 14.79589,-11.21846 19.40736,-13.56581 26.64197,-13.5614 4.89484,0.003 6.76533,0.70834 17,6.41067 6.325,3.52403 18.1375,10.47858 26.25,15.45456 L 714,532.41583 V 812.20791 1092 H 357 0 Z",id:"path454"}),v("path",{xmlns:"http://www.w3.org/2000/svg",style:{display:"inline",fill:"#ffffff","fill-opacity":"1","stroke-width":"1.20056"},d:"m 337.89944,503.09998 c -27.36722,-3.38191 -54.51228,-14.49327 -76.14036,-31.16677 -16.03816,-12.36412 -34.0183,-34.42943 -43.47865,-53.35716 -17.60078,-35.21467 -20.20284,-81.00861 -6.7328,-118.49167 12.98481,-36.13284 41.85808,-68.44555 76.69583,-85.83201 35.18827,-17.56138 81.12511,-20.16766 118.58008,-6.72778 36.15978,12.97514 68.49659,41.82688 85.89602,76.63867 17.60079,35.21467 20.20285,81.00862 6.7328,118.49169 -12.98481,36.13284 -41.85808,68.44554 -76.69583,85.832 -24.0528,12.00401 -58.27691,17.89766 -84.85709,14.61303 z",id:"path5269"}),v("path",{style:{fill:"var(--svg-accent)","fill-opacity":"1"},d:"M 341.8452,478.92989 C 319.05835,476.11191 296.45648,466.85332 278.44823,452.96006 265.09433,442.6576 250.12347,424.2716 242.24647,408.5 227.59148,379.15723 225.42492,340.99925 236.64052,309.76633 247.4521,279.6585 271.49293,252.73381 300.5,238.24647 c 29.29891,-14.63309 67.54743,-16.80478 98.73367,-5.60595 30.10783,10.81158 57.03252,34.85241 71.51986,63.85948 14.65499,29.34277 16.82155,67.50075 5.60595,98.73367 -10.81158,30.10783 -34.85241,57.03252 -63.85948,71.51986 -20.02715,10.00239 -48.52327,14.91329 -70.6548,12.17636 z",id:"path456"})],-1)),v("div",oa,[e.logo?(Z(),ee("img",{key:0,src:e.logo,alt:"School Logo",class:"absolute object-contain",style:N({top:e.logoTopMm,left:e.logoLeftMm,width:e.logoWidthMm,height:"auto"}),crossorigin:"anonymous"},null,12,na)):je("",!0),v("p",{class:"absolute font-bold uppercase",style:N({top:e.regimeTopMm,right:e.regimeRightMm,color:"var(--regime-color)",fontSize:"3.2mm",lineHeight:"1.1","--regime-color":e.badge.regimeColor??"#FF0000"})},fe(e.badge.regimeText||"Regime A"),5),v("div",{class:"absolute left-1/2 transform -translate-x-1/2 z-20",style:N({top:e.photoTopMm})},[v("div",{class:"rounded-full overflow-hidden shadow-md border-[var(--svg-white)]",style:N({width:e.photoSizeMm,height:e.photoSizeMm,borderWidth:e.photoBorderMm})},[e.badge.photoUrl?(Z(),ee("img",{key:0,src:e.badge.photoUrl,alt:"Student Photo",class:"block w-full h-full object-cover",crossorigin:"anonymous"},null,8,sa)):(Z(),ee("div",ia,"No Photo "))],4)],4),v("div",{class:"absolute w-full text-center flex items-center justify-center flex-col",style:N({top:e.nameTopMm,paddingLeft:"0",paddingRight:"0"})},[v("p",ua,fe(e.badge.studentName||"Nom de l'élève"),1),v("p",ca,fe(e.badge.schoolNameSubtitle||"Classe"),1),v("div",{class:"mt-2 bg-white p-[1mm] flex items-center justify-center",style:N({width:e.qrSizeMm,height:e.qrSizeMm})},[e.badge.qrCodeUrl?(Z(),ee("img",{key:0,src:e.badge.qrCodeUrl,alt:"QR Code",class:"block max-w-full max-h-full object-contain",crossorigin:"anonymous"},null,8,da)):(Z(),ee("div",ma," QR "))],4),v("p",va,fe(e.formData.disclaimer_text),1)],4)])],4)])]),v("div",ga,[f(_t,{label:"Enregistrer les paramètres",type:"submit",color:"primary",loading:e.loading,icon:"save",class:"q-px-md"},null,8,["loading"])])]),_:1},8,["onSubmit"])]),_:1}),f(Dt,{showing:e.loading},{default:q(()=>[f(Lt,{size:"50px",color:"primary"})]),_:1},8,["showing"])]),_:1})]),_:1})}const Da=yt(Gt,[["render",ba],["__scopeId","data-v-e9ebfef8"]]);export{Da as default};
