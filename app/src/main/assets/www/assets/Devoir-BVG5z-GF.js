import{_ as h,aY as _,b8 as m,b9 as v,bb as b,at as g,cq as y,a4 as a,S as i,a8 as s,a9 as c,aa as u,ad as f,ab as n,ac as x,Q as k,R as w,af as C,a6 as D,ah as U,a5 as q,ay as B}from"./index-Bl2lQPd7.js";import{Q as F}from"./QItemLabel-BkJiB6aE.js";import{g as L}from"./groupBy-BgHPVcz-.js";import{f as N}from"./index-Dx01H97j.js";import{f as T}from"./index-C9ZTL5MN.js";const j={props:{devoirs:{type:Array,default:[]}},computed:{...g({user:"user/user",config:"user/config",current:"user/current",devoirsList:"devoirs/devoirs"}),baseUrl(){if(this.config.roles.eleve)return"/eleve/";if(this.config.roles.parent)return""},byDate(){return y(L(e=>e.rendre_le,this.devoirs))},annee(){if(this.current&&this.current.hasOwnProperty("annee"))return this.current.annee}},methods:{isArabic:b,fileIcon:v,openURL:m,pjUrl:_,toDate(t){return T(N(t),"E dd MMM")},disc(t){for(var e=0;e<this.annee.profs.length;e++){let l=this.annee.profs[e];if(l.idpers===t.idpers&&l.disciplines.length)return l.disciplines[0]}return null},discip(t){let e=this.disc(t.prof);return e?e.description:null},color(t){let e=this.disc(t.prof);return e&&e.color?e.color:"#e2e2e2"}},mounted(){console.log("devoirs")}},I={role:"region","aria-labelledby":"id_62_TitreText",class:"widget theme-cat-pedagogie travailafaire"},M={id:"id_62_contenu",class:"card-container",tabindex:"0"},O={class:"content-container",id:"id_62id_35",role:"presentation",tabindex:"0"},Q={id:"id_62"},V={class:"conteneur-liste-CDT"},z={class:"liste-imbriquee"},R={class:"sub-liste"},S=["onClick"],A={class:"wrap conteneur-item"},E={class:"as-header"},P={class:"titre-matiere"},G={key:0,class:"tag-style ie-chips OmbreFocus bg-positive text-white"},Y={key:1,class:"tag-style ie-chips OmbreFocus"},H={class:"m-left",style:{"padding-left":"2.4rem","padding-right":"1.6rem"}},J={class:"ellipsis"},K=["onClick"];function W(t,e,l,X,Z,o){return i(),a("article",I,[s("div",M,[s("div",O,[s("div",Q,[s("div",V,[s("ul",z,[(i(!0),a(c,null,u(o.byDate,(p,$)=>(i(),a("li",null,[s("h4",null,[e[0]||(e[0]=s("span",null,"Pour",-1)),f(" "+n(o.toDate(p.key)),1)]),s("ul",R,[(i(!0),a(c,null,u(p.data,(r,ee)=>(i(),a("li",{onClick:d=>t.go(o.baseUrl+"devoirs/view/"+r.id)},[s("div",A,[s("div",E,[s("div",{class:"with-color",style:x({"--couleur-matiere":o.color(r),"margin-left":".8rem"})},[s("span",P,n(o.discip(r)),1)],4),r.reponses.length?(i(),a("div",G,e[1]||(e[1]=[s("div",{class:"text ie-ellipsis"}," Fait",-1)]))):(i(),a("div",Y,e[2]||(e[2]=[s("div",{class:"text ie-ellipsis"},"Non Fait",-1)])))]),s("div",H,[s("div",{class:C({"text-bold":!r.etat.length})},n(r.objet),3),s("div",J,n(r.descriptif),1),r.fichiers.length?(i(),k(F,{key:0,lines:"1"},{default:D(()=>[(i(!0),a(c,null,u(r.fichiers,(d,se)=>(i(),a("div",{outline:"",color:"grey-9",onClick:U(te=>o.openURL(o.pjUrl(d)),["stop"]),class:"ellipsis rounded-borders q-mr-xs q-pa-xs",style:{"max-width":"40%",display:"inline-block",border:"1px solid var(--q-primary)"}},[q(B,{name:"img:"+o.fileIcon(d.fichier),size:"14px"},null,8,["name"]),f(" "+n(d.fichier),1)],8,K))),256))]),_:2},1024)):w("",!0)])])],8,S))),256))])]))),256))])])])])])])}const le=h(j,[["render",W]]);export{le as D};
