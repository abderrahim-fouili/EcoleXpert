import{Q as B}from"./QList-CMzNTEGD.js";import{v as y,W as Q,X as p,z as C,B as n,y as s,bp as F,bO as M,A,Y as S,bY as D,cf as q,cv as L,C as w,bJ as x,bI as E,D as I,bL as O}from"./index-Bl2lQPd7.js";import{u as P,a as R}from"./QSelect-DchnWyXK.js";const $=["horizontal","vertical","cell","none"],Y=y({name:"QMarkupTable",props:{...Q,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,wrapCells:Boolean,separator:{type:String,default:"horizontal",validator:e=>$.includes(e)}},setup(e,{slots:t}){const i=C(),a=p(e,i.proxy.$q),l=n(()=>`q-markup-table q-table__container q-table__card q-table--${e.separator}-separator`+(a.value===!0?" q-table--dark q-table__card--dark q-dark":"")+(e.dense===!0?" q-table--dense":"")+(e.flat===!0?" q-table--flat":"")+(e.bordered===!0?" q-table--bordered":"")+(e.square===!0?" q-table--square":"")+(e.wrapCells===!1?" q-table--no-wrap":""));return()=>s("div",{class:l.value},[s("table",{class:"q-table"},F(t.default))])}});function H(e,t){return s("div",e,[s("table",{class:"q-table"},t)])}const J={list:B,table:Y},N=["list","table","__qtable"],j=y({name:"QVirtualScroll",props:{...P,type:{type:String,default:"list",validator:e=>N.includes(e)},items:{type:Array,default:()=>[]},itemsFn:Function,itemsSize:Number,scrollTarget:M},setup(e,{slots:t,attrs:i}){let a;const l=A(null),u=n(()=>e.itemsSize>=0&&e.itemsFn!==void 0?parseInt(e.itemsSize,10):Array.isArray(e.items)?e.items.length:0),{virtualScrollSliceRange:r,localResetVirtualScroll:v,padVirtualScroll:T,onVirtualScrollEvt:f}=R({virtualScrollLength:u,getVirtualScrollTarget:h,getVirtualScrollEl:m}),_=n(()=>{if(u.value===0)return[];const o=(k,z)=>({index:r.value.from+z,item:k});return e.itemsFn===void 0?e.items.slice(r.value.from,r.value.to).map(o):e.itemsFn(r.value.from,r.value.to-r.value.from).map(o)}),b=n(()=>"q-virtual-scroll q-virtual-scroll"+(e.virtualScrollHorizontal===!0?"--horizontal":"--vertical")+(e.scrollTarget!==void 0?"":" scroll")),V=n(()=>e.scrollTarget!==void 0?{}:{tabindex:0});S(u,()=>{v()}),S(()=>e.scrollTarget,()=>{d(),c()});function m(){return l.value.$el||l.value}function h(){return a}function c(){a=D(m(),e.scrollTarget),a.addEventListener("scroll",f,q.passive)}function d(){a!==void 0&&(a.removeEventListener("scroll",f,q.passive),a=void 0)}function g(){let o=T(e.type==="list"?"div":"tbody",_.value.map(t.default));return t.before!==void 0&&(o=t.before().concat(o)),O(t.after,o)}return L(()=>{v()}),w(()=>{c()}),x(()=>{c()}),E(()=>{d()}),I(()=>{d()}),()=>{if(t.default===void 0){console.error("QVirtualScroll: default scoped slot is required for rendering");return}return e.type==="__qtable"?H({ref:l,class:"q-table__middle "+b.value},g()):s(J[e.type],{...i,ref:l,class:[i.class,b.value],...V.value},g)}}});export{j as Q,Y as a,H as g};
