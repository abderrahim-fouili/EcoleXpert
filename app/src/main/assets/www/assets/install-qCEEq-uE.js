import{_ as R,d as re,e as ae,R as ht,f as A,E as Te,g as ie,p as Me,B as Y,h as Ee,j as Re,k as ke,l as Be,m as J,n as De,r as Pe,o as Fe,q as E,s as ze,t as G,v as Q,w as V,C as At,S as dt,x as Ge,y as nt,z as Ve,A as He,D as ne,O as Ie,F as z,G as $,I as We,J as Tt,K,L as Ne,M as j,N as oe,P as Ct,Q as Ye,T as Ze,U as Mt,V as X,W as Xe,X as Oe,Y as st,Z as Ue,$ as $e,a0 as Ke,a1 as Et,a2 as Rt,a3 as je,a4 as W,a5 as ct,a6 as kt,a7 as qe,a8 as pt,a9 as ot,aa as se,ab as le,ac as Je,ad as Qe,ae as tr,af as er,ag as Bt,ah as Dt,ai as fe,aj as x,ak as O,al as rr,am as St,an as ue,ao as ar,ap as ve,aq as ir,ar as nr,as as or,u as Pt,at as sr,au as lr,av as fr,aw as tt,ax as gt,ay as ur,az as Ft,aA as vr,aB as hr,aC as dr,aD as cr,aE as pr,aF as gr,aG as zt}from"./index.esm.min-FpMw1SSI.js";function Gt(e,t,r){var a=Me.createCanvas(),i=t.getWidth(),n=t.getHeight(),o=a.style;return o&&(o.position="absolute",o.left="0",o.top="0",o.width=i+"px",o.height=n+"px",a.setAttribute("data-zr-dom-id",e)),a.width=i*r,a.height=n*r,a}var lt=function(e){R(t,e);function t(r,a,i){var n=e.call(this)||this;n.motionBlur=!1,n.lastFrameAlpha=.7,n.dpr=1,n.virtual=!1,n.config={},n.incremental=!1,n.zlevel=0,n.maxRepaintRectCount=5,n.__dirty=!0,n.__firstTimePaint=!0,n.__used=!1,n.__drawIndex=0,n.__startIndex=0,n.__endIndex=0,n.__prevStartIndex=null,n.__prevEndIndex=null;var o;i=i||ie,typeof r=="string"?o=Gt(r,a,i):re(r)&&(o=r,r=o.id),n.id=r,n.dom=o;var s=o.style;return s&&(ae(o),o.onselectstart=function(){return!1},s.padding="0",s.margin="0",s.borderWidth="0"),n.painter=a,n.dpr=i,n}return t.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},t.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},t.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},t.prototype.setUnpainted=function(){this.__firstTimePaint=!0},t.prototype.createBackBuffer=function(){var r=this.dpr;this.domBack=Gt("back-"+this.id,this.painter,r),this.ctxBack=this.domBack.getContext("2d"),r!==1&&this.ctxBack.scale(r,r)},t.prototype.createRepaintRects=function(r,a,i,n){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var o=[],s=this.maxRepaintRectCount,l=!1,f=new Y(0,0,0,0);function u(_){if(!(!_.isFinite()||_.isZero()))if(o.length===0){var m=new Y(0,0,0,0);m.copy(_),o.push(m)}else{for(var L=!1,w=1/0,S=0,C=0;C<o.length;++C){var T=o[C];if(T.intersect(_)){var b=new Y(0,0,0,0);b.copy(T),b.union(_),o[C]=b,L=!0;break}else if(l){f.copy(_),f.union(T);var F=_.width*_.height,B=T.width*T.height,k=f.width*f.height,D=k-F-B;D<w&&(w=D,S=C)}}if(l&&(o[S].union(_),L=!0),!L){var m=new Y(0,0,0,0);m.copy(_),o.push(m)}l||(l=o.length>=s)}}for(var v=this.__startIndex;v<this.__endIndex;++v){var d=r[v];if(d){var c=d.shouldBePainted(i,n,!0,!0),h=d.__isRendered&&(d.__dirty&ht||!c)?d.getPrevPaintRect():null;h&&u(h);var p=c&&(d.__dirty&ht||!d.__isRendered)?d.getPaintRect():null;p&&u(p)}}for(var v=this.__prevStartIndex;v<this.__prevEndIndex;++v){var d=a[v],c=d&&d.shouldBePainted(i,n,!0,!0);if(d&&(!c||!d.__zr)&&d.__isRendered){var h=d.getPrevPaintRect();h&&u(h)}}var g;do{g=!1;for(var v=0;v<o.length;){if(o[v].isZero()){o.splice(v,1);continue}for(var y=v+1;y<o.length;)o[v].intersect(o[y])?(g=!0,o[v].union(o[y]),o.splice(y,1)):y++;v++}}while(g);return this._paintRects=o,o},t.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},t.prototype.resize=function(r,a){var i=this.dpr,n=this.dom,o=n.style,s=this.domBack;o&&(o.width=r+"px",o.height=a+"px"),n.width=r*i,n.height=a*i,s&&(s.width=r*i,s.height=a*i,i!==1&&this.ctxBack.scale(i,i))},t.prototype.clear=function(r,a,i){var n=this.dom,o=this.ctx,s=n.width,l=n.height;a=a||this.clearColor;var f=this.motionBlur&&!r,u=this.lastFrameAlpha,v=this.dpr,d=this;f&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(n,0,0,s/v,l/v));var c=this.domBack;function h(p,g,y,_){if(o.clearRect(p,g,y,_),a&&a!=="transparent"){var m=void 0;if(Ee(a)){var L=a.global||a.__width===y&&a.__height===_;m=L&&a.__canvasGradient||Re(o,a,{x:0,y:0,width:y,height:_}),a.__canvasGradient=m,a.__width=y,a.__height=_}else ke(a)&&(a.scaleX=a.scaleX||v,a.scaleY=a.scaleY||v,m=Be(o,a,{dirty:function(){d.setUnpainted(),d.painter.refresh()}}));o.save(),o.fillStyle=m||a,o.fillRect(p,g,y,_),o.restore()}f&&(o.save(),o.globalAlpha=u,o.drawImage(c,p,g,y,_),o.restore())}!i||f?h(0,0,s,l):i.length&&A(i,function(p){h(p.x*v,p.y*v,p.width*v,p.height*v)})},t}(Te),Vt=1e5,H=314159,et=.01,xr=.001;function yr(e){return e?e.__builtin__?!0:!(typeof e.resize!="function"||typeof e.refresh!="function"):!1}function _r(e,t){var r=document.createElement("div");return r.style.cssText=["position:relative","width:"+e+"px","height:"+t+"px","padding:0","margin:0","border-width:0"].join(";")+";",r}var mr=function(){function e(t,r,a,i){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var n=!t.nodeName||t.nodeName.toUpperCase()==="CANVAS";this._opts=a=V({},a||{}),this.dpr=a.devicePixelRatio||ie,this._singleCanvas=n,this.root=t;var o=t.style;o&&(ae(t),t.innerHTML=""),this.storage=r;var s=this._zlevelList;this._prevDisplayList=[];var l=this._layers;if(n){var u=t,v=u.width,d=u.height;a.width!=null&&(v=a.width),a.height!=null&&(d=a.height),this.dpr=a.devicePixelRatio||1,u.width=v*this.dpr,u.height=d*this.dpr,this._width=v,this._height=d;var c=new lt(u,this,this.dpr);c.__builtin__=!0,c.initContext(),l[H]=c,c.zlevel=H,s.push(H),this._domRoot=t}else{this._width=Q(t,0,a),this._height=Q(t,1,a);var f=this._domRoot=_r(this._width,this._height);t.appendChild(f)}}return e.prototype.getType=function(){return"canvas"},e.prototype.isSingleCanvas=function(){return this._singleCanvas},e.prototype.getViewportRoot=function(){return this._domRoot},e.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},e.prototype.refresh=function(t){var r=this.storage.getDisplayList(!0),a=this._prevDisplayList,i=this._zlevelList;this._redrawId=Math.random(),this._paintList(r,a,t,this._redrawId);for(var n=0;n<i.length;n++){var o=i[n],s=this._layers[o];if(!s.__builtin__&&s.refresh){var l=n===0?this._backgroundColor:null;s.refresh(l)}}return this._opts.useDirtyRect&&(this._prevDisplayList=r.slice()),this},e.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},e.prototype._paintHoverList=function(t){var r=t.length,a=this._hoverlayer;if(a&&a.clear(),!!r){for(var i={inHover:!0,viewWidth:this._width,viewHeight:this._height},n,o=0;o<r;o++){var s=t[o];s.__inHover&&(a||(a=this._hoverlayer=this.getLayer(Vt)),n||(n=a.ctx,n.save()),J(n,s,i,o===r-1))}n&&n.restore()}},e.prototype.getHoverLayer=function(){return this.getLayer(Vt)},e.prototype.paintOne=function(t,r){De(t,r)},e.prototype._paintList=function(t,r,a,i){if(this._redrawId===i){a=a||!1,this._updateLayerStatus(t);var n=this._doPaintList(t,r,a),o=n.finished,s=n.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),s&&this._paintHoverList(t),o)this.eachLayer(function(f){f.afterBrush&&f.afterBrush()});else{var l=this;Pe(function(){l._paintList(t,r,a,i)})}}},e.prototype._compositeManually=function(){var t=this.getLayer(H).ctx,r=this._domRoot.width,a=this._domRoot.height;t.clearRect(0,0,r,a),this.eachBuiltinLayer(function(i){i.virtual&&t.drawImage(i.dom,0,0,r,a)})},e.prototype._doPaintList=function(t,r,a){for(var i=this,n=[],o=this._opts.useDirtyRect,s=0;s<this._zlevelList.length;s++){var l=this._zlevelList[s],f=this._layers[l];f.__builtin__&&f!==this._hoverlayer&&(f.__dirty||a)&&n.push(f)}for(var u=!0,v=!1,d=function(p){var g=n[p],y=g.ctx,_=o&&g.createRepaintRects(t,r,c._width,c._height),m=a?g.__startIndex:g.__drawIndex,L=!a&&g.incremental&&Date.now,w=L&&Date.now(),S=g.zlevel===c._zlevelList[0]?c._backgroundColor:null;if(g.__startIndex===g.__endIndex)g.clear(!1,S,_);else if(m===g.__startIndex){var C=t[m];(!C.incremental||!C.notClear||a)&&g.clear(!1,S,_)}m===-1&&(console.error("For some unknown reason. drawIndex is -1"),m=g.__startIndex);var T,b=function(D){var N={inHover:!1,allClipped:!1,prevEl:null,viewWidth:i._width,viewHeight:i._height};for(T=m;T<g.__endIndex;T++){var q=t[T];if(q.__inHover&&(v=!0),i._doPaintEl(q,g,o,D,N,T===g.__endIndex-1),L){var be=Date.now()-w;if(be>15)break}}N.prevElClipPaths&&y.restore()};if(_)if(_.length===0)T=g.__endIndex;else for(var F=c.dpr,B=0;B<_.length;++B){var k=_[B];y.save(),y.beginPath(),y.rect(k.x*F,k.y*F,k.width*F,k.height*F),y.clip(),b(k),y.restore()}else y.save(),b(),y.restore();g.__drawIndex=T,g.__drawIndex<g.__endIndex&&(u=!1)},c=this,h=0;h<n.length;h++)d(h);return Fe.wxa&&A(this._layers,function(p){p&&p.ctx&&p.ctx.draw&&p.ctx.draw()}),{finished:u,needsRefreshHover:v}},e.prototype._doPaintEl=function(t,r,a,i,n,o){var s=r.ctx;if(a){var l=t.getPaintRect();(!i||l&&l.intersect(i))&&(J(s,t,n,o),t.setPrevPaintRect(l))}else J(s,t,n,o)},e.prototype.getLayer=function(t,r){this._singleCanvas&&!this._needsManuallyCompositing&&(t=H);var a=this._layers[t];return a||(a=new lt("zr_"+t,this,this.dpr),a.zlevel=t,a.__builtin__=!0,this._layerConfig[t]?E(a,this._layerConfig[t],!0):this._layerConfig[t-et]&&E(a,this._layerConfig[t-et],!0),r&&(a.virtual=r),this.insertLayer(t,a),a.initContext()),a},e.prototype.insertLayer=function(t,r){var a=this._layers,i=this._zlevelList,n=i.length,o=this._domRoot,s=null,l=-1;if(!a[t]&&yr(r)){if(n>0&&t>i[0]){for(l=0;l<n-1&&!(i[l]<t&&i[l+1]>t);l++);s=a[i[l]]}if(i.splice(l+1,0,t),a[t]=r,!r.virtual)if(s){var f=s.dom;f.nextSibling?o.insertBefore(r.dom,f.nextSibling):o.appendChild(r.dom)}else o.firstChild?o.insertBefore(r.dom,o.firstChild):o.appendChild(r.dom);r.painter||(r.painter=this)}},e.prototype.eachLayer=function(t,r){for(var a=this._zlevelList,i=0;i<a.length;i++){var n=a[i];t.call(r,this._layers[n],n)}},e.prototype.eachBuiltinLayer=function(t,r){for(var a=this._zlevelList,i=0;i<a.length;i++){var n=a[i],o=this._layers[n];o.__builtin__&&t.call(r,o,n)}},e.prototype.eachOtherLayer=function(t,r){for(var a=this._zlevelList,i=0;i<a.length;i++){var n=a[i],o=this._layers[n];o.__builtin__||t.call(r,o,n)}},e.prototype.getLayers=function(){return this._layers},e.prototype._updateLayerStatus=function(t){this.eachBuiltinLayer(function(v,d){v.__dirty=v.__used=!1});function r(v){n&&(n.__endIndex!==v&&(n.__dirty=!0),n.__endIndex=v)}if(this._singleCanvas)for(var a=1;a<t.length;a++){var i=t[a];if(i.zlevel!==t[a-1].zlevel||i.incremental){this._needsManuallyCompositing=!0;break}}var n=null,o=0,s,l;for(l=0;l<t.length;l++){var i=t[l],f=i.zlevel,u=void 0;s!==f&&(s=f,o=0),i.incremental?(u=this.getLayer(f+xr,this._needsManuallyCompositing),u.incremental=!0,o=1):u=this.getLayer(f+(o>0?et:0),this._needsManuallyCompositing),u.__builtin__||ze("ZLevel "+f+" has been used by unkown layer "+u.id),u!==n&&(u.__used=!0,u.__startIndex!==l&&(u.__dirty=!0),u.__startIndex=l,u.incremental?u.__drawIndex=-1:u.__drawIndex=l,r(l),n=u),i.__dirty&ht&&!i.__inHover&&(u.__dirty=!0,u.incremental&&u.__drawIndex<0&&(u.__drawIndex=l))}r(l),this.eachBuiltinLayer(function(v,d){!v.__used&&v.getElementCount()>0&&(v.__dirty=!0,v.__startIndex=v.__endIndex=v.__drawIndex=0),v.__dirty&&v.__drawIndex<0&&(v.__drawIndex=v.__startIndex)})},e.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},e.prototype._clearLayer=function(t){t.clear()},e.prototype.setBackgroundColor=function(t){this._backgroundColor=t,A(this._layers,function(r){r.setUnpainted()})},e.prototype.configLayer=function(t,r){if(r){var a=this._layerConfig;a[t]?E(a[t],r,!0):a[t]=r;for(var i=0;i<this._zlevelList.length;i++){var n=this._zlevelList[i];if(n===t||n===t+et){var o=this._layers[n];E(o,a[t],!0)}}}},e.prototype.delLayer=function(t){var r=this._layers,a=this._zlevelList,i=r[t];i&&(i.dom.parentNode.removeChild(i.dom),delete r[t],a.splice(G(a,t),1))},e.prototype.resize=function(t,r){if(this._domRoot.style){var a=this._domRoot;a.style.display="none";var i=this._opts,n=this.root;if(t!=null&&(i.width=t),r!=null&&(i.height=r),t=Q(n,0,i),r=Q(n,1,i),a.style.display="",this._width!==t||r!==this._height){a.style.width=t+"px",a.style.height=r+"px";for(var o in this._layers)this._layers.hasOwnProperty(o)&&this._layers[o].resize(t,r);this.refresh(!0)}this._width=t,this._height=r}else{if(t==null||r==null)return;this._width=t,this._height=r,this.getLayer(H).resize(t,r)}return this},e.prototype.clearLayer=function(t){var r=this._layers[t];r&&r.clear()},e.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},e.prototype.getRenderedCanvas=function(t){if(t=t||{},this._singleCanvas&&!this._compositeManually)return this._layers[H].dom;var r=new lt("image",this,t.pixelRatio||this.dpr);r.initContext(),r.clear(!1,t.backgroundColor||this._backgroundColor);var a=r.ctx;if(t.pixelRatio<=this.dpr){this.refresh();var i=r.dom.width,n=r.dom.height;this.eachLayer(function(v){v.__builtin__?a.drawImage(v.dom,0,0,i,n):v.renderToCanvas&&(a.save(),v.renderToCanvas(a),a.restore())})}else for(var o={inHover:!1,viewWidth:this._width,viewHeight:this._height},s=this.storage.getDisplayList(!0),l=0,f=s.length;l<f;l++){var u=s[l];J(a,u,o,l===f-1)}return r.dom},e.prototype.getWidth=function(){return this._width},e.prototype.getHeight=function(){return this._height},e}();function La(e){e.registerPainter("canvas",mr)}var Lr=function(e){R(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.type="grid",t.dependencies=["xAxis","yAxis"],t.layoutMode="box",t.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},t}(At),Ar=function(){function e(){}return e.prototype.getNeedCrossZero=function(){var t=this.option;return!t.scale},e.prototype.getCoordSysModel=function(){},e}(),xt=function(e){R(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",dt).models[0]},t.type="cartesian2dAxis",t}(At);Ge(xt,Ar);var he={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,showMinLine:!0,showMaxLine:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},Cr=E({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},he),wt=E({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},he),Sr=E({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},wt),wr=nt({logBase:10},wt);const br={category:Cr,value:wt,time:Sr,log:wr};var Tr={value:1,category:1,time:1,log:1};function Ht(e,t,r,a){A(Tr,function(i,n){var o=E(E({},br[n],!0),a,!0),s=function(l){R(f,l);function f(){var u=l!==null&&l.apply(this,arguments)||this;return u.type=t+"Axis."+n,u}return f.prototype.mergeDefaultAndTheme=function(u,v){var d=Ve(this),c=d?He(u):{},h=v.getTheme();E(u,h.get(n+"Axis")),E(u,this.getDefaultOption()),u.type=It(u),d&&ne(u,c,d)},f.prototype.optionUpdated=function(){var u=this.option;u.type==="category"&&(this.__ordinalMeta=Ie.createByAxisModel(this))},f.prototype.getCategories=function(u){var v=this.option;if(v.type==="category")return u?v.data:this.__ordinalMeta.categories},f.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},f.type=t+"Axis."+n,f.defaultOption=o,f}(r);e.registerComponentModel(s)}),e.registerSubTypeDefaulter(t+"Axis",It)}function It(e){return e.type||(e.data?"category":"value")}var Mr=function(){function e(t){this.type="cartesian",this._dimList=[],this._axes={},this.name=t||""}return e.prototype.getAxis=function(t){return this._axes[t]},e.prototype.getAxes=function(){return z(this._dimList,function(t){return this._axes[t]},this)},e.prototype.getAxesByScale=function(t){return t=t.toLowerCase(),$(this.getAxes(),function(r){return r.scale.type===t})},e.prototype.addAxis=function(t){var r=t.dim;this._axes[r]=t,this._dimList.push(r)},e}(),yt=["x","y"];function Wt(e){return e.type==="interval"||e.type==="time"}var Er=function(e){R(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type="cartesian2d",r.dimensions=yt,r}return t.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var r=this.getAxis("x").scale,a=this.getAxis("y").scale;if(!(!Wt(r)||!Wt(a))){var i=r.getExtent(),n=a.getExtent(),o=this.dataToPoint([i[0],n[0]]),s=this.dataToPoint([i[1],n[1]]),l=i[1]-i[0],f=n[1]-n[0];if(!(!l||!f)){var u=(s[0]-o[0])/l,v=(s[1]-o[1])/f,d=o[0]-i[0]*u,c=o[1]-n[0]*v,h=this._transform=[u,0,0,v,d,c];this._invTransform=We([],h)}}},t.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},t.prototype.containPoint=function(r){var a=this.getAxis("x"),i=this.getAxis("y");return a.contain(a.toLocalCoord(r[0]))&&i.contain(i.toLocalCoord(r[1]))},t.prototype.containData=function(r){return this.getAxis("x").containData(r[0])&&this.getAxis("y").containData(r[1])},t.prototype.containZone=function(r,a){var i=this.dataToPoint(r),n=this.dataToPoint(a),o=this.getArea(),s=new Y(i[0],i[1],n[0]-i[0],n[1]-i[1]);return o.intersect(s)},t.prototype.dataToPoint=function(r,a,i){i=i||[];var n=r[0],o=r[1];if(this._transform&&n!=null&&isFinite(n)&&o!=null&&isFinite(o))return Tt(i,r,this._transform);var s=this.getAxis("x"),l=this.getAxis("y");return i[0]=s.toGlobalCoord(s.dataToCoord(n,a)),i[1]=l.toGlobalCoord(l.dataToCoord(o,a)),i},t.prototype.clampData=function(r,a){var i=this.getAxis("x").scale,n=this.getAxis("y").scale,o=i.getExtent(),s=n.getExtent(),l=i.parse(r[0]),f=n.parse(r[1]);return a=a||[],a[0]=Math.min(Math.max(Math.min(o[0],o[1]),l),Math.max(o[0],o[1])),a[1]=Math.min(Math.max(Math.min(s[0],s[1]),f),Math.max(s[0],s[1])),a},t.prototype.pointToData=function(r,a){var i=[];if(this._invTransform)return Tt(i,r,this._invTransform);var n=this.getAxis("x"),o=this.getAxis("y");return i[0]=n.coordToData(n.toLocalCoord(r[0]),a),i[1]=o.coordToData(o.toLocalCoord(r[1]),a),i},t.prototype.getOtherAxis=function(r){return this.getAxis(r.dim==="x"?"y":"x")},t.prototype.getArea=function(r){r=r||0;var a=this.getAxis("x").getGlobalExtent(),i=this.getAxis("y").getGlobalExtent(),n=Math.min(a[0],a[1])-r,o=Math.min(i[0],i[1])-r,s=Math.max(a[0],a[1])-n+r,l=Math.max(i[0],i[1])-o+r;return new Y(n,o,s,l)},t}(Mr),U=j();function de(e,t){var r=z(t,function(a){return e.scale.parse(a)});return e.type==="time"&&r.length>0&&(r.sort(),r.unshift(r[0]),r.push(r[r.length-1])),r}function Rr(e){var t=e.getLabelModel().get("customValues");if(t){var r=K(e),a=e.scale.getExtent(),i=de(e,t),n=$(i,function(o){return o>=a[0]&&o<=a[1]});return{labels:z(n,function(o){var s={value:o};return{formattedLabel:r(s),rawLabel:e.scale.getLabel(s),tickValue:o}})}}return e.type==="category"?Br(e):Pr(e)}function kr(e,t){var r=e.getTickModel().get("customValues");if(r){var a=e.scale.getExtent(),i=de(e,r);return{ticks:$(i,function(n){return n>=a[0]&&n<=a[1]})}}return e.type==="category"?Dr(e,t):{ticks:z(e.scale.getTicks(),function(n){return n.value})}}function Br(e){var t=e.getLabelModel(),r=ce(e,t);return!t.get("show")||e.scale.isBlank()?{labels:[],labelCategoryInterval:r.labelCategoryInterval}:r}function ce(e,t){var r=pe(e,"labels"),a=oe(t),i=ge(r,a);if(i)return i;var n,o;return Ct(a)?n=_e(e,a):(o=a==="auto"?Fr(e):a,n=ye(e,o)),xe(r,a,{labels:n,labelCategoryInterval:o})}function Dr(e,t){var r=pe(e,"ticks"),a=oe(t),i=ge(r,a);if(i)return i;var n,o;if((!t.get("show")||e.scale.isBlank())&&(n=[]),Ct(a))n=_e(e,a,!0);else if(a==="auto"){var s=ce(e,e.getLabelModel());o=s.labelCategoryInterval,n=z(s.labels,function(l){return l.tickValue})}else o=a,n=ye(e,o,!0);return xe(r,a,{ticks:n,tickCategoryInterval:o})}function Pr(e){var t=e.scale.getTicks(),r=K(e);return{labels:z(t,function(a,i){return{level:a.level,formattedLabel:r(a,i),rawLabel:e.scale.getLabel(a),tickValue:a.value}})}}function pe(e,t){return U(e)[t]||(U(e)[t]=[])}function ge(e,t){for(var r=0;r<e.length;r++)if(e[r].key===t)return e[r].value}function xe(e,t,r){return e.push({key:t,value:r}),r}function Fr(e){var t=U(e).autoInterval;return t??(U(e).autoInterval=e.calculateCategoryInterval())}function zr(e){var t=Gr(e),r=K(e),a=(t.axisRotate-t.labelRotate)/180*Math.PI,i=e.scale,n=i.getExtent(),o=i.count();if(n[1]-n[0]<1)return 0;var s=1;o>40&&(s=Math.max(1,Math.floor(o/40)));for(var l=n[0],f=e.dataToCoord(l+1)-e.dataToCoord(l),u=Math.abs(f*Math.cos(a)),v=Math.abs(f*Math.sin(a)),d=0,c=0;l<=n[1];l+=s){var h=0,p=0,g=Ne(r({value:l}),t.font,"center","top");h=g.width*1.3,p=g.height*1.3,d=Math.max(d,h,7),c=Math.max(c,p,7)}var y=d/u,_=c/v;isNaN(y)&&(y=1/0),isNaN(_)&&(_=1/0);var m=Math.max(0,Math.floor(Math.min(y,_))),L=U(e.model),w=e.getExtent(),S=L.lastAutoInterval,C=L.lastTickCount;return S!=null&&C!=null&&Math.abs(S-m)<=1&&Math.abs(C-o)<=1&&S>m&&L.axisExtent0===w[0]&&L.axisExtent1===w[1]?m=S:(L.lastTickCount=o,L.lastAutoInterval=m,L.axisExtent0=w[0],L.axisExtent1=w[1]),m}function Gr(e){var t=e.getLabelModel();return{axisRotate:e.getRotate?e.getRotate():e.isHorizontal&&!e.isHorizontal()?90:0,labelRotate:t.get("rotate")||0,font:t.getFont()}}function ye(e,t,r){var a=K(e),i=e.scale,n=i.getExtent(),o=e.getLabelModel(),s=[],l=Math.max((t||0)+1,1),f=n[0],u=i.count();f!==0&&l>1&&u/l>2&&(f=Math.round(Math.ceil(f/l)*l));var v=Ye(e),d=o.get("showMinLabel")||v,c=o.get("showMaxLabel")||v;d&&f!==n[0]&&p(n[0]);for(var h=f;h<=n[1];h+=l)p(h);c&&h-l!==n[1]&&p(n[1]);function p(g){var y={value:g};s.push(r?g:{formattedLabel:a(y),rawLabel:i.getLabel(y),tickValue:g})}return s}function _e(e,t,r){var a=e.scale,i=K(e),n=[];return A(a.getTicks(),function(o){var s=a.getLabel(o),l=o.value;t(o.value,s)&&n.push(r?l:{formattedLabel:i(o),rawLabel:s,tickValue:l})}),n}var Nt=[0,1],Vr=function(){function e(t,r,a){this.onBand=!1,this.inverse=!1,this.dim=t,this.scale=r,this._extent=a||[0,0]}return e.prototype.contain=function(t){var r=this._extent,a=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return t>=a&&t<=i},e.prototype.containData=function(t){return this.scale.contain(t)},e.prototype.getExtent=function(){return this._extent.slice()},e.prototype.getPixelPrecision=function(t){return Ze(t||this.scale.getExtent(),this._extent)},e.prototype.setExtent=function(t,r){var a=this._extent;a[0]=t,a[1]=r},e.prototype.dataToCoord=function(t,r){var a=this._extent,i=this.scale;return t=i.normalize(t),this.onBand&&i.type==="ordinal"&&(a=a.slice(),Yt(a,i.count())),Mt(t,Nt,a,r)},e.prototype.coordToData=function(t,r){var a=this._extent,i=this.scale;this.onBand&&i.type==="ordinal"&&(a=a.slice(),Yt(a,i.count()));var n=Mt(t,a,Nt,r);return this.scale.scale(n)},e.prototype.pointToData=function(t,r){},e.prototype.getTicksCoords=function(t){t=t||{};var r=t.tickModel||this.getTickModel(),a=kr(this,r),i=a.ticks,n=z(i,function(s){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(s):s),tickValue:s}},this),o=r.get("alignWithLabel");return Hr(this,n,o,t.clamp),n},e.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal")return[];var t=this.model.getModel("minorTick"),r=t.get("splitNumber");r>0&&r<100||(r=5);var a=this.scale.getMinorTicks(r),i=z(a,function(n){return z(n,function(o){return{coord:this.dataToCoord(o),tickValue:o}},this)},this);return i},e.prototype.getViewLabels=function(){return Rr(this).labels},e.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},e.prototype.getTickModel=function(){return this.model.getModel("axisTick")},e.prototype.getBandWidth=function(){var t=this._extent,r=this.scale.getExtent(),a=r[1]-r[0]+(this.onBand?1:0);a===0&&(a=1);var i=Math.abs(t[1]-t[0]);return Math.abs(i)/a},e.prototype.calculateCategoryInterval=function(){return zr(this)},e}();function Yt(e,t){var r=e[1]-e[0],a=t,i=r/a/2;e[0]+=i,e[1]-=i}function Hr(e,t,r,a){var i=t.length;if(!e.onBand||r||!i)return;var n=e.getExtent(),o,s;if(i===1)t[0].coord=n[0],o=t[1]={coord:n[1],tickValue:t[0].tickValue};else{var l=t[i-1].tickValue-t[0].tickValue,f=(t[i-1].coord-t[0].coord)/l;A(t,function(c){c.coord-=f/2});var u=e.scale.getExtent();s=1+u[1]-t[i-1].tickValue,o={coord:t[i-1].coord+f*s,tickValue:u[1]+1},t.push(o)}var v=n[0]>n[1];d(t[0].coord,n[0])&&(a?t[0].coord=n[0]:t.shift()),a&&d(n[0],t[0].coord)&&t.unshift({coord:n[0]}),d(n[1],o.coord)&&(a?o.coord=n[1]:t.pop()),a&&d(o.coord,n[1])&&t.push({coord:n[1]});function d(c,h){return c=X(c),h=X(h),v?c>h:c<h}}var Ir=function(e){R(t,e);function t(r,a,i,n,o){var s=e.call(this,r,a,i)||this;return s.index=0,s.type=n||"value",s.position=o||"bottom",s}return t.prototype.isHorizontal=function(){var r=this.position;return r==="top"||r==="bottom"},t.prototype.getGlobalExtent=function(r){var a=this.getExtent();return a[0]=this.toGlobalCoord(a[0]),a[1]=this.toGlobalCoord(a[1]),r&&a[0]>a[1]&&a.reverse(),a},t.prototype.pointToData=function(r,a){return this.coordToData(this.toLocalCoord(r[this.dim==="x"?0:1]),a)},t.prototype.setCategorySortInfo=function(r){if(this.type!=="category")return!1;this.model.option.categorySortInfo=r,this.scale.setSortInfo(r)},t}(Vr),ft=Math.log;function Wr(e,t,r){var a=Xe.prototype,i=a.getTicks.call(r),n=a.getTicks.call(r,!0),o=i.length-1,s=a.getInterval.call(r),l=Oe(e,t),f=l.extent,u=l.fixMin,v=l.fixMax;if(e.type==="log"){var d=ft(e.base);f=[ft(f[0])/d,ft(f[1])/d]}e.setExtent(f[0],f[1]),e.calcNiceExtent({splitNumber:o,fixMin:u,fixMax:v});var c=a.getExtent.call(e);u&&(f[0]=c[0]),v&&(f[1]=c[1]);var h=a.getInterval.call(e),p=f[0],g=f[1];if(u&&v)h=(g-p)/o;else if(u)for(g=f[0]+h*o;g<f[1]&&isFinite(g)&&isFinite(f[1]);)h=st(h),g=f[0]+h*o;else if(v)for(p=f[1]-h*o;p>f[0]&&isFinite(p)&&isFinite(f[0]);)h=st(h),p=f[1]-h*o;else{var y=e.getTicks().length-1;y>o&&(h=st(h));var _=h*o;g=Math.ceil(f[1]/h)*h,p=X(g-_),p<0&&f[0]>=0?(p=0,g=X(_)):g>0&&f[1]<=0&&(g=0,p=-X(_))}var m=(i[0].value-n[0].value)/s,L=(i[o].value-n[o].value)/s;a.setExtent.call(e,p+h*m,g+h*L),a.setInterval.call(e,h),(m||L)&&a.setNiceExtent.call(e,p+h,g-h)}var Nr=function(){function e(t,r,a){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=yt,this._initCartesian(t,r,a),this.model=t}return e.prototype.getRect=function(){return this._rect},e.prototype.update=function(t,r){var a=this._axesMap;this._updateScale(t,this.model);function i(o){var s,l=W(o),f=l.length;if(f){for(var u=[],v=f-1;v>=0;v--){var d=+l[v],c=o[d],h=c.model,p=c.scale;ct(p)&&h.get("alignTicks")&&h.get("interval")==null?u.push(c):(kt(p,h),ct(p)&&(s=c))}u.length&&(s||(s=u.pop(),kt(s.scale,s.model)),A(u,function(g){Wr(g.scale,g.model,s.scale)}))}}i(a.x),i(a.y);var n={};A(a.x,function(o){Zt(a,"y",o,n)}),A(a.y,function(o){Zt(a,"x",o,n)}),this.resize(this.model,r)},e.prototype.resize=function(t,r,a){var i=t.getBoxLayoutParams(),n=!a&&t.get("containLabel"),o=Ue(i,{width:r.getWidth(),height:r.getHeight()});this._rect=o;var s=this._axesList;l(),n&&(A(s,function(f){if(!f.model.get(["axisLabel","inside"])){var u=$e(f);if(u){var v=f.isHorizontal()?"height":"width",d=f.model.get(["axisLabel","margin"]);o[v]-=u[v]+d,f.position==="top"?o.y+=u.height+d:f.position==="left"&&(o.x+=u.width+d)}}}),l()),A(this._coordsList,function(f){f.calcAffineTransform()});function l(){A(s,function(f){var u=f.isHorizontal(),v=u?[0,o.width]:[0,o.height],d=f.inverse?1:0;f.setExtent(v[d],v[1-d]),Yr(f,u?o.x:o.y)})}},e.prototype.getAxis=function(t,r){var a=this._axesMap[t];if(a!=null)return a[r||0]},e.prototype.getAxes=function(){return this._axesList.slice()},e.prototype.getCartesian=function(t,r){if(t!=null&&r!=null){var a="x"+t+"y"+r;return this._coordsMap[a]}re(t)&&(r=t.yAxisIndex,t=t.xAxisIndex);for(var i=0,n=this._coordsList;i<n.length;i++)if(n[i].getAxis("x").index===t||n[i].getAxis("y").index===r)return n[i]},e.prototype.getCartesians=function(){return this._coordsList.slice()},e.prototype.convertToPixel=function(t,r,a){var i=this._findConvertTarget(r);return i.cartesian?i.cartesian.dataToPoint(a):i.axis?i.axis.toGlobalCoord(i.axis.dataToCoord(a)):null},e.prototype.convertFromPixel=function(t,r,a){var i=this._findConvertTarget(r);return i.cartesian?i.cartesian.pointToData(a):i.axis?i.axis.coordToData(i.axis.toLocalCoord(a)):null},e.prototype._findConvertTarget=function(t){var r=t.seriesModel,a=t.xAxisModel||r&&r.getReferringComponents("xAxis",dt).models[0],i=t.yAxisModel||r&&r.getReferringComponents("yAxis",dt).models[0],n=t.gridModel,o=this._coordsList,s,l;if(r)s=r.coordinateSystem,G(o,s)<0&&(s=null);else if(a&&i)s=this.getCartesian(a.componentIndex,i.componentIndex);else if(a)l=this.getAxis("x",a.componentIndex);else if(i)l=this.getAxis("y",i.componentIndex);else if(n){var f=n.coordinateSystem;f===this&&(s=this._coordsList[0])}return{cartesian:s,axis:l}},e.prototype.containPoint=function(t){var r=this._coordsList[0];if(r)return r.containPoint(t)},e.prototype._initCartesian=function(t,r,a){var i=this,n=this,o={left:!1,right:!1,top:!1,bottom:!1},s={x:{},y:{}},l={x:0,y:0};if(r.eachComponent("xAxis",f("x"),this),r.eachComponent("yAxis",f("y"),this),!l.x||!l.y){this._axesMap={},this._axesList=[];return}this._axesMap=s,A(s.x,function(u,v){A(s.y,function(d,c){var h="x"+v+"y"+c,p=new Er(h);p.master=i,p.model=t,i._coordsMap[h]=p,i._coordsList.push(p),p.addAxis(u),p.addAxis(d)})});function f(u){return function(v,d){if(ut(v,t)){var c=v.get("position");u==="x"?c!=="top"&&c!=="bottom"&&(c=o.bottom?"top":"bottom"):c!=="left"&&c!=="right"&&(c=o.left?"right":"left"),o[c]=!0;var h=new Ir(u,Ke(v),[0,0],v.get("type"),c),p=h.type==="category";h.onBand=p&&v.get("boundaryGap"),h.inverse=v.get("inverse"),v.axis=h,h.model=v,h.grid=n,h.index=d,n._axesList.push(h),s[u][d]=h,l[u]++}}}},e.prototype._updateScale=function(t,r){A(this._axesList,function(i){if(i.scale.setExtent(1/0,-1/0),i.type==="category"){var n=i.model.get("categorySortInfo");i.scale.setSortInfo(n)}}),t.eachSeries(function(i){if(Et(i)){var n=Rt(i),o=n.xAxisModel,s=n.yAxisModel;if(!ut(o,r)||!ut(s,r))return;var l=this.getCartesian(o.componentIndex,s.componentIndex),f=i.getData(),u=l.getAxis("x"),v=l.getAxis("y");a(f,u),a(f,v)}},this);function a(i,n){A(je(i,n.dim),function(o){n.scale.unionExtentFromData(i,o)})}},e.prototype.getTooltipAxes=function(t){var r=[],a=[];return A(this.getCartesians(),function(i){var n=t!=null&&t!=="auto"?i.getAxis(t):i.getBaseAxis(),o=i.getOtherAxis(n);G(r,n)<0&&r.push(n),G(a,o)<0&&a.push(o)}),{baseAxes:r,otherAxes:a}},e.create=function(t,r){var a=[];return t.eachComponent("grid",function(i,n){var o=new e(i,t,r);o.name="grid_"+n,o.resize(i,r,!0),i.coordinateSystem=o,a.push(o)}),t.eachSeries(function(i){if(Et(i)){var n=Rt(i),o=n.xAxisModel,s=n.yAxisModel,l=o.getCoordSysModel(),f=l.coordinateSystem;i.coordinateSystem=f.getCartesian(o.componentIndex,s.componentIndex)}}),a},e.dimensions=yt,e}();function ut(e,t){return e.getCoordSysModel()===t}function Zt(e,t,r,a){r.getAxesOnZeroOf=function(){return n?[n]:[]};var i=e[t],n,o=r.model,s=o.get(["axisLine","onZero"]),l=o.get(["axisLine","onZeroAxisIndex"]);if(!s)return;if(l!=null)Xt(i[l])&&(n=i[l]);else for(var f in i)if(i.hasOwnProperty(f)&&Xt(i[f])&&!a[u(i[f])]){n=i[f];break}n&&(a[u(n)]=!0);function u(v){return v.dim+"_"+v.index}}function Xt(e){return e&&e.type!=="category"&&e.type!=="time"&&qe(e)}function Yr(e,t){var r=e.getExtent(),a=r[0]+r[1];e.toGlobalCoord=e.dim==="x"?function(i){return i+t}:function(i){return a-i+t},e.toLocalCoord=e.dim==="x"?function(i){return i-t}:function(i){return a-i+t}}var _t=j();function Zr(e,t,r,a){var i=r.axis;if(!i.scale.isBlank()){var n=r.getModel("splitArea"),o=n.getModel("areaStyle"),s=o.get("color"),l=a.coordinateSystem.getRect(),f=i.getTicksCoords({tickModel:n,clamp:!0});if(f.length){var u=s.length,v=_t(e).splitAreaColors,d=pt(),c=0;if(v)for(var h=0;h<f.length;h++){var p=v.get(f[h].tickValue);if(p!=null){c=(p+(u-1)*h)%u;break}}var g=i.toGlobalCoord(f[0].coord),y=o.getAreaStyle();s=ot(s)?s:[s];for(var h=1;h<f.length;h++){var _=i.toGlobalCoord(f[h].coord),m=void 0,L=void 0,w=void 0,S=void 0;i.isHorizontal()?(m=g,L=l.y,w=_-m,S=l.height,g=m+w):(m=l.x,L=g,w=l.width,S=_-L,g=L+S);var C=f[h-1].tickValue;C!=null&&d.set(C,c),t.add(new se({anid:C!=null?"area_"+C:null,shape:{x:m,y:L,width:w,height:S},style:nt({fill:s[c]},y),autoBatch:!0,silent:!0})),c=(c+1)%u}_t(e).splitAreaColors=d}}}function Xr(e){_t(e).splitAreaColors=null}var Or=["axisLine","axisTickLabel","axisName"],Ur=["splitArea","splitLine","minorSplitLine"],me=function(e){R(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.axisPointerClass="CartesianAxisPointer",r}return t.prototype.render=function(r,a,i,n){this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new le,this.group.add(this._axisGroup),!!r.get("show")){var s=r.getCoordSysModel(),l=Je(s,r),f=new Qe(r,V({handleAutoShown:function(v){for(var d=s.coordinateSystem.getCartesians(),c=0;c<d.length;c++)if(ct(d[c].getOtherAxis(r.axis).scale))return!0;return!1}},l));A(Or,f.add,f),this._axisGroup.add(f.getGroup()),A(Ur,function(v){r.get([v,"show"])&&$r[v](this,this._axisGroup,r,s)},this);var u=n&&n.type==="changeAxisOrder"&&n.isInitSort;u||tr(o,this._axisGroup,r),e.prototype.render.call(this,r,a,i,n)}},t.prototype.remove=function(){Xr(this)},t.type="cartesianAxis",t}(er),$r={splitLine:function(e,t,r,a){var i=r.axis;if(!i.scale.isBlank()){var n=r.getModel("splitLine"),o=n.getModel("lineStyle"),s=o.get("color"),l=n.get("showMinLine")!==!1,f=n.get("showMaxLine")!==!1;s=ot(s)?s:[s];for(var u=a.coordinateSystem.getRect(),v=i.isHorizontal(),d=0,c=i.getTicksCoords({tickModel:n}),h=[],p=[],g=o.getLineStyle(),y=0;y<c.length;y++){var _=i.toGlobalCoord(c[y].coord);if(!(y===0&&!l||y===c.length-1&&!f)){var m=c[y].tickValue;v?(h[0]=_,h[1]=u.y,p[0]=_,p[1]=u.y+u.height):(h[0]=u.x,h[1]=_,p[0]=u.x+u.width,p[1]=_);var L=d++%s.length,w=new Bt({anid:m!=null?"line_"+m:null,autoBatch:!0,shape:{x1:h[0],y1:h[1],x2:p[0],y2:p[1]},style:nt({stroke:s[L]},g),silent:!0});Dt(w.shape,g.lineWidth),t.add(w)}}}},minorSplitLine:function(e,t,r,a){var i=r.axis,n=r.getModel("minorSplitLine"),o=n.getModel("lineStyle"),s=a.coordinateSystem.getRect(),l=i.isHorizontal(),f=i.getMinorTicksCoords();if(f.length)for(var u=[],v=[],d=o.getLineStyle(),c=0;c<f.length;c++)for(var h=0;h<f[c].length;h++){var p=i.toGlobalCoord(f[c][h].coord);l?(u[0]=p,u[1]=s.y,v[0]=p,v[1]=s.y+s.height):(u[0]=s.x,u[1]=p,v[0]=s.x+s.width,v[1]=p);var g=new Bt({anid:"minor_line_"+f[c][h].tickValue,autoBatch:!0,shape:{x1:u[0],y1:u[1],x2:v[0],y2:v[1]},style:d,silent:!0});Dt(g.shape,d.lineWidth),t.add(g)}},splitArea:function(e,t,r,a){Zr(e,t,r,a)}},Le=function(e){R(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.type="xAxis",t}(me),Kr=function(e){R(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=Le.type,r}return t.type="yAxis",t}(me),jr=function(e){R(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type="grid",r}return t.prototype.render=function(r,a){this.group.removeAll(),r.get("show")&&this.group.add(new se({shape:r.coordinateSystem.getRect(),style:nt({fill:r.get("backgroundColor")},r.getItemStyle()),silent:!0,z2:-1}))},t.type="grid",t}(fe),Ot={offset:0};function qr(e){e.registerComponentView(jr),e.registerComponentModel(Lr),e.registerCoordinateSystem("cartesian2d",Nr),Ht(e,"x",xt,Ot),Ht(e,"y",xt,Ot),e.registerComponentView(Le),e.registerComponentView(Kr),e.registerPreprocessor(function(t){t.xAxis&&t.yAxis&&!t.grid&&(t.grid={})})}function Jr(e,t,r,a){return e&&(e.legacy||e.legacy!==!1&&!r&&!a&&t!=="tspan"&&(t==="text"||x(e,"text")))}function Qr(e,t,r){var a=e,i,n,o;if(t==="text")o=a;else{o={},x(a,"text")&&(o.text=a.text),x(a,"rich")&&(o.rich=a.rich),x(a,"textFill")&&(o.fill=a.textFill),x(a,"textStroke")&&(o.stroke=a.textStroke),x(a,"fontFamily")&&(o.fontFamily=a.fontFamily),x(a,"fontSize")&&(o.fontSize=a.fontSize),x(a,"fontStyle")&&(o.fontStyle=a.fontStyle),x(a,"fontWeight")&&(o.fontWeight=a.fontWeight),n={type:"text",style:o,silent:!0},i={};var s=x(a,"textPosition");r?i.position=s?a.textPosition:"inside":s&&(i.position=a.textPosition),x(a,"textPosition")&&(i.position=a.textPosition),x(a,"textOffset")&&(i.offset=a.textOffset),x(a,"textRotation")&&(i.rotation=a.textRotation),x(a,"textDistance")&&(i.distance=a.textDistance)}return Ut(o,e),A(o.rich,function(l){Ut(l,l)}),{textConfig:i,textContent:n}}function Ut(e,t){t&&(t.font=t.textFont||t.font,x(t,"textStrokeWidth")&&(e.lineWidth=t.textStrokeWidth),x(t,"textAlign")&&(e.align=t.textAlign),x(t,"textVerticalAlign")&&(e.verticalAlign=t.textVerticalAlign),x(t,"textLineHeight")&&(e.lineHeight=t.textLineHeight),x(t,"textWidth")&&(e.width=t.textWidth),x(t,"textHeight")&&(e.height=t.textHeight),x(t,"textBackgroundColor")&&(e.backgroundColor=t.textBackgroundColor),x(t,"textPadding")&&(e.padding=t.textPadding),x(t,"textBorderColor")&&(e.borderColor=t.textBorderColor),x(t,"textBorderWidth")&&(e.borderWidth=t.textBorderWidth),x(t,"textBorderRadius")&&(e.borderRadius=t.textBorderRadius),x(t,"textBoxShadowColor")&&(e.shadowColor=t.textBoxShadowColor),x(t,"textBoxShadowBlur")&&(e.shadowBlur=t.textBoxShadowBlur),x(t,"textBoxShadowOffsetX")&&(e.shadowOffsetX=t.textBoxShadowOffsetX),x(t,"textBoxShadowOffsetY")&&(e.shadowOffsetY=t.textBoxShadowOffsetY))}function Aa(e,t,r){var a=e;a.textPosition=a.textPosition||r.position||"inside",r.offset!=null&&(a.textOffset=r.offset),r.rotation!=null&&(a.textRotation=r.rotation),r.distance!=null&&(a.textDistance=r.distance);var i=a.textPosition.indexOf("inside")>=0,n=e.fill||"#000";$t(a,t);var o=a.textFill==null;return i?o&&(a.textFill=r.insideFill||"#fff",!a.textStroke&&r.insideStroke&&(a.textStroke=r.insideStroke),!a.textStroke&&(a.textStroke=n),a.textStrokeWidth==null&&(a.textStrokeWidth=2)):(o&&(a.textFill=e.fill||r.outsideFill||"#000"),!a.textStroke&&r.outsideStroke&&(a.textStroke=r.outsideStroke)),a.text=t.text,a.rich=t.rich,A(t.rich,function(s){$t(s,s)}),a}function $t(e,t){t&&(x(t,"fill")&&(e.textFill=t.fill),x(t,"stroke")&&(e.textStroke=t.fill),x(t,"lineWidth")&&(e.textStrokeWidth=t.lineWidth),x(t,"font")&&(e.font=t.font),x(t,"fontStyle")&&(e.fontStyle=t.fontStyle),x(t,"fontWeight")&&(e.fontWeight=t.fontWeight),x(t,"fontSize")&&(e.fontSize=t.fontSize),x(t,"fontFamily")&&(e.fontFamily=t.fontFamily),x(t,"align")&&(e.textAlign=t.align),x(t,"verticalAlign")&&(e.textVerticalAlign=t.verticalAlign),x(t,"lineHeight")&&(e.textLineHeight=t.lineHeight),x(t,"width")&&(e.textWidth=t.width),x(t,"height")&&(e.textHeight=t.height),x(t,"backgroundColor")&&(e.textBackgroundColor=t.backgroundColor),x(t,"padding")&&(e.textPadding=t.padding),x(t,"borderColor")&&(e.textBorderColor=t.borderColor),x(t,"borderWidth")&&(e.textBorderWidth=t.borderWidth),x(t,"borderRadius")&&(e.textBorderRadius=t.borderRadius),x(t,"shadowColor")&&(e.textBoxShadowColor=t.shadowColor),x(t,"shadowBlur")&&(e.textBoxShadowBlur=t.shadowBlur),x(t,"shadowOffsetX")&&(e.textBoxShadowOffsetX=t.shadowOffsetX),x(t,"shadowOffsetY")&&(e.textBoxShadowOffsetY=t.shadowOffsetY),x(t,"textShadowColor")&&(e.textShadowColor=t.textShadowColor),x(t,"textShadowBlur")&&(e.textShadowBlur=t.textShadowBlur),x(t,"textShadowOffsetX")&&(e.textShadowOffsetX=t.textShadowOffsetX),x(t,"textShadowOffsetY")&&(e.textShadowOffsetY=t.textShadowOffsetY))}var Ae={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]},Kt=W(Ae);or(O,function(e,t){return e[t]=1,e},{});O.join(", ");var it=["","style","shape","extra"],Z=j();function bt(e,t,r,a,i){var n=e+"Animation",o=ve(e,a,i)||{},s=Z(t).userDuring;return o.duration>0&&(o.during=s?ir(na,{el:t,userDuring:s}):null,o.setToFinal=!0,o.scope=e),V(o,r[n]),o}function vt(e,t,r,a){a=a||{};var i=a.dataIndex,n=a.isInit,o=a.clearStyle,s=r.isAnimationEnabled(),l=Z(e),f=t.style;l.userDuring=t.during;var u={},v={};if(sa(e,t,v),qt("shape",t,v),qt("extra",t,v),!n&&s&&(oa(e,t,u),jt("shape",e,t,u),jt("extra",e,t,u),la(e,t,f,u)),v.style=f,ea(e,v,o),aa(e,t),s)if(n){var d={};A(it,function(h){var p=h?t[h]:t;p&&p.enterFrom&&(h&&(d[h]=d[h]||{}),V(h?d[h]:d,p.enterFrom))});var c=bt("enter",e,t,r,i);c.duration>0&&e.animateFrom(d,c)}else ra(e,t,i||0,r,u);Ce(e,t),f?e.dirty():e.markRedraw()}function Ce(e,t){for(var r=Z(e).leaveToProps,a=0;a<it.length;a++){var i=it[a],n=i?t[i]:t;n&&n.leaveTo&&(r||(r=Z(e).leaveToProps={}),i&&(r[i]=r[i]||{}),V(i?r[i]:r,n.leaveTo))}}function ta(e,t,r,a){if(e){var i=e.parent,n=Z(e).leaveToProps;if(n){var o=bt("update",e,t,r,0);o.done=function(){i.remove(e)},e.animateTo(n,o)}else i.remove(e)}}function I(e){return e==="all"}function ea(e,t,r){var a=t.style;if(!e.isGroup&&a){if(r){e.useStyle({});for(var i=e.animators,n=0;n<i.length;n++){var o=i[n];o.targetName==="style"&&o.changeTarget(e.style)}}e.setStyle(a)}t&&(t.style=null,t&&e.attr(t),t.style=a)}function ra(e,t,r,a,i){if(i){var n=bt("update",e,t,a,r);n.duration>0&&e.animateFrom(i,n)}}function aa(e,t){x(t,"silent")&&(e.silent=t.silent),x(t,"ignore")&&(e.ignore=t.ignore),e instanceof ue&&x(t,"invisible")&&(e.invisible=t.invisible),e instanceof ar&&x(t,"autoBatch")&&(e.autoBatch=t.autoBatch)}var P={},ia={setTransform:function(e,t){return P.el[e]=t,this},getTransform:function(e){return P.el[e]},setShape:function(e,t){var r=P.el,a=r.shape||(r.shape={});return a[e]=t,r.dirtyShape&&r.dirtyShape(),this},getShape:function(e){var t=P.el.shape;if(t)return t[e]},setStyle:function(e,t){var r=P.el,a=r.style;return a&&(a[e]=t,r.dirtyStyle&&r.dirtyStyle()),this},getStyle:function(e){var t=P.el.style;if(t)return t[e]},setExtra:function(e,t){var r=P.el.extra||(P.el.extra={});return r[e]=t,this},getExtra:function(e){var t=P.el.extra;if(t)return t[e]}};function na(){var e=this,t=e.el;if(t){var r=Z(t).userDuring,a=e.userDuring;if(r!==a){e.el=e.userDuring=null;return}P.el=t,a(ia)}}function jt(e,t,r,a){var i=r[e];if(i){var n=t[e],o;if(n){var s=r.transition,l=i.transition;if(l)if(!o&&(o=a[e]={}),I(l))V(o,n);else for(var f=St(l),u=0;u<f.length;u++){var v=f[u],d=n[v];o[v]=d}else if(I(s)||G(s,e)>=0){!o&&(o=a[e]={});for(var c=W(n),u=0;u<c.length;u++){var v=c[u],d=n[v];fa(i[v],d)&&(o[v]=d)}}}}}function qt(e,t,r){var a=t[e];if(a)for(var i=r[e]={},n=W(a),o=0;o<n.length;o++){var s=n[o];i[s]=rr(a[s])}}function oa(e,t,r){for(var a=t.transition,i=I(a)?O:St(a||[]),n=0;n<i.length;n++){var o=i[n];if(!(o==="style"||o==="shape"||o==="extra")){var s=e[o];r[o]=s}}}function sa(e,t,r){for(var a=0;a<Kt.length;a++){var i=Kt[a],n=Ae[i],o=t[i];o&&(r[n[0]]=o[0],r[n[1]]=o[1])}for(var a=0;a<O.length;a++){var s=O[a];t[s]!=null&&(r[s]=t[s])}}function la(e,t,r,a){if(r){var i=e.style,n;if(i){var o=r.transition,s=t.transition;if(o&&!I(o)){var l=St(o);!n&&(n=a.style={});for(var f=0;f<l.length;f++){var u=l[f],v=i[u];n[u]=v}}else if(e.getAnimationStyleProps&&(I(s)||I(o)||G(s,"style")>=0)){var d=e.getAnimationStyleProps(),c=d?d.style:null;if(c){!n&&(n=a.style={});for(var h=W(r),f=0;f<h.length;f++){var u=h[f];if(c[u]){var v=i[u];n[u]=v}}}}}}}function fa(e,t){return nr(e)?e!==t:e!=null&&isFinite(e)}var Se=j(),ua=["percent","easing","shape","style","extra"];function va(e){e.stopAnimation("keyframe"),e.attr(Se(e))}function mt(e,t,r){if(!(!r.isAnimationEnabled()||!t)){if(ot(t)){A(t,function(s){mt(e,s,r)});return}var a=t.keyframes,i=t.duration;if(r&&i==null){var n=ve("enter",r,0);i=n&&n.duration}if(!(!a||!i)){var o=Se(e);A(it,function(s){if(!(s&&!e[s])){var l;a.sort(function(f,u){return f.percent-u.percent}),A(a,function(f){var u=e.animators,v=s?f[s]:f;if(v){var d=W(v);if(s||(d=$(d,function(p){return G(ua,p)<0})),!!d.length){l||(l=e.animate(s,t.loop,!0),l.scope="keyframe");for(var c=0;c<u.length;c++)u[c]!==l&&u[c].targetName===l.targetName&&u[c].stopTracks(d);s&&(o[s]=o[s]||{});var h=s?o[s]:o;A(d,function(p){h[p]=((s?e[s]:e)||{})[p]}),l.whenWithKeys(i*f.percent,v,d,f.easing)}}}),l&&l.delay(t.delay||0).duration(i).start(t.easing)}})}}}function Ca(e){Pt(qr),Pt(sr)}function ha(e,t){var r=e.existing;if(t.id=e.keyInfo.id,!t.type&&r&&(t.type=r.type),t.parentId==null){var a=t.parentOption;a?t.parentId=a.id:r&&(t.parentId=r.parentId)}t.parentOption=null}function Jt(e,t){var r;return A(t,function(a){e[a]!=null&&e[a]!=="auto"&&(r=!0)}),r}function da(e,t,r){var a=V({},r),i=e[t],n=r.$action||"merge";n==="merge"?i?(E(i,a,!0),ne(i,a,{ignoreSize:!0}),fr(r,i),rt(r,i),rt(r,i,"shape"),rt(r,i,"style"),rt(r,i,"extra"),r.clipPath=i.clipPath):e[t]=a:n==="replace"?e[t]=a:n==="remove"&&i&&(e[t]=null)}var we=["transition","enterFrom","leaveTo"],ca=we.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function rt(e,t,r){if(r&&(!e[r]&&t[r]&&(e[r]={}),e=e[r],t=t[r]),!(!e||!t))for(var a=r?we:ca,i=0;i<a.length;i++){var n=a[i];e[n]==null&&t[n]!=null&&(e[n]=t[n])}}function pa(e,t){if(e&&(e.hv=t.hv=[Jt(t,["left","right"]),Jt(t,["top","bottom"])],e.type==="group")){var r=e,a=t;r.width==null&&(r.width=a.width=0),r.height==null&&(r.height=a.height=0)}}var ga=function(e){R(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.preventAutoZ=!0,r}return t.prototype.mergeOption=function(r,a){var i=this.option.elements;this.option.elements=null,e.prototype.mergeOption.call(this,r,a),this.option.elements=i},t.prototype.optionUpdated=function(r,a){var i=this.option,n=(a?i:r).elements,o=i.elements=a?[]:i.elements,s=[];this._flatten(n,s,null);var l=lr(o,s,"normalMerge"),f=this._elOptionsToUpdate=[];A(l,function(u,v){var d=u.newOption;d&&(f.push(d),ha(u,d),da(o,v,d),pa(o[v],d))},this),i.elements=$(o,function(u){return u&&delete u.$action,u!=null})},t.prototype._flatten=function(r,a,i){A(r,function(n){if(n){i&&(n.parentOption=i),a.push(n);var o=n.children;o&&o.length&&this._flatten(o,a,n),delete n.children}},this)},t.prototype.useElOptionsToUpdate=function(){var r=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,r},t.type="graphic",t.defaultOption={elements:[]},t}(At),Qt={path:null,compoundPath:null,group:le,image:pr,text:gt},M=j(),xa=function(e){R(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.init=function(){this._elMap=pt()},t.prototype.render=function(r,a,i){r!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=r,this._updateElements(r),this._relocate(r,i)},t.prototype._updateElements=function(r){var a=r.useElOptionsToUpdate();if(a){var i=this._elMap,n=this.group,o=r.get("z"),s=r.get("zlevel");A(a,function(l){var f=tt(l.id,null),u=f!=null?i.get(f):null,v=tt(l.parentId,null),d=v!=null?i.get(v):n,c=l.type,h=l.style;c==="text"&&h&&l.hv&&l.hv[1]&&(h.textVerticalAlign=h.textBaseline=h.verticalAlign=h.align=null);var p=l.textContent,g=l.textConfig;if(h&&Jr(h,c,!!g,!!p)){var y=Qr(h,c,!0);!g&&y.textConfig&&(g=l.textConfig=y.textConfig),!p&&y.textContent&&(p=y.textContent)}var _=ya(l),m=l.$action||"merge",L=m==="merge",w=m==="replace";if(L){var S=!u,C=u;S?C=te(f,d,l.type,i):(C&&(M(C).isNew=!1),va(C)),C&&(vt(C,_,r,{isInit:S}),ee(C,l,o,s))}else if(w){at(u,l,i,r);var T=te(f,d,l.type,i);T&&(vt(T,_,r,{isInit:!0}),ee(T,l,o,s))}else m==="remove"&&(Ce(u,l),at(u,l,i,r));var b=i.get(f);if(b&&p)if(L){var F=b.getTextContent();F?F.attr(p):b.setTextContent(new gt(p))}else w&&b.setTextContent(new gt(p));if(b){var B=l.clipPath;if(B){var k=B.type,D=void 0,S=!1;if(L){var N=b.getClipPath();S=!N||M(N).type!==k,D=S?Lt(k):N}else w&&(S=!0,D=Lt(k));b.setClipPath(D),vt(D,B,r,{isInit:S}),mt(D,B.keyframeAnimation,r)}var q=M(b);b.setTextConfig(g),q.option=l,_a(b,r,l),ur({el:b,componentModel:r,itemName:b.name,itemTooltipOption:l.tooltip}),mt(b,l.keyframeAnimation,r)}})}},t.prototype._relocate=function(r,a){for(var i=r.option.elements,n=this.group,o=this._elMap,s=a.getWidth(),l=a.getHeight(),f=["x","y"],u=0;u<i.length;u++){var v=i[u],d=tt(v.id,null),c=d!=null?o.get(d):null;if(!(!c||!c.isGroup)){var h=c.parent,p=h===n,g=M(c),y=M(h);g.width=Ft(g.option.width,p?s:y.width)||0,g.height=Ft(g.option.height,p?l:y.height)||0}}for(var u=i.length-1;u>=0;u--){var v=i[u],d=tt(v.id,null),c=d!=null?o.get(d):null;if(c){var h=c.parent,y=M(h),_=h===n?{width:s,height:l}:{width:y.width,height:y.height},m={},L=vr(c,v,_,null,{hv:v.hv,boundingMode:v.bounding},m);if(!M(c).isNew&&L){for(var w=v.transition,S={},C=0;C<f.length;C++){var T=f[C],b=m[T];w&&(I(w)||G(w,T)>=0)?S[T]=b:c[T]=b}hr(c,S,r,0)}else c.attr(m)}}},t.prototype._clear=function(){var r=this,a=this._elMap;a.each(function(i){at(i,M(i).option,a,r._lastGraphicModel)}),this._elMap=pt()},t.prototype.dispose=function(){this._clear()},t.type="graphic",t}(fe);function Lt(e){var t=x(Qt,e)?Qt[e]:gr(e),r=new t({});return M(r).type=e,r}function te(e,t,r,a){var i=Lt(r);return t.add(i),a.set(e,i),M(i).id=e,M(i).isNew=!0,i}function at(e,t,r,a){var i=e&&e.parent;i&&(e.type==="group"&&e.traverse(function(n){at(n,t,r,a)}),ta(e,t,a),r.removeKey(M(e).id))}function ee(e,t,r,a){e.isGroup||A([["cursor",ue.prototype.cursor],["zlevel",a||0],["z",r||0],["z2",0]],function(i){var n=i[0];x(t,n)?e[n]=cr(t[n],i[1]):e[n]==null&&(e[n]=i[1])}),A(W(t),function(i){if(i.indexOf("on")===0){var n=t[i];e[i]=Ct(n)?n:null}}),x(t,"draggable")&&(e.draggable=t.draggable),t.name!=null&&(e.name=t.name),t.id!=null&&(e.id=t.id)}function ya(e){return e=V({},e),A(["id","parentId","$action","hv","bounding","textContent","clipPath"].concat(dr),function(t){delete e[t]}),e}function _a(e,t,r){var a=zt(e).eventData;!e.silent&&!e.ignore&&!a&&(a=zt(e).eventData={componentType:"graphic",componentIndex:t.componentIndex,name:e.name}),a&&(a.info=r.info)}function Sa(e){e.registerComponentModel(ga),e.registerComponentView(xa),e.registerPreprocessor(function(t){var r=t.graphic;ot(r)?!r[0]||!r[0].elements?t.graphic=[{elements:r}]:t.graphic=[t.graphic[0]]:r&&!r.elements&&(t.graphic=[{elements:[r]}])})}export{Ar as A,Ca as a,Sa as b,qr as c,br as d,Vr as e,Wr as f,Ht as g,ta as h,La as i,Aa as j,vt as k,mt as l,Jr as m,Qr as n,Zr as o,Xr as r,va as s};
