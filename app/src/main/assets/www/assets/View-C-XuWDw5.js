import{_ as m,ar as h,as as f,at as p,Q as g,S as r,a6 as s,a4 as i,R as _,a8 as Q,a5 as t,ab as c,aE as L,aF as k,a9 as l,aa as x,ay as y,ad as b,ax as v,aC as S,aY as C}from"./index-Bl2lQPd7.js";import{Q as D,a as o}from"./QItem-De3v03wU.js";import{Q as M}from"./QItemLabel-BkJiB6aE.js";import{Q as U}from"./QList-CMzNTEGD.js";import{q as V}from"./date-C1Mon-Jj.js";import"./format-IcNrutKL.js";const Y={data(){return{history}},computed:{...p({user:"user/user",config:"user/config",links:"user/nav",current:"user/current",actualitesList:"actualite/data",darkMode:"darkMode"}),message(){if(this.$route.params.id&&this.actualites&&this.actualites.length){let e=this.actualites.find(n=>n.id==this.$route.params.id);if(e)return e}},actualites(){return console.log(this.actualitesList),this.actualitesList&&this.actualitesList.data?this.actualitesList.data:[]},eleve(){if(this.current&&this.current.hasOwnProperty("eleve"))return this.current.eleve},annee(){if(this.current&&this.current.hasOwnProperty("annee"))return this.current.annee}},methods:{...f({getActualites:"actualite/getData",setStatus:"actualite/setStatus"}),openURL:h,fileUrl(e){return C(e)},sub(e){return this.$cleanHtml(e)},date(e){return V.formatDate(e*1e3,"YYYY-MM-DD")}},mounted(){this.message&&!this.message.etat.length&&this.setStatus({id:this.$route.params.id,status:1}).then(()=>{this.getActualites({page:1})}),this.setTitle("ActualitÃ©s"),this.zoom()}},w={key:0},A={class:"text-bold",style:{padding:"20px 16px 20px"}};function B(e,n,H,I,N,a){return r(),g(S,{padding:"",class:"page-content"},{default:s(()=>[a.message?(r(),i("div",w,[Q("div",A,c(a.message.objet),1),t(L,{style:{margin:"0 -7px 0"}},{default:s(()=>[t(k,{innerHTML:a.sub(a.message.contenu),class:"contained"},null,8,["innerHTML"]),t(U,{bordered:""},{default:s(()=>[(r(!0),i(l,null,x(a.message.fichiers,(u,d)=>(r(),i(l,{key:d},[t(D,{clickable:"",onClick:T=>a.openURL(a.fileUrl(u))},{default:s(()=>[t(o,{avatar:""},{default:s(()=>[t(y,{name:"attachment"})]),_:1}),t(o,null,{default:s(()=>[t(M,null,{default:s(()=>[b(c(u.fichier),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]),t(v)],64))),128))]),_:1})]),_:1})])):_("",!0)]),_:1})}const O=m(Y,[["render",B]]);export{O as default};
