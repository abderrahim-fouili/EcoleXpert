import{q as v}from"./date-C1Mon-Jj.js";import{u as D}from"./LessonPlanListPage-Br4U77BG.js";import{B as w,a4 as o,S as r,aa as c,a8 as e,R as d,ab as n,aS as h,a9 as p,ad as f}from"./index-Bl2lQPd7.js";import"./format-IcNrutKL.js";import"./QSelect-DchnWyXK.js";import"./QChip-C9OfA2gn.js";import"./QItem-De3v03wU.js";import"./QItemLabel-BkJiB6aE.js";import"./QMenu-BNr9Tzvf.js";import"./position-engine-o8Q2RudZ.js";import"./selection-DaBtDCZ0.js";import"./rtl-DFPa-2ov.js";import"./QDate-C_jC-zMt.js";import"./use-render-cache-DLxPkVnQ.js";import"./use-datetime-hbLWgGn4.js";import"./QPopupProxy-CQ30ymZI.js";import"./QSpinnerDots-BW9ZsFNG.js";import"./QTooltip-r7WoEuzy.js";import"./QVirtualScroll-CENgsPEr.js";import"./QList-CMzNTEGD.js";import"./QPagination-UgiQF7o2.js";import"./QToolbarTitle-C8APieXG.js";import"./QSpace-CKKoNTi_.js";import"./QToolbar-DR-_wX4W.js";import"./QTabs-yl5EIOig.js";import"./QTabPanels-Bqg1c7oo.js";import"./TouchSwipe-jpsGI2FR.js";import"./touch-BjYP5sR0.js";import"./QExpansionItem-EMhshZ_3.js";import"./QSlideTransition-CrdUnXBf.js";import"./QForm-Dk45GsL9.js";import"./ExportControls-UOL0zNKZ.js";import"./_commonjsHelpers-D6-XlEtG.js";const q={class:"report-header"},N={class:"date-field"},P={key:0,class:"school-info-top"},j={class:"report-table"},A={key:0,style:{width:"6%"}},H={key:0,class:"cell-prof"},M={class:"cell-horaires"},S={key:0},B={class:"cell-discipline"},O={key:0,class:"session-title-report"},R={class:"cell-competences"},L={class:"cell-objectifs"},U={class:"cell-materiel"},Y={key:0,class:"material-list"},C={key:0},I={key:1},V={key:1},x={class:"cell-bilans"},E={key:1},Dt={__name:"LessonPlanDailyReport",props:{currentUser:{type:Object,required:!0},lessonPlans:{type:Array,required:!0,default:()=>[]},schoolInfo:{type:Object,default:()=>({})}},setup(m){const b=m,{isProf:y}=D(),k=(i,t="DD/MM/YYYY")=>i?v.formatDate(i,t):"N/A",_=i=>{if(!i&&i!==0)return"";const t=Number(i),a=Math.floor(t/100),u=t%100,s=String(a).padStart(2,"0"),l=String(u).padStart(2,"0");return`${s}:${l}`},g=w(()=>b.lessonPlans.reduce((i,t)=>{const a=k(t.session_date);return i[a]||(i[a]=[]),i[a].push(t),i},{}));return(i,t)=>(r(!0),o(p,null,c(g.value,(a,u)=>(r(),o("div",{key:u,class:"lesson-plan-daily-report-wrapper"},[e("div",q,[t[0]||(t[0]=e("h1",{class:"main-title"},"CAHIER JOURNAL (*)",-1)),e("div",N," Date : "+n(u),1),m.schoolInfo&&m.schoolInfo.description?(r(),o("div",P,n(m.schoolInfo.description),1)):d("",!0)]),e("table",j,[e("thead",null,[e("tr",null,[h(y)(m.currentUser)?d("",!0):(r(),o("th",A,"Professeur")),t[1]||(t[1]=e("th",{style:{width:"8%"}},"Horaires",-1)),t[2]||(t[2]=e("th",{style:{width:"18%"}},"Domaine d'activités ou Discipline / Titre de la séance",-1)),t[3]||(t[3]=e("th",{style:{width:"15%"}},"Compétences",-1)),t[4]||(t[4]=e("th",{style:{width:"20%"}},"Objectif Pédagogique ",-1)),t[5]||(t[5]=e("th",{style:{width:"20%"}},"Matériels",-1)),t[6]||(t[6]=e("th",{style:{width:"10%"}},"Observations/Remarques",-1))])]),e("tbody",null,[a&&a.length>0?(r(!0),o(p,{key:0},c(a,s=>(r(),o("tr",{key:s.id},[h(y)(m.currentUser)?d("",!0):(r(),o("td",H,n(s.prof?.nom+" "+s.prof?.prenom||"-"),1)),e("td",M,[f(n(_(s.emploi_classe?.debut)||"")+" ",1),s.emploi_classe?.debut&&s.emploi_classe?.fin?(r(),o("span",S,"-")):d("",!0),f(" "+n(_(s.emploi_classe?.fin)||""),1)]),e("td",B,[e("strong",null,n(s.emploi_classe?.matiere?.matiere_fr||"N/A"),1),s.pedagogical_objective?(r(),o("div",O)):d("",!0)]),e("td",R,n(s.targeted_competencies||"-"),1),e("td",L,n(s.pedagogical_objective||"-"),1),e("td",U,[s.materials_used&&s.materials_used.length>0?(r(),o("ul",Y,[(r(!0),o(p,null,c(s.materials_used,l=>(r(),o("li",{key:l.material_id},[f(n(l.material?.name||"Matériel inconnu")+" ",1),l.quantity?(r(),o("span",C," (Qté: "+n(l.quantity)+")",1)):d("",!0),l.notes?(r(),o("small",I," - "+n(l.notes),1)):d("",!0)]))),128))])):(r(),o("span",V,"-"))]),e("td",x,n(s.observations||"-"),1)]))),128)):(r(),o("tr",E,t[7]||(t[7]=[e("td",{colspan:"8",class:"no-data-row"},"Aucune séance planifiée pour cette date.",-1)])))])]),t[8]||(t[8]=e("div",{class:"report-footer"}," (*) Journalier / hebdomadaire ",-1))]))),128))}};export{Dt as default};
