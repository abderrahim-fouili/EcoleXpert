import{_,as as v,at as b,ag as r,a4 as m,S as l,a5 as e,a6 as t,a8 as a,Q,R as w,a9 as u,aa as x,ay as S,ad as k,ab as y,ax as M,aD as V,aC as B,a3 as C}from"./index-Bl2lQPd7.js";import{Q as I,a as d}from"./QItem-De3v03wU.js";import{Q as N}from"./QItemLabel-BkJiB6aE.js";import{Q as D}from"./QList-CMzNTEGD.js";import{Q as E}from"./QBtnDropdown-Nsd5xvUz.js";import G from"./New-zUMJuIKd.js";import"./QBtnGroup-CdugIB7Z.js";import"./QMenu-BNr9Tzvf.js";import"./position-engine-o8Q2RudZ.js";import"./selection-DaBtDCZ0.js";import"./QToolbarTitle-C8APieXG.js";import"./QBadge-Bjfo5tRO.js";import"./QToolbar-DR-_wX4W.js";import"./QBreadcrumbs-D5k8AHhT.js";import"./QSelect-DchnWyXK.js";import"./QChip-C9OfA2gn.js";import"./rtl-DFPa-2ov.js";import"./format-IcNrutKL.js";import"./QTooltip-r7WoEuzy.js";import"./QUploaderAddTrigger-OZIUWg9a.js";import"./QUploader-Dwk8_y__.js";import"./QCircularProgress-C_b7NmsY.js";import"./QForm-Dk45GsL9.js";import"./ClosePopup-BY_YGFBZ.js";const L={data(){return{show:!1,menus:[{label:"Boîte de réception",icon:"inbox",uri:"/admin/messages"},{label:"Messages envoyées",icon:"send",uri:"/admin/messages/sent"},{label:"Validation",icon:"check_circle",uri:"/admin/messages/validation"},{label:"Messages Invalides",icon:"unpublished",uri:"/admin/messages/unvalid"}],menu:null}},components:{NewMessage:G},computed:{...b({user:"user/user",config:"user/config",current:"user/current",globalSettings:"user/globalSettings"})},methods:{...v({getGlobalSettings:"user/globalSettings"}),setMenu(s){console.log(s,this.menu),this.menu=s,this.$router.replace(s.uri)},messageEnvoye(s){this.show=!1,s&&s.id&&this.$router.push("/admin/messages/view/"+s.id)}},mounted(){this.menu=this.menus[0],this.$route.path.includes("sent")?this.menu=this.menus[1]:this.$route.path.includes("validation")?this.menu=this.menus[2]:this.$route.path.includes("unvalid")&&(this.menu=this.menus[3]),this.setTitle("Messagerie"),this.globalSettings||this.getGlobalSettings()}},$={style:{padding:"16px 16px 10px"}},z={class:"row"},T={class:"col-2"};function q(s,i,A,F,n,p){const c=r("router-view"),g=r("new-message"),f=r("ep-footer");return l(),m(u,null,[e(B,{padding:"",class:"page-content"},{default:t(()=>[a("div",$,[a("div",z,[a("div",T,[n.menu?(l(),Q(E,{key:0,unelevated:"",dense:"",icon:n.menu.icon,size:"md"},{default:t(()=>[e(D,null,{default:t(()=>[(l(!0),m(u,null,x(n.menus,(o,h)=>(l(),m(u,{key:"m-"+h},[e(I,{onClick:P=>p.setMenu(o),to:o.uri,exact:"",clickable:""},{default:t(()=>[e(d,{side:""},{default:t(()=>[e(S,{name:o.icon},null,8,["name"])]),_:2},1024),e(d,null,{default:t(()=>[e(N,null,{default:t(()=>[k(y(o.label),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick","to"]),e(M)],64))),128))]),_:1})]),_:1},8,["icon"])):w("",!0)]),i[2]||(i[2]=a("div",{class:"col-10 q-pl-md"},[a("div",{id:"pagination-portal"})],-1))])]),e(c),e(V,{modelValue:n.show,"onUpdate:modelValue":i[0]||(i[0]=o=>n.show=o),maximized:"",position:"bottom"},{default:t(()=>[e(g,{"onMessage:sent":p.messageEnvoye,"global-settings":s.globalSettings},null,8,["onMessage:sent","global-settings"])]),_:1},8,["modelValue"])]),_:1}),e(f,{to:"#footer-portal"},{default:t(()=>[e(C,{flat:"",onClick:i[1]||(i[1]=o=>n.show=!0),icon:"icon_nouvelle_discussion"})]),_:1})],64)}const ce=_(L,[["render",q]]);export{ce as default};
