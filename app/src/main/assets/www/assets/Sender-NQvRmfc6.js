import{Q as k}from"./QImg-BMvxJu3S.js";import{B as n,av as B,R as o,S as i,Q as p,a6 as e,a5 as s,a7 as C,aS as _,ba as S,aB as b,ad as Q,ab as d,aE as x}from"./index-Bl2lQPd7.js";import{Q as I,a as y}from"./QItem-De3v03wU.js";import{Q as h}from"./QItemLabel-BkJiB6aE.js";import{Q as N}from"./QBadge-Bjfo5tRO.js";import{C as V}from"./ClosePopup-BY_YGFBZ.js";const T={__name:"Sender",props:["data","first"],setup(g){const r=g;console.log(r.first);const f=n(()=>r.data),u=n(()=>r.first?.thread),c=n(()=>r.first.type_sender==="parent"?f.value.eleves.map(a=>a.eleve):[]),l=n(()=>{if(r.first.type_sender==="parent"){let a=u.value.filter.find(t=>t.type==="eleve");return a?c.value.find(t=>t.idpers===a.id):c.value.find(t=>u.value.filter.find(v=>v.type==="personne"&&v.id===t.idpers))}return null}),m=n(()=>r.first.type_sender==="parent"?u.value.filter.find(a=>a.type==="classe"):null);return(a,t)=>f.value?.type_sender==="parent"?B((i(),p(x,{key:0},{default:e(()=>[l.value?(i(),p(I,{key:0},{default:e(()=>[s(y,{avatar:""},{default:e(()=>[s(C,null,{default:e(()=>[s(k,{ratio:"1",src:_(b)(l.value),"placeholder-src":_(S)(l.value?.nom)},null,8,["src","placeholder-src"])]),_:1})]),_:1}),s(y,null,{default:e(()=>[s(h,null,{default:e(()=>[Q(d(l.value?.nom)+" "+d(l.value?.prenom),1)]),_:1}),m.value?(i(),p(h,{key:0},{default:e(()=>[s(N,{color:"purple"},{default:e(()=>[Q(d(m.value?.label),1)]),_:1})]),_:1})):o("",!0)]),_:1})]),_:1})):o("",!0)]),_:1})),[[V]]):o("",!0)}};export{T as _};
