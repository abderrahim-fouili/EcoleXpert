import{_ as v,bb as g,b2 as h,ba as f,as as _,at as b,ag as l,Q as a,S as o,a6 as n,a8 as D,a5 as L,R as p,ad as x,ab as k,aE as w,aC as y,aB as C}from"./index-Bl2lQPd7.js";import{q as V}from"./date-C1Mon-Jj.js";import{D as N}from"./Devoir-BVG5z-GF.js";import"./format-IcNrutKL.js";import"./QItemLabel-BkJiB6aE.js";import"./groupBy-BgHPVcz-.js";import"./_commonjsHelpers-D6-XlEtG.js";import"./_curry1-CPMemvwC.js";import"./_xfBase-ZXVHuZFu.js";import"./_reduce-BZMr9wpn.js";import"./_isArrayLike-B3kKjEvQ.js";import"./index-Dx01H97j.js";import"./index-CbPSoDvq.js";import"./index-C9ZTL5MN.js";import"./index-BXMW6yyY.js";const P={data(){return{show:!1}},components:{ListDevoirs:N},computed:{...b({user:"user/user",config:"user/config",links:"user/nav",current:"user/current",devoirsList:"devoirs/devoirs",darkMode:"darkMode"}),devoirs(){return this.devoirsList&&this.devoirsList.data?this.devoirsList.data:[]},eleve(){if(this.current&&this.current.hasOwnProperty("eleve"))return this.current.eleve},annee(){if(this.current&&this.current.hasOwnProperty("annee"))return this.current.annee}},methods:{..._({getConfig:"user/getConfig",getDevoirs:"devoirs/getDevoirs"}),LetterAvatar:f,toNow:h,isArabic:g,getData(){this.getDevoirs({page:this.devoirsList.current_page,filter:{annee:this.annee.idannee,classe:this.annee.pivot.idclasse}})},personAvatar(e){return C(e)},sub(e){return this.$cleanHtml(e,{allowedTags:["b","i","em","strong","a"]})},date(e){return V.formatDate(e*1e3)},disc(e){let t="";for(var r=0;r<this.annee.profs.length;r++){let s=this.annee.profs[r];if(s.idpers===e.idpers&&s.disciplines.length)return s.disciplines.map(d=>d.description).join(", ")}return t}},mounted(){this.getDevoirs({page:1,filter:{annee:this.annee.idannee,classe:this.annee.pivot.idclasse}}),this.setTitle("Devoirs")}},A={class:"q-pa-lg flex flex-center"};function B(e,t,r,s,d,i){const u=l("ep-pagination"),c=l("list-devoirs");return o(),a(y,{padding:"",class:"page-content EspaceMobileIndex"},{default:n(()=>[D("div",A,[e.devoirsList?(o(),a(u,{key:0,modelValue:e.devoirsList.current_page,"onUpdate:modelValue":[t[0]||(t[0]=m=>e.devoirsList.current_page=m),i.getData],max:e.devoirsList.last_page,"direction-links":"","boundary-links":!1,div:"",divClass:"full-width text-center text-white text-bold",dark:"",color:"white",class:"bg-primary full-width",style:{"border-radius":"10rem",height:"30px"}},{content:n(()=>[x(" Page "+k(e.devoirsList.current_page),1)]),_:1},8,["modelValue","max","onUpdate:modelValue"])):p("",!0)]),L(w,{style:{margin:"0 -8px 0"}},{default:n(()=>[i.devoirs.length?(o(),a(c,{key:0,devoirs:i.devoirs},null,8,["devoirs"])):p("",!0)]),_:1})]),_:1})}const F=v(P,[["render",B]]);export{F as default};
