import{f as G,S as T,a8 as ee,aH as de,P as Z,aI as fe,aJ as Ce,aK as Ie,aL as Pe,aM as Le,aN as Me,F as pe,aO as Oe,a9 as q,aP as Ne,aQ as Re,aR as te,V as E,aS as J,aT as N,aa as K,aU as ke,_ as k,aV as me,aW as Te,ao as ye,aX as re,aY as Ee,aZ as Ve,aB as R,a_ as Be,a$ as Fe,b0 as ae,ab as Ge,aG as Q,b1 as We,w as Ae,b2 as Ye,b3 as Ue,b4 as Xe,b5 as ze,b6 as je,b7 as He,b8 as Ze,b9 as qe,ba as Je}from"./index.esm.min-FpMw1SSI.js";var Ke=function(){function a(e){this.coordSysDims=[],this.axisMap=ee(),this.categoryAxisMap=ee(),this.coordSysName=e}return a}();function Qe(a){var e=a.get("coordinateSystem"),t=new Ke(e),r=$e[e];if(r)return r(a,t,t.axisMap,t.categoryAxisMap),t}var $e={cartesian2d:function(a,e,t,r){var n=a.getReferringComponents("xAxis",T).models[0],i=a.getReferringComponents("yAxis",T).models[0];e.coordSysDims=["x","y"],t.set("x",n),t.set("y",i),O(n)&&(r.set("x",n),e.firstCategoryDimIndex=0),O(i)&&(r.set("y",i),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=1))},singleAxis:function(a,e,t,r){var n=a.getReferringComponents("singleAxis",T).models[0];e.coordSysDims=["single"],t.set("single",n),O(n)&&(r.set("single",n),e.firstCategoryDimIndex=0)},polar:function(a,e,t,r){var n=a.getReferringComponents("polar",T).models[0],i=n.findAxisModel("radiusAxis"),s=n.findAxisModel("angleAxis");e.coordSysDims=["radius","angle"],t.set("radius",i),t.set("angle",s),O(i)&&(r.set("radius",i),e.firstCategoryDimIndex=0),O(s)&&(r.set("angle",s),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=1))},geo:function(a,e,t,r){e.coordSysDims=["lng","lat"]},parallel:function(a,e,t,r){var n=a.ecModel,i=n.getComponent("parallel",a.get("parallelIndex")),s=e.coordSysDims=i.dimensions.slice();G(i.parallelAxisIndex,function(l,o){var u=n.getComponent("parallelAxis",l),h=s[o];t.set(h,u),O(u)&&(r.set(h,u),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=o))})}};function O(a){return a.get("type")==="category"}function et(a,e){var t=a.get("coordinateSystem"),r=Me.get(t),n;return e&&e.coordSysDims&&(n=pe(e.coordSysDims,function(i){var s={name:i},l=e.axisMap.get(i);if(l){var o=l.get("type");s.type=Oe(o)}return s})),n||(n=r&&(r.getDimensionsInfo?r.getDimensionsInfo():r.dimensions.slice())||["x","y"]),n}function tt(a,e,t){var r,n;return t&&G(a,function(i,s){var l=i.coordDim,o=t.categoryAxisMap.get(l);o&&(r==null&&(r=s),i.ordinalMeta=o.getOrdinalMeta(),e&&(i.createInvertedIndices=!0)),i.otherDims.itemName!=null&&(n=!0)}),!n&&r!=null&&(a[r].otherDims.itemName=0),r}function Se(a,e,t){t=t||{};var r=e.getSourceManager(),n,i=!1;a?(i=!0,n=Re(a)):(n=r.getSource(),i=n.sourceFormat===de);var s=Qe(e),l=et(e,s),o=t.useEncodeDefaulter,u=Z(o)?o:o?fe(Ce,l,e):null,h={coordDimensions:l,generateCoord:t.generateCoord,encodeDefine:e.getEncode(),encodeDefaulter:u,canOmitUnusedDimensions:!i},c=Ie(n,h),g=tt(c.dimensions,t.createInvertedIndices,s),v=i?null:r.getSharedDataStore(c),d=Pe(e,{schema:c,store:v}),f=new Le(c,e);f.setCalculationInfo(d);var p=g!=null&&rt(n)?function(S,m,A,D){return D===g?A:this.defaultDimValueGetter(S,m,A,D)}:null;return f.hasItemOption=!1,f.initData(i?n:v,null,p),f}function rt(a){if(a.sourceFormat===de){var e=at(a.data||[]);return!q(Ne(e))}}function at(a){for(var e=0;e<a.length&&a[e]==null;)e++;return a[e]}function nt(a,e){var t=a.mapDimensionsAll("defaultedLabel"),r=t.length;if(r===1){var n=te(a,e,t[0]);return n!=null?n+"":null}else if(r){for(var i=[],s=0;s<t.length;s++)i.push(te(a,e,t[s]));return i.join(" ")}}function it(a,e){var t=a.mapDimensionsAll("defaultedLabel");if(!q(e))return e+"";for(var r=[],n=0;n<t.length;n++){var i=a.getDimensionIndex(t[n]);i>=0&&r.push(e[i])}return r.join(" ")}function st(a,e,t,r,n){var i=a.getArea(),s=i.x,l=i.y,o=i.width,u=i.height,h=t.get(["lineStyle","width"])||0;s-=h/2,l-=h/2,o+=h,u+=h,o=Math.ceil(o),s!==Math.floor(s)&&(s=Math.floor(s),o++);var c=new K({shape:{x:s,y:l,width:o,height:u}});if(e){var g=a.getBaseAxis(),v=g.isHorizontal(),d=g.inverse;v?(d&&(c.shape.x+=o),c.shape.width=0):(d||(c.shape.y+=u),c.shape.height=0);var f=Z(n)?function(p){n(p,c)}:null;N(c,{shape:{width:o,height:u,x:s,y:l}},t,null,r,f)}return c}function ot(a,e,t){var r=a.getArea(),n=E(r.r0,1),i=E(r.r,1),s=new J({shape:{cx:E(a.cx,1),cy:E(a.cy,1),r0:n,r:i,startAngle:r.startAngle,endAngle:r.endAngle,clockwise:r.clockwise}});if(e){var l=a.getBaseAxis().dim==="angle";l?s.shape.endAngle=r.startAngle:s.shape.r=n,N(s,{shape:{endAngle:r.endAngle,r:i}},t)}return s}function lt(a,e,t,r,n){if(a){if(a.type==="polar")return ot(a,e,t);if(a.type==="cartesian2d")return st(a,e,t,r,n)}else return null;return null}function De(a,e){return a.type===e}var ht={average:function(a){for(var e=0,t=0,r=0;r<a.length;r++)isNaN(a[r])||(e+=a[r],t++);return t===0?NaN:e/t},sum:function(a){for(var e=0,t=0;t<a.length;t++)e+=a[t]||0;return e},max:function(a){for(var e=-1/0,t=0;t<a.length;t++)a[t]>e&&(e=a[t]);return isFinite(e)?e:NaN},min:function(a){for(var e=1/0,t=0;t<a.length;t++)a[t]<e&&(e=a[t]);return isFinite(e)?e:NaN},nearest:function(a){return a[0]}},ut=function(a){return Math.round(a.length/2)};function ct(a){return{seriesType:a,reset:function(e,t,r){var n=e.getData(),i=e.get("sampling"),s=e.coordinateSystem,l=n.count();if(l>10&&s.type==="cartesian2d"&&i){var o=s.getBaseAxis(),u=s.getOtherAxis(o),h=o.getExtent(),c=r.getDevicePixelRatio(),g=Math.abs(h[1]-h[0])*(c||1),v=Math.round(l/g);if(isFinite(v)&&v>1){i==="lttb"?e.setData(n.lttbDownSample(n.mapDimension(u.dim),1/v)):i==="minmax"&&e.setData(n.minmaxDownSample(n.mapDimension(u.dim),1/v));var d=void 0;ke(i)?d=ht[i]:Z(i)&&(d=i),d&&e.setData(n.downSample(n.mapDimension(u.dim),1/v,d,ut))}}}}}var H=function(a){k(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.getInitialData=function(t,r){return Se(null,this,{useEncodeDefaulter:!0})},e.prototype.getMarkerPosition=function(t,r,n){var i=this.coordinateSystem;if(i&&i.clampData){var s=i.clampData(t),l=i.dataToPoint(s);if(n)G(i.getAxes(),function(g,v){if(g.type==="category"&&r!=null){var d=g.getTicksCoords(),f=g.getTickModel().get("alignWithLabel"),p=s[v],S=r[v]==="x1"||r[v]==="y1";if(S&&!f&&(p+=1),d.length<2)return;if(d.length===2){l[v]=g.toGlobalCoord(g.getExtent()[S?1:0]);return}for(var m=void 0,A=void 0,D=1,x=0;x<d.length;x++){var _=d[x].coord,b=x===d.length-1?d[x-1].tickValue+D:d[x].tickValue;if(b===p){A=_;break}else if(b<p)m=_;else if(m!=null&&b>p){A=(_+m)/2;break}x===1&&(D=b-d[0].tickValue)}A==null&&(m?m&&(A=d[d.length-1].coord):A=d[0].coord),l[v]=g.toGlobalCoord(A)}});else{var o=this.getData(),u=o.getLayout("offset"),h=o.getLayout("size"),c=i.getBaseAxis().isHorizontal()?0:1;l[c]+=u+h/2}return l}return[NaN,NaN]},e.type="series.__base_bar__",e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},e}(me);me.registerClass(H);var gt=function(a){k(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.getInitialData=function(){return Se(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},e.prototype.getProgressive=function(){return this.get("large")?this.get("progressive"):!1},e.prototype.getProgressiveThreshold=function(){var t=this.get("progressiveThreshold"),r=this.get("largeThreshold");return r>t&&(t=r),t},e.prototype.brushSelector=function(t,r,n){return n.rect(r.getItemLayout(t))},e.type="series.bar",e.dependencies=["grid","polar"],e.defaultOption=Te(H.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),e}(H),vt=function(){function a(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return a}(),ne=function(a){k(e,a);function e(t){var r=a.call(this,t)||this;return r.type="sausage",r}return e.prototype.getDefaultShape=function(){return new vt},e.prototype.buildPath=function(t,r){var n=r.cx,i=r.cy,s=Math.max(r.r0||0,0),l=Math.max(r.r,0),o=(l-s)*.5,u=s+o,h=r.startAngle,c=r.endAngle,g=r.clockwise,v=Math.PI*2,d=g?c-h<v:h-c<v;d||(h=c-(g?v:-v));var f=Math.cos(h),p=Math.sin(h),S=Math.cos(c),m=Math.sin(c);d?(t.moveTo(f*s+n,p*s+i),t.arc(f*u+n,p*u+i,o,-Math.PI+h,h,!g)):t.moveTo(f*l+n,p*l+i),t.arc(n,i,l,h,c,!g),t.arc(S*u+n,m*u+i,o,c-Math.PI*2,c-Math.PI,!g),s!==0&&t.arc(n,i,s,c,h,g)},e}(ye);function dt(a,e){e=e||{};var t=e.isRoundCap;return function(r,n,i){var s=n.position;if(!s||s instanceof Array)return re(r,n,i);var l=a(s),o=n.distance!=null?n.distance:5,u=this.shape,h=u.cx,c=u.cy,g=u.r,v=u.r0,d=(g+v)/2,f=u.startAngle,p=u.endAngle,S=(f+p)/2,m=t?Math.abs(g-v)/2:0,A=Math.cos,D=Math.sin,x=h+g*A(f),_=c+g*D(f),b="left",P="top";switch(l){case"startArc":x=h+(v-o)*A(S),_=c+(v-o)*D(S),b="center",P="top";break;case"insideStartArc":x=h+(v+o)*A(S),_=c+(v+o)*D(S),b="center",P="bottom";break;case"startAngle":x=h+d*A(f)+V(f,o+m,!1),_=c+d*D(f)+B(f,o+m,!1),b="right",P="middle";break;case"insideStartAngle":x=h+d*A(f)+V(f,-o+m,!1),_=c+d*D(f)+B(f,-o+m,!1),b="left",P="middle";break;case"middle":x=h+d*A(S),_=c+d*D(S),b="center",P="middle";break;case"endArc":x=h+(g+o)*A(S),_=c+(g+o)*D(S),b="center",P="bottom";break;case"insideEndArc":x=h+(g-o)*A(S),_=c+(g-o)*D(S),b="center",P="top";break;case"endAngle":x=h+d*A(p)+V(p,o+m,!0),_=c+d*D(p)+B(p,o+m,!0),b="left",P="middle";break;case"insideEndAngle":x=h+d*A(p)+V(p,-o+m,!0),_=c+d*D(p)+B(p,-o+m,!0),b="right",P="middle";break;default:return re(r,n,i)}return r=r||{},r.x=x,r.y=_,r.align=b,r.verticalAlign=P,r}}function ft(a,e,t,r){if(Ee(r)){a.setTextConfig({rotation:r});return}else if(q(e)){a.setTextConfig({rotation:0});return}var n=a.shape,i=n.clockwise?n.startAngle:n.endAngle,s=n.clockwise?n.endAngle:n.startAngle,l=(i+s)/2,o,u=t(e);switch(u){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":o=l;break;case"startAngle":case"insideStartAngle":o=i;break;case"endAngle":case"insideEndAngle":o=s;break;default:a.setTextConfig({rotation:0});return}var h=Math.PI*1.5-o;u==="middle"&&h>Math.PI/2&&h<Math.PI*1.5&&(h-=Math.PI),a.setTextConfig({rotation:h})}function V(a,e,t){return e*Math.sin(a)*(t?-1:1)}function B(a,e,t){return e*Math.cos(a)*(t?1:-1)}var z=Math.max,j=Math.min;function pt(a,e){var t=a.getArea&&a.getArea();if(De(a,"cartesian2d")){var r=a.getBaseAxis();if(r.type!=="category"||!r.onBand){var n=e.getLayout("bandWidth");r.isHorizontal()?(t.x-=n,t.width+=n*2):(t.y-=n,t.height+=n*2)}}return t}var mt=function(a){k(e,a);function e(){var t=a.call(this)||this;return t.type=e.type,t._isFirstFrame=!0,t}return e.prototype.render=function(t,r,n,i){this._model=t,this._removeOnRenderedListener(n),this._updateDrawMode(t);var s=t.get("coordinateSystem");(s==="cartesian2d"||s==="polar")&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(t,r,n):this._renderNormal(t,r,n,i))},e.prototype.incrementalPrepareRender=function(t){this._clear(),this._updateDrawMode(t),this._updateLargeClip(t)},e.prototype.incrementalRender=function(t,r){this._progressiveEls=[],this._incrementalRenderLarge(t,r)},e.prototype.eachRendered=function(t){Ve(this._progressiveEls||this.group,t)},e.prototype._updateDrawMode=function(t){var r=t.pipelineContext.large;(this._isLargeDraw==null||r!==this._isLargeDraw)&&(this._isLargeDraw=r,this._clear())},e.prototype._renderNormal=function(t,r,n,i){var s=this.group,l=t.getData(),o=this._data,u=t.coordinateSystem,h=u.getBaseAxis(),c;u.type==="cartesian2d"?c=h.isHorizontal():u.type==="polar"&&(c=h.dim==="angle");var g=t.isAnimationEnabled()?t:null,v=yt(t,u);v&&this._enableRealtimeSort(v,l,n);var d=t.get("clip",!0)||v,f=pt(u,l);s.removeClipPath();var p=t.get("roundCap",!0),S=t.get("showBackground",!0),m=t.getModel("backgroundStyle"),A=m.get("borderRadius")||0,D=[],x=this._backgroundEls,_=i&&i.isInitSort,b=i&&i.type==="changeAxisOrder";function P(y){var L=F[u.type](l,y),w=wt(u,c,L);return w.useStyle(m.getItemStyle()),u.type==="cartesian2d"?w.setShape("r",A):w.setShape("cornerRadius",A),D[y]=w,w}l.diff(o).add(function(y){var L=l.getItemModel(y),w=F[u.type](l,y,L);if(S&&P(y),!(!l.hasValue(y)||!he[u.type](w))){var M=!1;d&&(M=ie[u.type](f,w));var C=se[u.type](t,l,y,w,c,g,h.model,!1,p);v&&(C.forceLabelAnimation=!0),ue(C,l,y,L,w,t,c,u.type==="polar"),_?C.attr({shape:w}):v?oe(v,g,C,w,y,c,!1,!1):N(C,{shape:w},t,y),l.setItemGraphicEl(y,C),s.add(C),C.ignore=M}}).update(function(y,L){var w=l.getItemModel(y),M=F[u.type](l,y,w);if(S){var C=void 0;x.length===0?C=P(L):(C=x[L],C.useStyle(m.getItemStyle()),u.type==="cartesian2d"?C.setShape("r",A):C.setShape("cornerRadius",A),D[y]=C);var _e=F[u.type](l,y),we=be(c,_e,u);R(C,{shape:we},g,y)}var I=o.getItemGraphicEl(L);if(!l.hasValue(y)||!he[u.type](M)){s.remove(I);return}var U=!1;if(d&&(U=ie[u.type](f,M),U&&s.remove(I)),I?Be(I):I=se[u.type](t,l,y,M,c,g,h.model,!!I,p),v&&(I.forceLabelAnimation=!0),b){var $=I.getTextContent();if($){var X=Fe($);X.prevValue!=null&&(X.prevValue=X.value)}}else ue(I,l,y,w,M,t,c,u.type==="polar");_?I.attr({shape:M}):v?oe(v,g,I,M,y,c,!0,b):R(I,{shape:M},t,y,null),l.setItemGraphicEl(y,I),I.ignore=U,s.add(I)}).remove(function(y){var L=o.getItemGraphicEl(y);L&&ae(L,t,y)}).execute();var W=this._backgroundGroup||(this._backgroundGroup=new Ge);W.removeAll();for(var Y=0;Y<D.length;++Y)W.add(D[Y]);s.add(W),this._backgroundEls=D,this._data=l},e.prototype._renderLarge=function(t,r,n){this._clear(),ge(t,this.group),this._updateLargeClip(t)},e.prototype._incrementalRenderLarge=function(t,r){this._removeBackground(),ge(r,this.group,this._progressiveEls,!0)},e.prototype._updateLargeClip=function(t){var r=t.get("clip",!0)&&lt(t.coordinateSystem,!1,t),n=this.group;r?n.setClipPath(r):n.removeClipPath()},e.prototype._enableRealtimeSort=function(t,r,n){var i=this;if(r.count()){var s=t.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(r,t,n),this._isFirstFrame=!1;else{var l=function(o){var u=r.getItemGraphicEl(o),h=u&&u.shape;return h&&Math.abs(s.isHorizontal()?h.height:h.width)||0};this._onRendered=function(){i._updateSortWithinSameData(r,l,s,n)},n.getZr().on("rendered",this._onRendered)}}},e.prototype._dataSort=function(t,r,n){var i=[];return t.each(t.mapDimension(r.dim),function(s,l){var o=n(l);o=o??NaN,i.push({dataIndex:l,mappedValue:o,ordinalNumber:s})}),i.sort(function(s,l){return l.mappedValue-s.mappedValue}),{ordinalNumbers:pe(i,function(s){return s.ordinalNumber})}},e.prototype._isOrderChangedWithinSameData=function(t,r,n){for(var i=n.scale,s=t.mapDimension(n.dim),l=Number.MAX_VALUE,o=0,u=i.getOrdinalMeta().categories.length;o<u;++o){var h=t.rawIndexOf(s,i.getRawOrdinalNumber(o)),c=h<0?Number.MIN_VALUE:r(t.indexOfRawIndex(h));if(c>l)return!0;l=c}return!1},e.prototype._isOrderDifferentInView=function(t,r){for(var n=r.scale,i=n.getExtent(),s=Math.max(0,i[0]),l=Math.min(i[1],n.getOrdinalMeta().categories.length-1);s<=l;++s)if(t.ordinalNumbers[s]!==n.getRawOrdinalNumber(s))return!0},e.prototype._updateSortWithinSameData=function(t,r,n,i){if(this._isOrderChangedWithinSameData(t,r,n)){var s=this._dataSort(t,n,r);this._isOrderDifferentInView(s,n)&&(this._removeOnRenderedListener(i),i.dispatchAction({type:"changeAxisOrder",componentType:n.dim+"Axis",axisId:n.index,sortInfo:s}))}},e.prototype._dispatchInitSort=function(t,r,n){var i=r.baseAxis,s=this._dataSort(t,i,function(l){return t.get(t.mapDimension(r.otherAxis.dim),l)});n.dispatchAction({type:"changeAxisOrder",componentType:i.dim+"Axis",isInitSort:!0,axisId:i.index,sortInfo:s})},e.prototype.remove=function(t,r){this._clear(this._model),this._removeOnRenderedListener(r)},e.prototype.dispose=function(t,r){this._removeOnRenderedListener(r)},e.prototype._removeOnRenderedListener=function(t){this._onRendered&&(t.getZr().off("rendered",this._onRendered),this._onRendered=null)},e.prototype._clear=function(t){var r=this.group,n=this._data;t&&t.isAnimationEnabled()&&n&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],n.eachItemGraphicEl(function(i){ae(i,t,Q(i).dataIndex)})):r.removeAll(),this._data=null,this._isFirstFrame=!0},e.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},e.type="bar",e}(We),ie={cartesian2d:function(a,e){var t=e.width<0?-1:1,r=e.height<0?-1:1;t<0&&(e.x+=e.width,e.width=-e.width),r<0&&(e.y+=e.height,e.height=-e.height);var n=a.x+a.width,i=a.y+a.height,s=z(e.x,a.x),l=j(e.x+e.width,n),o=z(e.y,a.y),u=j(e.y+e.height,i),h=l<s,c=u<o;return e.x=h&&s>n?l:s,e.y=c&&o>i?u:o,e.width=h?0:l-s,e.height=c?0:u-o,t<0&&(e.x+=e.width,e.width=-e.width),r<0&&(e.y+=e.height,e.height=-e.height),h||c},polar:function(a,e){var t=e.r0<=e.r?1:-1;if(t<0){var r=e.r;e.r=e.r0,e.r0=r}var n=j(e.r,a.r),i=z(e.r0,a.r0);e.r=n,e.r0=i;var s=n-i<0;if(t<0){var r=e.r;e.r=e.r0,e.r0=r}return s}},se={cartesian2d:function(a,e,t,r,n,i,s,l,o){var u=new K({shape:Ae({},r),z2:1});if(u.__dataIndex=t,u.name="item",i){var h=u.shape,c=n?"height":"width";h[c]=0}return u},polar:function(a,e,t,r,n,i,s,l,o){var u=!n&&o?ne:J,h=new u({shape:r,z2:1});h.name="item";var c=xe(n);if(h.calculateTextPosition=dt(c,{isRoundCap:u===ne}),i){var g=h.shape,v=n?"r":"endAngle",d={};g[v]=n?r.r0:r.startAngle,d[v]=r[v],(l?R:N)(h,{shape:d},i)}return h}};function yt(a,e){var t=a.get("realtimeSort",!0),r=e.getBaseAxis();if(t&&r.type==="category"&&e.type==="cartesian2d")return{baseAxis:r,otherAxis:e.getOtherAxis(r)}}function oe(a,e,t,r,n,i,s,l){var o,u;i?(u={x:r.x,width:r.width},o={y:r.y,height:r.height}):(u={y:r.y,height:r.height},o={x:r.x,width:r.width}),l||(s?R:N)(t,{shape:o},e,n,null);var h=e?a.baseAxis.model:null;(s?R:N)(t,{shape:u},h,n)}function le(a,e){for(var t=0;t<e.length;t++)if(!isFinite(a[e[t]]))return!0;return!1}var At=["x","y","width","height"],St=["cx","cy","r","startAngle","endAngle"],he={cartesian2d:function(a){return!le(a,At)},polar:function(a){return!le(a,St)}},F={cartesian2d:function(a,e,t){var r=a.getItemLayout(e),n=t?xt(t,r):0,i=r.width>0?1:-1,s=r.height>0?1:-1;return{x:r.x+i*n/2,y:r.y+s*n/2,width:r.width-i*n,height:r.height-s*n}},polar:function(a,e,t){var r=a.getItemLayout(e);return{cx:r.cx,cy:r.cy,r0:r.r0,r:r.r,startAngle:r.startAngle,endAngle:r.endAngle,clockwise:r.clockwise}}};function Dt(a){return a.startAngle!=null&&a.endAngle!=null&&a.startAngle===a.endAngle}function xe(a){return function(e){var t=e?"Arc":"Angle";return function(r){switch(r){case"start":case"insideStart":case"end":case"insideEnd":return r+t;default:return r}}}(a)}function ue(a,e,t,r,n,i,s,l){var o=e.getItemVisual(t,"style");if(l){if(!i.get("roundCap")){var h=a.shape,c=Ye(r.getModel("itemStyle"),h,!0);Ae(h,c),a.setShape(h)}}else{var u=r.get(["itemStyle","borderRadius"])||0;a.setShape("r",u)}a.useStyle(o);var g=r.getShallow("cursor");g&&a.attr("cursor",g);var v=l?s?n.r>=n.r0?"endArc":"startArc":n.endAngle>=n.startAngle?"endAngle":"startAngle":s?n.height>=0?"bottom":"top":n.width>=0?"right":"left",d=Ue(r);Xe(a,d,{labelFetcher:i,labelDataIndex:t,defaultText:nt(i.getData(),t),inheritColor:o.fill,defaultOpacity:o.opacity,defaultOutsidePosition:v});var f=a.getTextContent();if(l&&f){var p=r.get(["label","position"]);a.textConfig.inside=p==="middle"?!0:null,ft(a,p==="outside"?v:p,xe(s),r.get(["label","rotate"]))}ze(f,d,i.getRawValue(t),function(m){return it(e,m)});var S=r.getModel(["emphasis"]);je(a,S.get("focus"),S.get("blurScope"),S.get("disabled")),He(a,r),Dt(n)&&(a.style.fill="none",a.style.stroke="none",G(a.states,function(m){m.style&&(m.style.fill=m.style.stroke="none")}))}function xt(a,e){var t=a.get(["itemStyle","borderColor"]);if(!t||t==="none")return 0;var r=a.get(["itemStyle","borderWidth"])||0,n=isNaN(e.width)?Number.MAX_VALUE:Math.abs(e.width),i=isNaN(e.height)?Number.MAX_VALUE:Math.abs(e.height);return Math.min(r,n,i)}var bt=function(){function a(){}return a}(),ce=function(a){k(e,a);function e(t){var r=a.call(this,t)||this;return r.type="largeBar",r}return e.prototype.getDefaultShape=function(){return new bt},e.prototype.buildPath=function(t,r){for(var n=r.points,i=this.baseDimIdx,s=1-this.baseDimIdx,l=[],o=[],u=this.barWidth,h=0;h<n.length;h+=3)o[i]=u,o[s]=n[h+2],l[i]=n[h+i],l[s]=n[h+s],t.rect(l[0],l[1],o[0],o[1])},e}(ye);function ge(a,e,t,r){var n=a.getData(),i=n.getLayout("valueAxisHorizontal")?1:0,s=n.getLayout("largeDataIndices"),l=n.getLayout("size"),o=a.getModel("backgroundStyle"),u=n.getLayout("largeBackgroundPoints");if(u){var h=new ce({shape:{points:u},incremental:!!r,silent:!0,z2:0});h.baseDimIdx=i,h.largeDataIndices=s,h.barWidth=l,h.useStyle(o.getItemStyle()),e.add(h),t&&t.push(h)}var c=new ce({shape:{points:n.getLayout("largePoints")},incremental:!!r,ignoreCoarsePointer:!0,z2:1});c.baseDimIdx=i,c.largeDataIndices=s,c.barWidth=l,e.add(c),c.useStyle(n.getVisual("style")),c.style.stroke=null,Q(c).seriesIndex=a.seriesIndex,a.get("silent")||(c.on("mousedown",ve),c.on("mousemove",ve)),t&&t.push(c)}var ve=Ze(function(a){var e=this,t=_t(e,a.offsetX,a.offsetY);Q(e).dataIndex=t>=0?t:null},30,!1);function _t(a,e,t){for(var r=a.baseDimIdx,n=1-r,i=a.shape.points,s=a.largeDataIndices,l=[],o=[],u=a.barWidth,h=0,c=i.length/3;h<c;h++){var g=h*3;if(o[r]=u,o[n]=i[g+2],l[r]=i[g+r],l[n]=i[g+n],o[n]<0&&(l[n]+=o[n],o[n]=-o[n]),e>=l[0]&&e<=l[0]+o[0]&&t>=l[1]&&t<=l[1]+o[1])return s[h]}return-1}function be(a,e,t){if(De(t,"cartesian2d")){var r=e,n=t.getArea();return{x:a?r.x:n.x,y:a?n.y:r.y,width:a?r.width:n.width,height:a?n.height:r.height}}else{var n=t.getArea(),i=e;return{cx:n.cx,cy:n.cy,r0:a?n.r0:i.r0,r:a?n.r:i.r,startAngle:a?i.startAngle:0,endAngle:a?i.endAngle:Math.PI*2}}}function wt(a,e,t){var r=a.type==="polar"?J:K;return new r({shape:be(e,t,a),silent:!0,z2:0})}function It(a){a.registerChartView(mt),a.registerSeriesModel(gt),a.registerLayout(a.PRIORITY.VISUAL.LAYOUT,fe(Je,"bar")),a.registerLayout(a.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,qe("bar")),a.registerProcessor(a.PRIORITY.PROCESSOR.STATISTIC,ct("bar")),a.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(e,t){var r=e.componentType||"series";t.eachComponent({mainType:r,query:e},function(n){e.sortInfo&&n.axis.setCategorySortInfo(e.sortInfo)})})}export{H as B,ne as S,De as a,st as b,Se as c,ot as d,it as e,ct as f,nt as g,lt as h,It as i};
