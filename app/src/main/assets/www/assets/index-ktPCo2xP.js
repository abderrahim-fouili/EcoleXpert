import{g as P}from"./_commonjsHelpers-D6-XlEtG.js";import{r as x}from"./_curry1-CPMemvwC.js";import{r as R}from"./_isArrayLike-B3kKjEvQ.js";var v,d;function b(){if(d)return v;d=1;var c=R();function l(u){return function i(t){for(var s,a,r,e=[],n=0,f=t.length;n<f;){if(c(t[n]))for(s=u?i(t[n]):t[n],r=0,a=s.length;r<a;)e[e.length]=s[r],r+=1;else e[e.length]=t[n];n+=1}return e}}return v=l,v}var k,F;function j(){if(F)return k;F=1;var c=x(),l=b(),u=c(l(!0));return k=u,k}var L=j();const T=P(L);var m,_;function S(){if(_)return m;_=1;function c(u){return function(t){return t[u]}}function l(u){return u===Object(u)}return m=function(i,t){return Array.isArray(i)?i.map(c(t)):l(i)?i[t]:null},m}var h,A;function C(){if(A)return h;A=1;const c=".",l=/\[(.+)=(.+)\]/,u=/^\d+$/;function i(a){return a.trim()}function t(a){return a.split(c).map(i)}function s(a){const r=a.match(l);return r?{selector:a.slice(0,r.index),key:r[1],val:u.test(r[2])?parseInt(r[2],10):r[2]}:null}return h={parseSelector:t,parseFilter:s},h}var y,g;function E(){if(g)return y;g=1;const c=S(),l=C(),u=l.parseSelector,i=l.parseFilter;function t(r){return r===void 0}function s(r,e){return Array.isArray(r)?r.filter(n=>n[e.key]===e.val):r[e.key]===e.val?r:null}function a(r,e){if(!e.length)return r;let n=e[0],f=r;const p=i(n);if(p){if(f=s(r,p),!f||Array.isArray(f)&&!f.length)return null;n=p.selector}const o=c(f,n);return t(o)||Array.isArray(o)&&o.some(t)?null:a(o,e.slice(1))}return y=function(e,n){return a(e,u(n))},y}var q,D;function w(){return D||(D=1,q=E()),q}var I=w();const U=P(I);export{T as f,U as p};
