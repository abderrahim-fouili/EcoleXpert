import{_ as y,aY as x,b8 as w,cR as D,cS as v,b9 as V,bb as k,at as C,cT as U,cq as Q,a4 as r,S as o,a8 as e,a5 as a,a9 as u,aa as m,ab as n,R as L,ac as B,a6 as _,ay as b,ah as F,ad as T,av as z,a3 as E,aD as M}from"./index-Bl2lQPd7.js";import{Q as R}from"./QImg-BMvxJu3S.js";import{Q as j}from"./QToolbar-DR-_wX4W.js";import{Q as q}from"./QVideo-CbIcEHVn.js";import{C as I}from"./ClosePopup-BY_YGFBZ.js";import{g as N}from"./groupBy-BgHPVcz-.js";import{f as S}from"./index-Dx01H97j.js";import{f as A}from"./index-C9ZTL5MN.js";const O={data(){return{video:null,videoDialog:!1}},props:{devoirs:{type:Array,default:[]}},computed:{...C({user:"user/user",config:"user/config",current:"user/current",devoirsList:"devoirs/devoirs"}),baseUrl(){if(this.config.roles.eleve)return"/eleve/";if(this.config.roles.parent)return""},byDate(){return Q(N(s=>s.rendre_le,this.devoirs))},annee(){if(this.current&&this.current.hasOwnProperty("annee"))return this.current.annee}},methods:{isArabic:k,fileIcon:V,ytbUrls:v,imgFormVid:D,openURL:w,pjUrl:x,clearVids(t){let s=v(t);for(let d of s)t=t.replace(d[0],"");return t},playVideo(t){this.video=null,this.video="https://www.youtube.com/embed/"+U(t[0])+"?rel=0",this.videoDialog=!0},toDate(t){return A(S(t),"EEEE dd MMMM")},disc(t){for(var s=0;s<this.annee.profs.length;s++){let d=this.annee.profs[s];if(d.idpers===t.idpers&&d.disciplines.length)return d.disciplines[0]}return null},discip(t){let s=this.disc(t.prof);return s?s.description:null},color(t){let s=this.disc(t.prof);return s&&s.color?s.color:"#e2e2e2"}},mounted(){}},P={class:"conteneur-liste-CDT"},G={class:"liste-date",role:"list",tabindex:"-1"},Y={role:"listitem"},H={id:"TAF_BlocDate_19092022",tabindex:"-1"},J={class:"ie-titre-gros souligne",style:{"text-transform":"capitalize"}},K={class:"liste-element",role:"list"},W={role:"listitem"},X={class:"conteneur-item"},Z={class:"entete-element"},$={class:"flex-contain"},ee={class:"titre-matiere"},se={class:"ie-sous-titre"},te={class:"conteneur-descriptif"},ie={class:"m-bottom-l"},re={class:"entete-element titre-contenu"},oe={class:"titre-matiere"},le={class:"descriptif"},ae={style:{"font-family":"arial,helvetica,sans-serif","font-size":"11px"}},ne={class:"row"},de={key:0,class:"btnCours"},ce=["onClick"],ue={class:"full-width"};function fe(t,s,d,me,p,i){return o(),r(u,null,[e("div",P,[e("ul",G,[(o(!0),r(u,null,m(i.byDate,(f,pe)=>(o(),r("li",Y,[e("div",H,[e("h5",J,n(i.toDate(f.key)),1)]),e("ul",K,[(o(!0),r(u,null,m(f.data,(l,_e)=>(o(),r("li",W,[e("div",X,[e("div",Z,[e("div",$,[e("div",{style:B("background-color:"+i.color(l)+";margin-right:0.8rem;padding:0.2rem;border-radius:0.4rem;")},null,4),e("div",null,[e("div",ee,n(i.discip(l)),1),e("div",se,[e("div",null,n(l.prof.nom)+" "+n(l.prof.prenom),1)])])])]),e("div",te,[e("div",ie,[e("div",re,[e("div",null,[e("div",oe,n(l.objet),1)]),s[1]||(s[1]=e("div",null,[e("div",{tabindex:"0",class:"tag-style ie-chips OmbreFocus"},[e("div",{class:"text ie-ellipsis"},"LeÃ§on")])],-1))]),e("div",le,[e("div",ae,n(i.clearVids(l.descriptif)),1)])])]),e("div",ne,[(o(!0),r(u,null,m(i.ytbUrls(l.descriptif),(c,h)=>(o(),r("div",{key:"vid-"+h,class:"col-6 col-sm-4 col-md-3"},[a(R,{ratio:16/9,src:i.imgFormVid(c[0]),onClick:g=>i.playVideo(c)},{default:_(()=>[a(b,{class:"absolute-center all-pointer-events",size:"32px",name:"play_circle",color:"white"})]),_:2},1032,["src","onClick"])]))),128))]),l.fichiers.length?(o(),r("div",de,[(o(!0),r(u,null,m(l.fichiers,(c,h)=>(o(),r("div",null,[e("div",{outline:"",color:"grey-9",onClick:F(g=>i.openURL(i.pjUrl(c)),["stop"]),class:"ellipsis rounded-borders q-mb-xs q-pa-xs",style:{"max-width":"100%",display:"inline-block",border:"1px solid var(--q-primary)"}},[a(b,{name:"img:"+i.fileIcon(c.fichier),size:"14px"},null,8,["name"]),T(" "+n(c.fichier),1)],8,ce)]))),256))])):L("",!0)])]))),256))])]))),256))])]),a(M,{modelValue:p.videoDialog,"onUpdate:modelValue":s[0]||(s[0]=f=>p.videoDialog=f)},{default:_(()=>[a(j,{class:"text-white fixed-top"},{default:_(()=>[z(a(E,{flat:"",dense:"",icon:"arrow_back"},null,512),[[I]])]),_:1}),e("div",ue,[a(q,{src:p.video,ratio:16/9,frameborder:"0",allowfullscreen:"allowfullscreen"},null,8,["src"])])]),_:1},8,["modelValue"])],64)}const Ve=y(O,[["render",fe]]);export{Ve as L};
