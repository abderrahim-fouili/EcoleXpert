import{_ as g,B as h,a4 as d,S as u,a8 as t,R as b,ab as l,aS as _,aW as v,ac as y}from"./index-Bl2lQPd7.js";const x={class:"billet-excuse-report-wrapper"},D={class:"report-header"},S=["src"],w={class:"school-name"},N={class:"billet-info"},B={class:"info-grid"},C={class:"info-item"},I={class:"value student-name"},O={class:"info-item"},k={class:"value"},H={class:"info-item full-width"},A={class:"value"},E={class:"info-item full-width observation-section"},R={class:"observation-box",style:{display:"flex","justify-content":"center",padding:"20px"}},T=["src"],U={class:"report-footer"},j={class:"date-issued"},q={class:"value"},z={__name:"BilletExcuseReport",props:{billet:{type:Object,required:!0,default:()=>({studentName:"N/A Prénom Nom (CODE)",studentClass:"N/A Classe",date_billet:new Date().toISOString(),observation:"Motif non spécifié."})},schoolInfo:{type:Object,required:!0,default:()=>({name:"Nom de l'École",logoUrl:null})},currentDate:{type:String,default:()=>new Date().toISOString()},reportWidth:{type:String,default:"76mm"},reportHeight:{type:String,default:"auto"}},setup(s){const a=s,f=h(()=>({width:a.reportWidth,minHeight:a.reportHeight==="auto"?"90mm":a.reportHeight,padding:"4mm",boxSizing:"border-box",fontFamily:'"Arial", "Helvetica", sans-serif',fontSize:"9pt",lineHeight:"1.3",color:"#000000",backgroundColor:"#ffffff",border:"0.5px solid #b0b0b0",margin:"0 auto",pageBreakAfter:"always",display:"flex",flexDirection:"column"})),r=(o,e=!1)=>{if(!o)return"N/A";try{const n=new Date(o),m={day:"2-digit",month:"2-digit",year:"numeric"};let c=n.toLocaleDateString("fr-FR",m);if(e){const p={hour:"2-digit",minute:"2-digit"},i=o.split("T")[1];i&&i!=="00:00:00.000Z"&&i!=="00:00:00.000000Z"&&i!=="00:00:00"&&(c+=` à ${n.toLocaleTimeString("fr-FR",p)}`)}return c}catch{return typeof o=="string"&&o.includes("T")?o.replace("T"," ").substring(0,16):String(o)}};return(o,e)=>(u(),d("div",x,[t("div",{class:"billet-excuse-report",style:y(f.value)},[t("header",D,[s.schoolInfo.logoUrl?(u(),d("img",{key:0,src:s.schoolInfo.logoUrl,alt:"School Logo",class:"logo",crossorigin:"anonymous"},null,8,S)):b("",!0),t("h1",w,l(s.schoolInfo.name),1),e[0]||(e[0]=t("h2",{class:"report-title"},"Billet d'Excuse",-1))]),t("section",N,[t("div",B,[t("div",C,[e[1]||(e[1]=t("span",{class:"label"},"Élève:",-1)),t("span",I,l(s.billet.studentName),1)]),t("div",O,[e[2]||(e[2]=t("span",{class:"label"},"Classe:",-1)),t("span",k,l(s.billet.studentClass),1)]),t("div",H,[e[3]||(e[3]=t("span",{class:"label"},"Date du billet:",-1)),t("span",A,l(r(s.billet.date_billet,!0)),1)])]),t("div",E,[t("div",R,[t("img",{src:_(v)("api/qr-sortie?eleve="+s.billet.studentId+"&_="+new Date().getTime()),style:{width:"100%"}},null,8,T)])])]),t("footer",U,[t("div",j,[e[4]||(e[4]=t("span",{class:"label"},"Délivré le:",-1)),t("span",q,l(r(s.currentDate,!1)),1)])])],4)]))}},L=g(z,[["__scopeId","data-v-4a9884b0"]]);export{L as default};
