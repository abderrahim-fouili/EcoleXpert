import{Q as w}from"./QSpace-CKKoNTi_.js";import{_ as Q,as as y,at as b,aB as C,aW as D,Q as _,S as f,a6 as a,a5 as e,aF as c,av as m,a3 as S,ax as h,a7 as g,a8 as v,ad as n,ab as s,b6 as P,a4 as N,a9 as U,aa as V,aw as L,aE as A,aM as O,R as E,ay as p}from"./index-Bl2lQPd7.js";import{Q as d,a as r}from"./QItem-De3v03wU.js";import{Q as I}from"./QImg-BMvxJu3S.js";import{Q as u}from"./QItemLabel-BkJiB6aE.js";import{Q as F}from"./QList-CMzNTEGD.js";import{C as k}from"./ClosePopup-BY_YGFBZ.js";const R={data(){return{}},computed:{...b({user:"user/user",config:"user/config",current:"user/current",accs:"eleve/accs"}),eleve(){if(this.current&&this.current.hasOwnProperty("eleve"))return this.current.eleve},annee(){if(this.current&&this.current.hasOwnProperty("annee"))return this.current.annee},qr(){return D("api/qr-sortie?eleve="+this.eleve.idpers+"&_="+new Date().getTime())}},methods:{...y({getData:"eleve/getAccs"}),personAvatar(t){return C(t)}},mounted(){this.getData(this.eleve.idpers)}},T=["src"],$=["src"];function j(t,i,x,B,q,l){return f(),_(A,{style:{width:"100vw"}},{default:a(()=>[e(c,{class:"row"},{default:a(()=>[e(w),m(e(S,{icon:"close",flat:"",round:"",dense:""},null,512),[[k]])]),_:1}),e(h),e(c,null,{default:a(()=>[e(d,null,{default:a(()=>[e(r,{avatar:""},{default:a(()=>[e(g,null,{default:a(()=>[v("img",{src:l.personAvatar(l.eleve)},null,8,T)]),_:1})]),_:1}),e(r,{class:"text-bold"},{default:a(()=>[n(s(l.eleve.nom)+" "+s(l.eleve.prenom),1)]),_:1})]),_:1}),e(d,null,{default:a(()=>[e(r,{avatar:""},{default:a(()=>i[0]||(i[0]=[n("Classe: ")])),_:1}),e(r,{class:"text-bold"},{default:a(()=>[n(s(l.annee.pivot.classes.classe_fr),1)]),_:1})]),_:1})]),_:1}),e(h),e(c,{class:"flex items-center justify-center p-16 bg-white"},{default:a(()=>[m(e(I,{src:l.qr,style:{"max-width":"400px",width:"100%"}},null,8,["src"]),[[P,l.qr]])]),_:1}),e(F,{bordered:""},{default:a(()=>[e(u,{header:"",style:{"font-size":"1.5rem"}},{default:a(()=>i[1]||(i[1]=[n("Accompagnants")])),_:1}),(f(!0),N(U,null,V(t.accs,o=>m((f(),_(d,{key:o.idpers,class:"q-mb-sm",clickable:""},{default:a(()=>[e(r,{avatar:""},{default:a(()=>[e(g,null,{default:a(()=>[v("img",{src:l.personAvatar(o.personnes)},null,8,$)]),_:2},1024)]),_:2},1024),e(r,null,{default:a(()=>[e(u,null,{default:a(()=>[n(s(o.personnes.nom)+" "+s(o.personnes.prenom),1)]),_:2},1024),e(u,{caption:"",lines:"1"},{default:a(()=>[n(s(o.personnes.code),1)]),_:2},1024)]),_:2},1024),e(r,{side:""},{default:a(()=>[e(u,{caption:"",lines:"1"},{default:a(()=>[n(s(o.presentation),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)),[[L]])),128))]),_:1})]),_:1})}const ee=Q(R,[["render",j]]),z={computed:{...b({user:"user/user",config:"user/config",current:"user/current",ecole:"ecole/info"}),annee(){if(this.current&&this.current.hasOwnProperty("annee"))return this.current.annee}},methods:{...y({getInfo:"ecole/getInfo"}),photoUrl:O,personAvatar(t){return C(t)}},mounted(){this.ecole||this.getInfo()}},G={class:"text-h5"};function M(t,i,x,B,q,l){return t.ecole?(f(),_(A,{key:0,style:{width:"100vw"}},{default:a(()=>[e(c,{class:"row"},{default:a(()=>[e(w),m(e(S,{icon:"close",flat:"",round:"",dense:""},null,512),[[k]])]),_:1}),e(h),e(c,{class:"text-center"},{default:a(()=>[e(I,{src:l.photoUrl(t.ecole.logo),style:{"max-width":"50%"}},null,8,["src"])]),_:1}),e(c,{class:"text-center"},{default:a(()=>[v("span",G,s(t.ecole.description),1)]),_:1}),e(d,null,{default:a(()=>[e(r,{avatar:""},{default:a(()=>[e(p,{name:"place"})]),_:1}),e(r,null,{default:a(()=>[e(u,null,{default:a(()=>[n(s(t.ecole.adresse),1)]),_:1})]),_:1})]),_:1}),e(d,{href:"tel:"+t.ecole.telephone},{default:a(()=>[e(r,{avatar:""},{default:a(()=>[e(p,{name:"phone"})]),_:1}),e(r,null,{default:a(()=>[e(u,null,{default:a(()=>[n(s(t.ecole.telephone),1)]),_:1})]),_:1})]),_:1},8,["href"]),e(d,{href:"mailto:"+t.ecole.email},{default:a(()=>[e(r,{avatar:""},{default:a(()=>[e(p,{name:"email"})]),_:1}),e(r,null,{default:a(()=>[e(u,null,{default:a(()=>[n(s(t.ecole.email),1)]),_:1})]),_:1})]),_:1},8,["href"])]),_:1})):E("",!0)}const ae=Q(z,[["render",M]]);export{ae as C,ee as S};
